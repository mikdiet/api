<!DOCTYPE html>
<html lang="en">
<head>
    <title>CHANGELOG.md</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='[]'>

</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            CHANGELOG.md
        </h2>
        <ul class="files">
            
            <li>
                rails/actionview/CHANGELOG.md
                
                    <a href="https://github.com/rails/rails/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/actionview/CHANGELOG.md" target="_blank" class="github_url">on GitHub</a>
                
            </li>
            <li>Last modified: 2024-05-24 23:57:10 +0300</li>
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h2 id="label-Rails+7.0.8.3+-28May+17-2C+2024-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.8.3 (May 17, 2024)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.8.2+-28May+16-2C+2024-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.8.2 (May 16, 2024)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.8.1+-28February+21-2C+2024-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.8.1 (February 21, 2024)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.8+-28September+09-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.8 (September 09, 2023)</h2>
<ul><li>
<p>Fix <code>form_for</code> missing the hidden <code>_method</code> input for models with a namespaced route.</p>

<p><em>Hartley McGuire</em></p>
</li><li>
<p>Fix <code>render collection: @records, cache: true</code> inside <code>jbuilder</code> templates</p>

<p>The previous fix that shipped in <code>7.0.7</code> assumed template fragments are always strings, this isn't true with <code>jbuilder</code>.</p>

<p><em>Jean Boussier</em></p>
</li></ul>

<h2 id="label-Rails+7.0.7.2+-28August+22-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.7.2 (August 22, 2023)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.7.1+-28August+22-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.7.1 (August 22, 2023)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.7+-28August+09-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.7 (August 09, 2023)</h2>
<ul><li>
<p>Fix <code>render collection: @records, cache: true</code> to cache fragments as bare strings</p>

<p>Previously it would incorrectly cache them as Action View buffers.</p>

<p><em>Jean Boussier</em></p>
</li><li>
<p>Don't double-encode nested <code>field_id</code> and <code>field_name</code> index values</p>

<p>Pass <code>index: @options</code> as a default keyword argument to <code>field_id</code> and <code>field_name</code> view helper methods.</p>

<p><em>Sean Doyle</em></p>
</li></ul>

<h2 id="label-Rails+7.0.6+-28June+29-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.6 (June 29, 2023)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.5.1+-28June+26-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.5.1 (June 26, 2023)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.5+-28May+24-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.5 (May 24, 2023)</h2>
<ul><li>
<p><code>FormBuilder#id</code> finds id set by <code>form_for</code> and <code>form_with</code>.</p>

<p><em>Matt Polito</em></p>
</li><li>
<p>Allow all available locales for template lookups.</p>

<p><em>Ben Dilley</em></p>
</li><li>
<p>Choices of <code>select</code> can optionally contain html attributes as the last element of the child arrays when using grouped/nested collections</p>

<pre><code>&lt;%= form.select :foo, [[&quot;North America&quot;, [[&quot;United States&quot;,&quot;US&quot;],[&quot;Canada&quot;,&quot;CA&quot;]], { disabled: &quot;disabled&quot; }]] %&gt;
# =&gt; &lt;select&gt;&lt;optgroup label=&quot;North America&quot; disabled=&quot;disabled&quot;&gt;&lt;option value=&quot;US&quot;&gt;United States&lt;/option&gt;&lt;option value=&quot;CA&quot;&gt;Canada&lt;/option&gt;&lt;/optgroup&gt;&lt;/select&gt;
</code></pre>

<p><em>Chris Gunther</em></p>
</li></ul>

<h2 id="label-Rails+7.0.4.3+-28March+13-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.4.3 (March 13, 2023)</h2>
<ul><li>
<p>Ignore certain data-* attributes in rails-ujs when element is contenteditable</p>

<p>[CVE-2023-23913]</p>
</li></ul>

<h2 id="label-Rails+7.0.4.2+-28January+24-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.4.2 (January 24, 2023)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.4.1+-28January+17-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.4.1 (January 17, 2023)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.4+-28September+09-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.4 (September 09, 2022)</h2>
<ul><li>
<p>Guard against <code>ActionView::Helpers::FormTagHelper#field_name</code> calls with nil <code>object_name</code> arguments. For example:</p>

<pre><code>&lt;%= fields do |f| %&gt;
  &lt;%= f.field_name :body %&gt;
&lt;% end %&gt;
</code></pre>

<p><em>Sean Doyle</em></p>
</li><li>
<p>Strings returned from <code>strip_tags</code> are correctly tagged <code>html_safe?</code></p>

<p>Because these strings contain no HTML elements and the basic entities are escaped, they are safe to be included as-is as PCDATA in HTML content. Tagging them as html-safe avoids double-escaping entities when being concatenated to a SafeBuffer during rendering.</p>

<p>Fixes <a href="https://github.com/rails/rails-html-sanitizer/issues/124">rails/rails-html-sanitizer#124</a></p>

<p><em>Mike Dalessio</em></p>
</li></ul>

<h2 id="label-Rails+7.0.3.1+-28July+12-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.3.1 (July 12, 2022)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.3+-28May+09-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.3 (May 09, 2022)</h2>
<ul><li>
<p>Ensure models passed to <code>form_for</code> attempt to call <code>to_model</code>.</p>

<p><em>Sean Doyle</em></p>
</li></ul>

<h2 id="label-Rails+7.0.2.4+-28April+26-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.2.4 (April 26, 2022)</h2>
<ul><li>
<p>Fix and add protections for XSS in <code>ActionView::Helpers</code> and <code>ERB::Util</code>.</p>

<p>Escape dangerous characters in names of tags and names of attributes in the tag helpers, following the XML specification. Rename the option <code>:escape_attributes</code> to <code>:escape</code>, to simplify by applying the option to the whole tag.</p>

<p><em>Álvaro Martín Fraguas</em></p>
</li></ul>

<h2 id="label-Rails+7.0.2.3+-28March+08-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.2.3 (March 08, 2022)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.2.2+-28February+11-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.2.2 (February 11, 2022)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.2.1+-28February+11-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.2.1 (February 11, 2022)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.2+-28February+08-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.2 (February 08, 2022)</h2>
<ul><li>
<p>Ensure <code>preload_link_tag</code> preloads JavaScript modules correctly.</p>

<p><em>Máximo Mussini</em></p>
</li><li>
<p>Fix <code>stylesheet_link_tag</code> and similar helpers are being used to work in objects with a <code>response</code> method.</p>

<p><em>dark-panda</em></p>
</li></ul>

<h2 id="label-Rails+7.0.1+-28January+06-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.1 (January 06, 2022)</h2>
<ul><li>
<p>Fix <code>button_to</code> to work with a hash parameter as URL.</p>

<p><em>MingyuanQin</em></p>
</li><li>
<p>Fix <code>link_to</code> with a model passed as an argument twice.</p>

<p><em>Alex Ghiculescu</em></p>
</li></ul>

<h2 id="label-Rails+7.0.0+-28December+15-2C+2021-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.0 (December 15, 2021)</h2>
<ul><li>
<p>Support <code>include_hidden:</code> option in calls to <code>ActionView::Helper::FormBuilder#file_field</code> with <code>multiple: true</code> to support submitting an empty collection of files.</p>

<pre><code>form.file_field :attachments, multiple: true
# =&gt; &lt;input type=&quot;hidden&quot; autocomplete=&quot;off&quot; name=&quot;post[attachments][]&quot; value=&quot;&quot;&gt;
     &lt;input type=&quot;file&quot; multiple=&quot;multiple&quot; id=&quot;post_attachments&quot; name=&quot;post[attachments][]&quot;&gt;

form.file_field :attachments, multiple: true, include_hidden: false
# =&gt; &lt;input type=&quot;file&quot; multiple=&quot;multiple&quot; id=&quot;post_attachments&quot; name=&quot;post[attachments][]&quot;&gt;
</code></pre>

<p><em>Sean Doyle</em></p>
</li><li>
<p>Fix <code>number_with_precision(raise: true)</code> always raising even on valid numbers.</p>

<p><em>Pedro Moreira</em></p>
</li></ul>

<h2 id="label-Rails+7.0.0.rc3+-28December+14-2C+2021-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.0.rc3 (December 14, 2021)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.0.rc2+-28December+14-2C+2021-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.0.rc2 (December 14, 2021)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.0.rc1+-28December+06-2C+2021-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.0.rc1 (December 06, 2021)</h2>
<ul><li>
<p>Support <code>fields model: [@nested, @model]</code> the same way as <code>form_with model: [@nested, @model]</code>.</p>

<p><em>Sean Doyle</em></p>
</li><li>
<p>Infer HTTP verb <code>[method]</code> from a model or <a href="../../../classes/Array.html"><code>Array</code></a> with model as the first argument to <code>button_to</code> when combined with a block:</p>

<pre><code>button_to(Workshop.find(1)){ &quot;Update&quot; }
#=&gt; &lt;form method=&quot;post&quot; action=&quot;/workshops/1&quot; class=&quot;button_to&quot;&gt;
#=&gt;   &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;patch&quot; autocomplete=&quot;off&quot; /&gt;
#=&gt;   &lt;button type=&quot;submit&quot;&gt;Update&lt;/button&gt;
#=&gt; &lt;/form&gt;

button_to([ Workshop.find(1), Session.find(1) ]) { &quot;Update&quot; }
#=&gt; &lt;form method=&quot;post&quot; action=&quot;/workshops/1/sessions/1&quot; class=&quot;button_to&quot;&gt;
#=&gt;   &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;patch&quot; autocomplete=&quot;off&quot; /&gt;
#=&gt;   &lt;button type=&quot;submit&quot;&gt;Update&lt;/button&gt;
#=&gt; &lt;/form&gt;
</code></pre>

<p><em>Sean Doyle</em></p>
</li><li>
<p>Support passing a <a href="../../../classes/Symbol.html"><code>Symbol</code></a> as the first argument to <code>FormBuilder#button</code>:</p>

<pre><code>form.button(:draft, value: true)
# =&gt; &lt;button name=&quot;post[draft]&quot; value=&quot;true&quot; type=&quot;submit&quot;&gt;Create post&lt;/button&gt;

form.button(:draft, value: true) do
  content_tag(:strong, &quot;Save as draft&quot;)
end
# =&gt;  &lt;button name=&quot;post[draft]&quot; value=&quot;true&quot; type=&quot;submit&quot;&gt;
#       &lt;strong&gt;Save as draft&lt;/strong&gt;
#     &lt;/button&gt;
</code></pre>

<p><em>Sean Doyle</em></p>
</li><li>
<p>Introduce the <code>field_name</code> view helper, along with the <code>FormBuilder#field_name</code> counterpart:</p>

<pre><code>form_for @post do |f|
  f.field_tag :tag, name: f.field_name(:tag, multiple: true)
  # =&gt; &lt;input type=&quot;text&quot; name=&quot;post[tag][]&quot;&gt;
end
</code></pre>

<p><em>Sean Doyle</em></p>
</li><li>
<p>Execute the <code>ActionView::Base.field_error_proc</code> within the context of the <code>ActionView::Base</code> instance:</p>

<pre><code>config.action_view.field_error_proc = proc { |html| content_tag(:div, html, class: &quot;field_with_errors&quot;) }
</code></pre>

<p><em>Sean Doyle</em></p>
</li><li>
<p>Add support for <code>button_to ..., authenticity_token: false</code></p>

<pre><code>button_to &quot;Create&quot;, Post.new, authenticity_token: false
# =&gt; &lt;form class=&quot;button_to&quot; method=&quot;post&quot; action=&quot;/posts&quot;&gt;&lt;button type=&quot;submit&quot;&gt;Create&lt;/button&gt;&lt;/form&gt;

button_to &quot;Create&quot;, Post.new, authenticity_token: true
# =&gt; &lt;form class=&quot;button_to&quot; method=&quot;post&quot; action=&quot;/posts&quot;&gt;&lt;button type=&quot;submit&quot;&gt;Create&lt;/button&gt;&lt;input type=&quot;hidden&quot; name=&quot;form_token&quot; value=&quot;abc123...&quot; autocomplete=&quot;off&quot; /&gt;&lt;/form&gt;

button_to &quot;Create&quot;, Post.new, authenticity_token: &quot;secret&quot;
# =&gt; &lt;form class=&quot;button_to&quot; method=&quot;post&quot; action=&quot;/posts&quot;&gt;&lt;button type=&quot;submit&quot;&gt;Create&lt;/button&gt;&lt;input type=&quot;hidden&quot; name=&quot;form_token&quot; value=&quot;secret&quot; autocomplete=&quot;off&quot; /&gt;&lt;/form&gt;
</code></pre>

<p><em>Sean Doyle</em></p>
</li><li>
<p>Support rendering <code>&lt;form&gt;</code> elements <em>without</em> <code>[action]</code> attributes by:</p>
<ul><li>
<p><code>form_with url: false</code> or <code>form_with ..., html: { action: false }</code></p>
</li><li>
<p><code>form_for ..., url: false</code> or <code>form_for ..., html: { action: false }</code></p>
</li><li>
<p><code>form_tag false</code> or <code>form_tag ..., action: false</code></p>
</li><li>
<p><code>button_to &quot;...&quot;, false</code> or <code>button_to(false) { ... }</code></p>
</li></ul>

<p><em>Sean Doyle</em></p>
</li><li>
<p>Add <code>:day_format</code> option to <code>date_select</code></p>

<pre><code>date_select(&quot;article&quot;, &quot;written_on&quot;, day_format: -&gt;(day) { day.ordinalize })
# generates day options like &lt;option value=&quot;1&quot;&gt;1st&lt;/option&gt;\n&lt;option value=&quot;2&quot;&gt;2nd&lt;/option&gt;...
</code></pre>

<p><em>Shunichi Ikegami</em></p>
</li><li>
<p>Allow <code>link_to</code> helper to infer link name from <code>Model#to_s</code> when it is used with a single argument:</p>

<pre><code>link_to @profile
#=&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Eileen&lt;/a&gt;
</code></pre>

<p>This assumes the model class implements a <code>to_s</code> method like this:</p>

<pre><code>class Profile &lt; ApplicationRecord
  # ...
  def to_s
    name
  end
end
</code></pre>

<p>Previously you had to supply a second argument even if the <code>Profile</code> model implemented a <code>#to_s</code> method that called the <code>name</code> method.</p>

<pre><code>link_to @profile, @profile.name
#=&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Eileen&lt;/a&gt;
</code></pre>

<p><em>Olivier Lacan</em></p>
</li><li>
<p>Support svg unpaired tags for <code>tag</code> helper.</p>

<pre><code>tag.svg { tag.use(&#39;href&#39; =&gt; &quot;#cool-icon&quot;) }
# =&gt; &lt;svg&gt;&lt;use href=&quot;#cool-icon&quot;&gt;&lt;/svg&gt;
</code></pre>

<p><em>Oleksii Vasyliev</em></p>
</li></ul>

<h2 id="label-Rails+7.0.0.alpha2+-28September+15-2C+2021-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.0.alpha2 (September 15, 2021)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.0.alpha1+-28September+15-2C+2021-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.0.alpha1 (September 15, 2021)</h2>
<ul><li>
<p>Improves the performance of <a href="../../../classes/ActionView/Helpers/NumberHelper.html"><code>ActionView::Helpers::NumberHelper</code></a> formatters by avoiding the use of exceptions as flow control.</p>

<p><em>Mike Dalessio</em></p>
</li><li>
<p><code>preload_link_tag</code> properly inserts <code>as</code> attributes for files with <code>image</code> MIME types, such as JPG or SVG.</p>

<p><em>Nate Berkopec</em></p>
</li><li>
<p>Add <code>weekday_options_for_select</code> and <code>weekday_select</code> helper methods. Also adds <code>weekday_select</code> to <code>FormBuilder</code>.</p>

<p><em>Drew Bragg</em>, <em>Dana Kashubeck</em>, <em>Kasper Timm Hansen</em></p>
</li><li>
<p>Add <code>caching?</code> helper that returns whether the current code path is being cached and <code>uncacheable!</code> to denote helper methods that can't participate in fragment caching.</p>

<p><em>Ben Toews</em>, <em>John Hawthorn</em>, <em>Kasper Timm Hansen</em>, <em>Joel Hawksley</em></p>
</li><li>
<p>Add <code>include_seconds</code> option for <code>time_field</code>.</p>

<pre><code>&lt;%= form.time_field :foo, include_seconds: false %&gt;
# =&gt; &lt;input value=&quot;16:22&quot; type=&quot;time&quot; /&gt;
</code></pre>

<p>Default includes seconds:</p>

<pre><code>&lt;%= form.time_field :foo %&gt;
# =&gt; &lt;input value=&quot;16:22:01.440&quot; type=&quot;time&quot; /&gt;
</code></pre>

<p>This allows you to take advantage of <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/time#time_value_format">different rendering options</a> in some browsers.</p>

<p><em>Alex Ghiculescu</em></p>
</li><li>
<p>Improve error messages when template file does not exist at absolute filepath.</p>

<p><em>Ted Whang</em></p>
</li><li>
<p>Add <code>:country_code</code> option to <code>sms_to</code> for consistency with <code>phone_to</code>.</p>

<p><em>Jonathan Hefner</em></p>
</li><li>
<p>OpenSSL constants are now used for <a href="../../../classes/Digest.html"><code>Digest</code></a> computations.</p>

<p><em>Dirkjan Bussink</em></p>
</li><li>
<p>The <code>translate</code> helper now passes <code>default</code> values that aren't translation keys through <code>I18n.translate</code> for interpolation.</p>

<p><em>Jonathan Hefner</em></p>
</li><li>
<p>Adds option <code>extname</code> to <code>stylesheet_link_tag</code> to skip default <code>.css</code> extension appended to the stylesheet path.</p>

<p>Before:</p>

<pre><code>stylesheet_link_tag &quot;style.less&quot;
# &lt;link href=&quot;/stylesheets/style.less.scss&quot; rel=&quot;stylesheet&quot;&gt;
</code></pre>

<p>After:</p>

<pre><code>stylesheet_link_tag &quot;style.less&quot;, extname: false, skip_pipeline: true, rel: &quot;stylesheet/less&quot;
# &lt;link href=&quot;/stylesheets/style.less&quot; rel=&quot;stylesheet/less&quot;&gt;
</code></pre>

<p><em>Abhay Nikam</em></p>
</li><li>
<p>Deprecate <code>render</code> locals to be assigned to instance variables.</p>

<p><em>Petrik de Heus</em></p>
</li><li>
<p>Remove legacy default <code>media=screen</code> from <code>stylesheet_link_tag</code>.</p>

<p><em>André Luis Leal Cardoso Junior</em></p>
</li><li>
<p>Change <code>ActionView::Helpers::FormBuilder#button</code> to transform <code>formmethod</code> attributes into <code>_method=&quot;$VERB&quot;</code> Form Data to enable varied same-form actions:</p>

<pre><code>&lt;%= form_with model: post, method: :put do %&gt;
  &lt;%= form.button &quot;Update&quot; %&gt;
  &lt;%= form.button &quot;Delete&quot;, formmethod: :delete %&gt;
&lt;% end %&gt;
&lt;%# =&gt; &lt;form action=&quot;posts/1&quot;&gt;
    =&gt;   &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;put&quot;&gt;
    =&gt;   &lt;button type=&quot;submit&quot;&gt;Update&lt;/button&gt;
    =&gt;   &lt;button type=&quot;submit&quot; formmethod=&quot;post&quot; name=&quot;_method&quot; value=&quot;delete&quot;&gt;Delete&lt;/button&gt;
    =&gt; &lt;/form&gt;
%&gt;
</code></pre>

<p><em>Sean Doyle</em></p>
</li><li>
<p>Change <code>ActionView::Helpers::UrlHelper#button_to</code> to <em>always</em> render a <code>&lt;button&gt;</code> element, regardless of whether or not the content is passed as the first argument or as a block.</p>

<pre><code>&lt;%= button_to &quot;Delete&quot;, post_path(@post), method: :delete %&gt;
# =&gt; &lt;form action=&quot;/posts/1&quot;&gt;&lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot;&gt;&lt;button type=&quot;submit&quot;&gt;Delete&lt;/button&gt;&lt;/form&gt;

&lt;%= button_to post_path(@post), method: :delete do %&gt;
  Delete
&lt;% end %&gt;
# =&gt; &lt;form action=&quot;/posts/1&quot;&gt;&lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot;&gt;&lt;button type=&quot;submit&quot;&gt;Delete&lt;/button&gt;&lt;/form&gt;
</code></pre>

<p><em>Sean Doyle</em>, <em>Dusan Orlovic</em></p>
</li><li>
<p>Add <code>config.action_view.preload_links_header</code> to allow disabling of the <code>Link</code> header being added by default when using <code>stylesheet_link_tag</code> and <code>javascript_include_tag</code>.</p>

<p><em>Andrew White</em></p>
</li><li>
<p>The <code>translate</code> helper now resolves <code>default</code> values when a <code>nil</code> key is specified, instead of always returning <code>nil</code>.</p>

<p><em>Jonathan Hefner</em></p>
</li><li>
<p>Add <code>config.action_view.image_loading</code> to configure the default value of the <code>image_tag</code> <code>:loading</code> option.</p>

<p>By setting <code>config.action_view.image_loading = &quot;lazy&quot;</code>, an application can opt in to lazy loading images sitewide, without changing view code.</p>

<p><em>Jonathan Hefner</em></p>
</li><li>
<p><code>ActionView::Helpers::FormBuilder#id</code> returns the value of the <code>&lt;form&gt;</code> element’s <code>id</code> attribute. With a <code>method</code> argument, returns the <code>id</code> attribute for a form field with that name.</p>

<pre><code>&lt;%= form_for @post do |f| %&gt;
  &lt;%# ... %&gt;

  &lt;% content_for :sticky_footer do %&gt;
    &lt;%= form.button(form: f.id) %&gt;
  &lt;% end %&gt;
&lt;% end %&gt;
</code></pre>

<p><em>Sean Doyle</em></p>
</li><li>
<p><code>ActionView::Helpers::FormBuilder#field_id</code> returns the value generated by the FormBuilder for the given attribute name.</p>

<pre><code>&lt;%= form_for @post do |f| %&gt;
  &lt;%= f.label :title %&gt;
  &lt;%= f.text_field :title, aria: { describedby: f.field_id(:title, :error) } %&gt;
  &lt;%= tag.span(&quot;is blank&quot;, id: f.field_id(:title, :error) %&gt;
&lt;% end %&gt;
</code></pre>

<p><em>Sean Doyle</em></p>
</li><li>
<p>Add <code>tag.attributes</code> to transform a <a href="../../../classes/Hash.html"><code>Hash</code></a> into HTML Attributes, ready to be interpolated into <a href="../../../classes/ERB.html"><code>ERB</code></a>.</p>

<pre><code>&lt;input &lt;%= tag.attributes(type: :text, aria: { label: &quot;Search&quot; }) %&gt; &gt;
# =&gt; &lt;input type=&quot;text&quot; aria-label=&quot;Search&quot;&gt;
</code></pre>

<p><em>Sean Doyle</em></p>
</li></ul>

<p>Please check <a href="https://github.com/rails/rails/blob/6-1-stable/actionview/CHANGELOG.md">6-1-stable</a> for previous changes.</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </main>
  </body>
</html>
