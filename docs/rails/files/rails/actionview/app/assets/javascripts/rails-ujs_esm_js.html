<!DOCTYPE html>
<html lang="en">
<head>
    <title>rails-ujs.esm.js</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='[]'>

</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            rails-ujs.esm.js
        </h2>
        <ul class="files">
            
            <li>
                rails/actionview/app/assets/javascripts/rails-ujs.esm.js
                
                    <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actionview/app/assets/javascripts/rails-ujs.esm.js" target="_blank" class="github_url">on GitHub</a>
                
            </li>
            <li>Last modified: 2024-06-28 01:29:16 +0300</li>
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>/* Unobtrusive JavaScript <a href="https://github.com/rails/rails/blob/main/actionview/app/javascript">github.com/rails/rails/blob/main/actionview/app/javascript</a> Released under the MIT license</p>

<pre><code>*/
</code></pre>

<p>const linkClickSelector = “<a href="data-confirm">a</a>, <a href="data-method">a</a>, <a href="data-remote">a</a>:<a href="disabled">not(</a>), <a href="data-disable-with">a</a>, <a href="data-disable">a</a>”;</p>

<p>const buttonClickSelector = {</p>

<pre><code>selector: &quot;button[data-remote]:not([form]), button[data-confirm]:not([form])&quot;,
exclude: &quot;form button&quot;
</code></pre>

<p>};</p>

<p>const inputChangeSelector = “<a href="data-remote">select</a>, <a href="data-remote">input</a>, <a href="data-remote">textarea</a>”;</p>

<p>const formSubmitSelector = “<a href="data-turbo=true">form:not(</a>)”;</p>

<p>const formInputClickSelector = “<a href="data-turbo=true">form:not(</a>) <a href="type=submit">input</a>, <a href="data-turbo=true">form:not(</a>) <a href="type=image">input</a>, <a href="data-turbo=true">form:not(</a>) <a href="type=submit">button</a>, <a href="data-turbo=true">form:not(</a>) <a href="type">button:not(</a>), <a href="type=submit">input</a>[form], <a href="type=image">input</a>[form], <a href="type=submit">button</a>[form], <a href="form">button</a>:<a href="type">not(</a>)”;</p>

<p>const formDisableSelector = “<a href="data-disable-with">input</a>:enabled, <a href="data-disable-with">button</a>:enabled, <a href="data-disable-with">textarea</a>:enabled, <a href="data-disable">input</a>:enabled, <a href="data-disable">button</a>:enabled, <a href="data-disable">textarea</a>:enabled”;</p>

<p>const formEnableSelector = “<a href="data-disable-with">input</a>:disabled, <a href="data-disable-with">button</a>:disabled, <a href="data-disable-with">textarea</a>:disabled, <a href="data-disable">input</a>:disabled, <a href="data-disable">button</a>:disabled, <a href="data-disable">textarea</a>:disabled”;</p>

<p>const fileInputSelector = “<a href="name">input</a>[<a href="disabled">type=file]:not(</a>)”;</p>

<p>const linkDisableSelector = “<a href="data-disable-with">a</a>, <a href="data-disable">a</a>”;</p>

<p>const buttonDisableSelector = “<a href="data-remote">button</a>[data-disable-with], <a href="data-remote">button</a>[data-disable]”;</p>

<p>let nonce = null;</p>

<p>const loadCSPNonce = () =&gt; {</p>

<pre><code>const metaTag = document.querySelector(&quot;meta[name=csp-nonce]&quot;);
return nonce = metaTag &amp;&amp; metaTag.content;
</code></pre>

<p>};</p>

<p>const cspNonce = () =&gt; nonce || loadCSPNonce();</p>

<p>const m = Element.prototype.matches || Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector;</p>

<p>const matches = function(element, selector) {</p>

<pre><code>if (selector.exclude) {
  return m.call(element, selector.selector) &amp;&amp; !m.call(element, selector.exclude);
} else {
  return m.call(element, selector);
}
</code></pre>

<p>};</p>

<p>const EXPANDO = “_ujsData”;</p>

<p>const getData = (element, key) =&gt; <a href="EXPANDO">element</a> ? <a href="EXPANDO">element</a>[key] : undefined;</p>

<p>const setData = function(element, key, value) {</p>

<pre><code>if (!element[EXPANDO]) {
  element[EXPANDO] = {};
}
return element[EXPANDO][key] = value;
</code></pre>

<p>};</p>

<p>const $ = selector =&gt; Array.prototype.slice.call(document.querySelectorAll(selector));</p>

<p>const isContentEditable = function(element) {</p>

<pre><code>var isEditable = false;
do {
  if (element.isContentEditable) {
    isEditable = true;
    break;
  }
  element = element.parentElement;
} while (element);
return isEditable;
</code></pre>

<p>};</p>

<p>const csrfToken = () =&gt; {</p>

<pre><code>const meta = document.querySelector(&quot;meta[name=csrf-token]&quot;);
return meta &amp;&amp; meta.content;
</code></pre>

<p>};</p>

<p>const csrfParam = () =&gt; {</p>

<pre><code>const meta = document.querySelector(&quot;meta[name=csrf-param]&quot;);
return meta &amp;&amp; meta.content;
</code></pre>

<p>};</p>

<p>const CSRFProtection = xhr =&gt; {</p>

<pre><code>const token = csrfToken();
if (token) {
  return xhr.setRequestHeader(&quot;X-CSRF-Token&quot;, token);
}
</code></pre>

<p>};</p>

<p>const refreshCSRFTokens = () =&gt; {</p>

<pre><code>const token = csrfToken();
const param = csrfParam();
if (token &amp;&amp; param) {
  return $(&#39;form input[name=&quot;&#39; + param + &#39;&quot;]&#39;).forEach((input =&gt; input.value = token));
}
</code></pre>

<p>};</p>

<p>const AcceptHeaders = {</p>

<pre><code>&quot;*&quot;: &quot;*/*&quot;,
text: &quot;text/plain&quot;,
html: &quot;text/html&quot;,
xml: &quot;application/xml, text/xml&quot;,
json: &quot;application/json, text/javascript&quot;,
script: &quot;text/javascript, application/javascript, application/ecmascript, application/x-ecmascript&quot;
</code></pre>

<p>};</p>

<p>const ajax = options =&gt; {</p>

<pre><code>options = prepareOptions(options);
var xhr = createXHR(options, (function() {
  const response = processResponse(xhr.response != null ? xhr.response : xhr.responseText, xhr.getResponseHeader(&quot;Content-Type&quot;));
  if (Math.floor(xhr.status / 100) === 2) {
    if (typeof options.success === &quot;function&quot;) {
      options.success(response, xhr.statusText, xhr);
    }
  } else {
    if (typeof options.error === &quot;function&quot;) {
      options.error(response, xhr.statusText, xhr);
    }
  }
  return typeof options.complete === &quot;function&quot; ? options.complete(xhr, xhr.statusText) : undefined;
}));
if (options.beforeSend &amp;&amp; !options.beforeSend(xhr, options)) {
  return false;
}
if (xhr.readyState === XMLHttpRequest.OPENED) {
  return xhr.send(options.data);
}
</code></pre>

<p>};</p>

<p>var prepareOptions = function(options) {</p>

<pre><code>options.url = options.url || location.href;
options.type = options.type.toUpperCase();
if (options.type === &quot;GET&quot; &amp;&amp; options.data) {
  if (options.url.indexOf(&quot;?&quot;) &lt; 0) {
    options.url += &quot;?&quot; + options.data;
  } else {
    options.url += &quot;&amp;&quot; + options.data;
  }
}
if (!(options.dataType in AcceptHeaders)) {
  options.dataType = &quot;*&quot;;
}
options.accept = AcceptHeaders[options.dataType];
if (options.dataType !== &quot;*&quot;) {
  options.accept += &quot;, */*; q=0.01&quot;;
}
return options;
</code></pre>

<p>};</p>

<p>var createXHR = function(options, done) {</p>

<pre><code>const xhr = new XMLHttpRequest;
xhr.open(options.type, options.url, true);
xhr.setRequestHeader(&quot;Accept&quot;, options.accept);
if (typeof options.data === &quot;string&quot;) {
  xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;);
}
if (!options.crossDomain) {
  xhr.setRequestHeader(&quot;X-Requested-With&quot;, &quot;XMLHttpRequest&quot;);
  CSRFProtection(xhr);
}
xhr.withCredentials = !!options.withCredentials;
xhr.onreadystatechange = function() {
  if (xhr.readyState === XMLHttpRequest.DONE) {
    return done(xhr);
  }
};
return xhr;
</code></pre>

<p>};</p>

<p>var processResponse = function(response, type) {</p>

<pre><code>if (typeof response === &quot;string&quot; &amp;&amp; typeof type === &quot;string&quot;) {
  if (type.match(/\bjson\b/)) {
    try {
      response = JSON.parse(response);
    } catch (error) {}
  } else if (type.match(/\b(?:java|ecma)script\b/)) {
    const script = document.createElement(&quot;script&quot;);
    script.setAttribute(&quot;nonce&quot;, cspNonce());
    script.text = response;
    document.head.appendChild(script).parentNode.removeChild(script);
  } else if (type.match(/\b(xml|html|svg)\b/)) {
    const parser = new DOMParser;
    type = type.replace(/;.+/, &quot;&quot;);
    try {
      response = parser.parseFromString(response, type);
    } catch (error1) {}
  }
}
return response;
</code></pre>

<p>};</p>

<p>const href = element =&gt; element.href;</p>

<p>const isCrossDomain = function(url) {</p>

<pre><code>const originAnchor = document.createElement(&quot;a&quot;);
originAnchor.href = location.href;
const urlAnchor = document.createElement(&quot;a&quot;);
try {
  urlAnchor.href = url;
  return !((!urlAnchor.protocol || urlAnchor.protocol === &quot;:&quot;) &amp;&amp; !urlAnchor.host || originAnchor.protocol + &quot;//&quot; + originAnchor.host === urlAnchor.protocol + &quot;//&quot; + urlAnchor.host);
} catch (e) {
  return true;
}
</code></pre>

<p>};</p>

<p>let preventDefault;</p>

<p>let {CustomEvent: CustomEvent} = window;</p>

<p>if (typeof CustomEvent !== “function”) {</p>

<pre><code>CustomEvent = function(event, params) {
  const evt = document.createEvent(&quot;CustomEvent&quot;);
  evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
  return evt;
};
CustomEvent.prototype = window.Event.prototype;
({preventDefault: preventDefault} = CustomEvent.prototype);
CustomEvent.prototype.preventDefault = function() {
  const result = preventDefault.call(this);
  if (this.cancelable &amp;&amp; !this.defaultPrevented) {
    Object.defineProperty(this, &quot;defaultPrevented&quot;, {
      get() {
        return true;
      }
    });
  }
  return result;
};
</code></pre>

<p>}</p>

<p>const fire = (obj, name, data) =&gt; {</p>

<pre><code>const event = new CustomEvent(name, {
  bubbles: true,
  cancelable: true,
  detail: data
});
obj.dispatchEvent(event);
return !event.defaultPrevented;
</code></pre>

<p>};</p>

<p>const stopEverything = e =&gt; {</p>

<pre><code>fire(e.target, &quot;ujs:everythingStopped&quot;);
e.preventDefault();
e.stopPropagation();
e.stopImmediatePropagation();
</code></pre>

<p>};</p>

<p>const delegate = (element, selector, eventType, handler) =&gt; element.addEventListener(eventType, (function(e) {</p>

<pre><code>let {target: target} = e;
while (!!(target instanceof Element) &amp;&amp; !matches(target, selector)) {
  target = target.parentNode;
}
if (target instanceof Element &amp;&amp; handler.call(target, e) === false) {
  e.preventDefault();
  e.stopPropagation();
}
</code></pre>

<p>}));</p>

<p>const toArray = e =&gt; Array.prototype.slice.call(e);</p>

<p>const serializeElement = (element, additionalParam) =&gt; {</p>

<pre><code>let inputs = [ element ];
if (matches(element, &quot;form&quot;)) {
  inputs = toArray(element.elements);
}
const params = [];
inputs.forEach((function(input) {
  if (!input.name || input.disabled) {
    return;
  }
  if (matches(input, &quot;fieldset[disabled] *&quot;)) {
    return;
  }
  if (matches(input, &quot;select&quot;)) {
    toArray(input.options).forEach((function(option) {
      if (option.selected) {
        params.push({
          name: input.name,
          value: option.value
        });
      }
    }));
  } else if (input.checked || [ &quot;radio&quot;, &quot;checkbox&quot;, &quot;submit&quot; ].indexOf(input.type) === -1) {
    params.push({
      name: input.name,
      value: input.value
    });
  }
}));
if (additionalParam) {
  params.push(additionalParam);
}
return params.map((function(param) {
  if (param.name) {
    return `${encodeURIComponent(param.name)}=${encodeURIComponent(param.value)}`;
  } else {
    return param;
  }
})).join(&quot;&amp;&quot;);
</code></pre>

<p>};</p>

<p>const formElements = (form, selector) =&gt; {</p>

<pre><code>if (matches(form, &quot;form&quot;)) {
  return toArray(form.elements).filter((el =&gt; matches(el, selector)));
} else {
  return toArray(form.querySelectorAll(selector));
}
</code></pre>

<p>};</p>

<p>const handleConfirmWithRails = rails =&gt; function(e) {</p>

<pre><code>if (!allowAction(this, rails)) {
  stopEverything(e);
}
</code></pre>

<p>};</p>

<p>const confirm = (message, element) =&gt; window.confirm(message);</p>

<p>var allowAction = function(element, rails) {</p>

<pre><code>let callback;
const message = element.getAttribute(&quot;data-confirm&quot;);
if (!message) {
  return true;
}
let answer = false;
if (fire(element, &quot;confirm&quot;)) {
  try {
    answer = rails.confirm(message, element);
  } catch (error) {}
  callback = fire(element, &quot;confirm:complete&quot;, [ answer ]);
}
return answer &amp;&amp; callback;
</code></pre>

<p>};</p>

<p>const handleDisabledElement = function(e) {</p>

<pre><code>const element = this;
if (element.disabled) {
  stopEverything(e);
}
</code></pre>

<p>};</p>

<p>const enableElement = e =&gt; {</p>

<pre><code>let element;
if (e instanceof Event) {
  if (isXhrRedirect(e)) {
    return;
  }
  element = e.target;
} else {
  element = e;
}
if (isContentEditable(element)) {
  return;
}
if (matches(element, linkDisableSelector)) {
  return enableLinkElement(element);
} else if (matches(element, buttonDisableSelector) || matches(element, formEnableSelector)) {
  return enableFormElement(element);
} else if (matches(element, formSubmitSelector)) {
  return enableFormElements(element);
}
</code></pre>

<p>};</p>

<p>const disableElement = e =&gt; {</p>

<pre><code>const element = e instanceof Event ? e.target : e;
if (isContentEditable(element)) {
  return;
}
if (matches(element, linkDisableSelector)) {
  return disableLinkElement(element);
} else if (matches(element, buttonDisableSelector) || matches(element, formDisableSelector)) {
  return disableFormElement(element);
} else if (matches(element, formSubmitSelector)) {
  return disableFormElements(element);
}
</code></pre>

<p>};</p>

<p>var disableLinkElement = function(element) {</p>

<pre><code>if (getData(element, &quot;ujs:disabled&quot;)) {
  return;
}
const replacement = element.getAttribute(&quot;data-disable-with&quot;);
if (replacement != null) {
  setData(element, &quot;ujs:enable-with&quot;, element.innerHTML);
  element.innerHTML = replacement;
}
element.addEventListener(&quot;click&quot;, stopEverything);
return setData(element, &quot;ujs:disabled&quot;, true);
</code></pre>

<p>};</p>

<p>var enableLinkElement = function(element) {</p>

<pre><code>const originalText = getData(element, &quot;ujs:enable-with&quot;);
if (originalText != null) {
  element.innerHTML = originalText;
  setData(element, &quot;ujs:enable-with&quot;, null);
}
element.removeEventListener(&quot;click&quot;, stopEverything);
return setData(element, &quot;ujs:disabled&quot;, null);
</code></pre>

<p>};</p>

<p>var disableFormElements = form =&gt; formElements(form, formDisableSelector).forEach(disableFormElement);</p>

<p>var disableFormElement = function(element) {</p>

<pre><code>if (getData(element, &quot;ujs:disabled&quot;)) {
  return;
}
const replacement = element.getAttribute(&quot;data-disable-with&quot;);
if (replacement != null) {
  if (matches(element, &quot;button&quot;)) {
    setData(element, &quot;ujs:enable-with&quot;, element.innerHTML);
    element.innerHTML = replacement;
  } else {
    setData(element, &quot;ujs:enable-with&quot;, element.value);
    element.value = replacement;
  }
}
element.disabled = true;
return setData(element, &quot;ujs:disabled&quot;, true);
</code></pre>

<p>};</p>

<p>var enableFormElements = form =&gt; formElements(form, formEnableSelector).forEach((element =&gt; enableFormElement(element)));</p>

<p>var enableFormElement = function(element) {</p>

<pre><code>const originalText = getData(element, &quot;ujs:enable-with&quot;);
if (originalText != null) {
  if (matches(element, &quot;button&quot;)) {
    element.innerHTML = originalText;
  } else {
    element.value = originalText;
  }
  setData(element, &quot;ujs:enable-with&quot;, null);
}
element.disabled = false;
return setData(element, &quot;ujs:disabled&quot;, null);
</code></pre>

<p>};</p>

<p>var isXhrRedirect = function(event) {</p>

<pre><code>const xhr = event.detail ? event.detail[0] : undefined;
return xhr &amp;&amp; xhr.getResponseHeader(&quot;X-Xhr-Redirect&quot;);
</code></pre>

<p>};</p>

<p>const handleMethodWithRails = rails =&gt; function(e) {</p>

<pre><code>const link = this;
const method = link.getAttribute(&quot;data-method&quot;);
if (!method) {
  return;
}
if (isContentEditable(this)) {
  return;
}
const href = rails.href(link);
const csrfToken$1 = csrfToken();
const csrfParam$1 = csrfParam();
const form = document.createElement(&quot;form&quot;);
let formContent = `&lt;input name=&#39;_method&#39; value=&#39;${method}&#39; type=&#39;hidden&#39; /&gt;`;
if (csrfParam$1 &amp;&amp; csrfToken$1 &amp;&amp; !isCrossDomain(href)) {
  formContent += `&lt;input name=&#39;${csrfParam$1}&#39; value=&#39;${csrfToken$1}&#39; type=&#39;hidden&#39; /&gt;`;
}
formContent += &#39;&lt;input type=&quot;submit&quot; /&gt;&#39;;
form.method = &quot;post&quot;;
form.action = href;
form.target = link.target;
form.innerHTML = formContent;
form.style.display = &quot;none&quot;;
document.body.appendChild(form);
form.querySelector(&#39;[type=&quot;submit&quot;]&#39;).click();
stopEverything(e);
</code></pre>

<p>};</p>

<p>const isRemote = function(element) {</p>

<pre><code>const value = element.getAttribute(&quot;data-remote&quot;);
return value != null &amp;&amp; value !== &quot;false&quot;;
</code></pre>

<p>};</p>

<p>const handleRemoteWithRails = rails =&gt; function(e) {</p>

<pre><code>let data, method, url;
const element = this;
if (!isRemote(element)) {
  return true;
}
if (!fire(element, &quot;ajax:before&quot;)) {
  fire(element, &quot;ajax:stopped&quot;);
  return false;
}
if (isContentEditable(element)) {
  fire(element, &quot;ajax:stopped&quot;);
  return false;
}
const withCredentials = element.getAttribute(&quot;data-with-credentials&quot;);
const dataType = element.getAttribute(&quot;data-type&quot;) || &quot;script&quot;;
if (matches(element, formSubmitSelector)) {
  const button = getData(element, &quot;ujs:submit-button&quot;);
  method = getData(element, &quot;ujs:submit-button-formmethod&quot;) || element.getAttribute(&quot;method&quot;) || &quot;get&quot;;
  url = getData(element, &quot;ujs:submit-button-formaction&quot;) || element.getAttribute(&quot;action&quot;) || location.href;
  if (method.toUpperCase() === &quot;GET&quot;) {
    url = url.replace(/\?.*$/, &quot;&quot;);
  }
  if (element.enctype === &quot;multipart/form-data&quot;) {
    data = new FormData(element);
    if (button != null) {
      data.append(button.name, button.value);
    }
  } else {
    data = serializeElement(element, button);
  }
  setData(element, &quot;ujs:submit-button&quot;, null);
  setData(element, &quot;ujs:submit-button-formmethod&quot;, null);
  setData(element, &quot;ujs:submit-button-formaction&quot;, null);
} else if (matches(element, buttonClickSelector) || matches(element, inputChangeSelector)) {
  method = element.getAttribute(&quot;data-method&quot;);
  url = element.getAttribute(&quot;data-url&quot;);
  data = serializeElement(element, element.getAttribute(&quot;data-params&quot;));
} else {
  method = element.getAttribute(&quot;data-method&quot;);
  url = rails.href(element);
  data = element.getAttribute(&quot;data-params&quot;);
}
ajax({
  type: method || &quot;GET&quot;,
  url: url,
  data: data,
  dataType: dataType,
  beforeSend(xhr, options) {
    if (fire(element, &quot;ajax:beforeSend&quot;, [ xhr, options ])) {
      return fire(element, &quot;ajax:send&quot;, [ xhr ]);
    } else {
      fire(element, &quot;ajax:stopped&quot;);
      return false;
    }
  },
  success(...args) {
    return fire(element, &quot;ajax:success&quot;, args);
  },
  error(...args) {
    return fire(element, &quot;ajax:error&quot;, args);
  },
  complete(...args) {
    return fire(element, &quot;ajax:complete&quot;, args);
  },
  crossDomain: isCrossDomain(url),
  withCredentials: withCredentials != null &amp;&amp; withCredentials !== &quot;false&quot;
});
stopEverything(e);
</code></pre>

<p>};</p>

<p>const formSubmitButtonClick = function(e) {</p>

<pre><code>const button = this;
const {form: form} = button;
if (!form) {
  return;
}
if (button.name) {
  setData(form, &quot;ujs:submit-button&quot;, {
    name: button.name,
    value: button.value
  });
}
setData(form, &quot;ujs:formnovalidate-button&quot;, button.formNoValidate);
setData(form, &quot;ujs:submit-button-formaction&quot;, button.getAttribute(&quot;formaction&quot;));
return setData(form, &quot;ujs:submit-button-formmethod&quot;, button.getAttribute(&quot;formmethod&quot;));
</code></pre>

<p>};</p>

<p>const preventInsignificantClick = function(e) {</p>

<pre><code>const link = this;
const method = (link.getAttribute(&quot;data-method&quot;) || &quot;GET&quot;).toUpperCase();
const data = link.getAttribute(&quot;data-params&quot;);
const metaClick = e.metaKey || e.ctrlKey;
const insignificantMetaClick = metaClick &amp;&amp; method === &quot;GET&quot; &amp;&amp; !data;
const nonPrimaryMouseClick = e.button != null &amp;&amp; e.button !== 0;
if (nonPrimaryMouseClick || insignificantMetaClick) {
  e.stopImmediatePropagation();
}
</code></pre>

<p>};</p>

<p>const <a href="../../../../../../classes/Rails.html"><code>Rails</code></a> = {</p>

<pre><code>$: $,
ajax: ajax,
buttonClickSelector: buttonClickSelector,
buttonDisableSelector: buttonDisableSelector,
confirm: confirm,
cspNonce: cspNonce,
csrfToken: csrfToken,
csrfParam: csrfParam,
CSRFProtection: CSRFProtection,
delegate: delegate,
disableElement: disableElement,
enableElement: enableElement,
fileInputSelector: fileInputSelector,
fire: fire,
formElements: formElements,
formEnableSelector: formEnableSelector,
formDisableSelector: formDisableSelector,
formInputClickSelector: formInputClickSelector,
formSubmitButtonClick: formSubmitButtonClick,
formSubmitSelector: formSubmitSelector,
getData: getData,
handleDisabledElement: handleDisabledElement,
href: href,
inputChangeSelector: inputChangeSelector,
isCrossDomain: isCrossDomain,
linkClickSelector: linkClickSelector,
linkDisableSelector: linkDisableSelector,
loadCSPNonce: loadCSPNonce,
matches: matches,
preventInsignificantClick: preventInsignificantClick,
refreshCSRFTokens: refreshCSRFTokens,
serializeElement: serializeElement,
setData: setData,
stopEverything: stopEverything
</code></pre>

<p>};</p>

<p>const handleConfirm = handleConfirmWithRails(<a href="../../../../../../classes/Rails.html"><code>Rails</code></a>);</p>

<p>Rails.handleConfirm = handleConfirm;</p>

<p>const handleMethod = handleMethodWithRails(<a href="../../../../../../classes/Rails.html"><code>Rails</code></a>);</p>

<p>Rails.handleMethod = handleMethod;</p>

<p>const handleRemote = handleRemoteWithRails(<a href="../../../../../../classes/Rails.html"><code>Rails</code></a>);</p>

<p>Rails.handleRemote = handleRemote;</p>

<p>const start = function() {</p>

<pre><code>if (window._rails_loaded) {
  throw new Error(&quot;rails-ujs has already been loaded!&quot;);
}
window.addEventListener(&quot;pageshow&quot;, (function() {
  $(formEnableSelector).forEach((function(el) {
    if (getData(el, &quot;ujs:disabled&quot;)) {
      enableElement(el);
    }
  }));
  $(linkDisableSelector).forEach((function(el) {
    if (getData(el, &quot;ujs:disabled&quot;)) {
      enableElement(el);
    }
  }));
}));
delegate(document, linkDisableSelector, &quot;ajax:complete&quot;, enableElement);
delegate(document, linkDisableSelector, &quot;ajax:stopped&quot;, enableElement);
delegate(document, buttonDisableSelector, &quot;ajax:complete&quot;, enableElement);
delegate(document, buttonDisableSelector, &quot;ajax:stopped&quot;, enableElement);
delegate(document, linkClickSelector, &quot;click&quot;, preventInsignificantClick);
delegate(document, linkClickSelector, &quot;click&quot;, handleDisabledElement);
delegate(document, linkClickSelector, &quot;click&quot;, handleConfirm);
delegate(document, linkClickSelector, &quot;click&quot;, disableElement);
delegate(document, linkClickSelector, &quot;click&quot;, handleRemote);
delegate(document, linkClickSelector, &quot;click&quot;, handleMethod);
delegate(document, buttonClickSelector, &quot;click&quot;, preventInsignificantClick);
delegate(document, buttonClickSelector, &quot;click&quot;, handleDisabledElement);
delegate(document, buttonClickSelector, &quot;click&quot;, handleConfirm);
delegate(document, buttonClickSelector, &quot;click&quot;, disableElement);
delegate(document, buttonClickSelector, &quot;click&quot;, handleRemote);
delegate(document, inputChangeSelector, &quot;change&quot;, handleDisabledElement);
delegate(document, inputChangeSelector, &quot;change&quot;, handleConfirm);
delegate(document, inputChangeSelector, &quot;change&quot;, handleRemote);
delegate(document, formSubmitSelector, &quot;submit&quot;, handleDisabledElement);
delegate(document, formSubmitSelector, &quot;submit&quot;, handleConfirm);
delegate(document, formSubmitSelector, &quot;submit&quot;, handleRemote);
delegate(document, formSubmitSelector, &quot;submit&quot;, (e =&gt; setTimeout((() =&gt; disableElement(e)), 13)));
delegate(document, formSubmitSelector, &quot;ajax:send&quot;, disableElement);
delegate(document, formSubmitSelector, &quot;ajax:complete&quot;, enableElement);
delegate(document, formInputClickSelector, &quot;click&quot;, preventInsignificantClick);
delegate(document, formInputClickSelector, &quot;click&quot;, handleDisabledElement);
delegate(document, formInputClickSelector, &quot;click&quot;, handleConfirm);
delegate(document, formInputClickSelector, &quot;click&quot;, formSubmitButtonClick);
document.addEventListener(&quot;DOMContentLoaded&quot;, refreshCSRFTokens);
document.addEventListener(&quot;DOMContentLoaded&quot;, loadCSPNonce);
return window._rails_loaded = true;
</code></pre>

<p>};</p>

<p>Rails.start = start;</p>

<p>if (typeof jQuery !== “undefined” &amp;&amp; jQuery &amp;&amp; jQuery.ajax) {</p>

<pre><code>if (jQuery.rails) {
  throw new Error(&quot;If you load both jquery_ujs and rails-ujs, use rails-ujs only.&quot;);
}
jQuery.rails = Rails;
jQuery.ajaxPrefilter((function(options, originalOptions, xhr) {
  if (!options.crossDomain) {
    return CSRFProtection(xhr);
  }
}));
</code></pre>

<p>}</p>

<p>export { <a href="../../../../../../classes/Rails.html"><code>Rails</code></a> as default };</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </main>
  </body>
</html>
