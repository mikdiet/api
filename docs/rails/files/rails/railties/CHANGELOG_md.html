<!DOCTYPE html>
<html lang="en">
<head>
    <title>CHANGELOG.md</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='[]'>

</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            CHANGELOG.md
        </h2>
        <ul class="files">
            
            <li>
                rails/railties/CHANGELOG.md
                
                    <a href="https://github.com/rails/rails/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/railties/CHANGELOG.md" target="_blank" class="github_url">on GitHub</a>
                
            </li>
            <li>Last modified: 2024-05-24 23:57:11 +0300</li>
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h2 id="label-Rails+7.0.8.3+-28May+17-2C+2024-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.8.3 (May 17, 2024)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.8.2+-28May+16-2C+2024-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.8.2 (May 16, 2024)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.8.1+-28February+21-2C+2024-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.8.1 (February 21, 2024)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.8+-28September+09-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.8 (September 09, 2023)</h2>
<ul><li>
<p>Omit <code>webdrivers</code> gem dependency from <code>Gemfile</code> template</p>

<p><em>Sean Doyle</em></p>
</li></ul>

<h2 id="label-Rails+7.0.7.2+-28August+22-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.7.2 (August 22, 2023)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.7.1+-28August+22-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.7.1 (August 22, 2023)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.7+-28August+09-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.7 (August 09, 2023)</h2>
<ul><li>
<p>Update default scaffold templates to set 303 (See Other) as status code on redirect for the update action for XHR requests other than GET or POST to avoid issues (e.g browsers trying to follow the redirect using the original request method resulting in double PATCH/PUT)</p>

<p><em>Guillermo Iguaran</em></p>
</li></ul>

<h2 id="label-Rails+7.0.6+-28June+29-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.6 (June 29, 2023)</h2>
<ul><li>
<p>Avoid escaping paths when editing credentials.</p>

<p><em>Jonathan Hefner</em></p>
</li></ul>

<h2 id="label-Rails+7.0.5.1+-28June+26-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.5.1 (June 26, 2023)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.5+-28May+24-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.5 (May 24, 2023)</h2>
<ul><li>
<p>Add puma app server to <a href="../Gemfile.html">Gemfile</a> in order to start test/dummy.</p>

<p><em>Donapieppo</em></p>
</li><li>
<p><a href="../../../classes/Rails.html"><code>Rails</code></a> console now disables <code>IRB</code>‘s autocompletion feature in production by default.</p>

<p>Setting <code>IRB_USE_AUTOCOMPLETE=true</code> can override this default.</p>

<p><em>Stan Lo</em></p>
</li><li>
<p>Send 303 See Other status code back for the destroy action on newly generated scaffold controllers.</p>

<p><em>Tony Drake</em></p>
</li></ul>

<h2 id="label-Rails+7.0.4.3+-28March+13-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.4.3 (March 13, 2023)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.4.2+-28January+24-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.4.2 (January 24, 2023)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.4.1+-28January+17-2C+2023-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.4.1 (January 17, 2023)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.4+-28September+09-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.4 (September 09, 2022)</h2>
<ul><li>
<p><code>config.allow_concurrency = false</code> now use a <code>Monitor</code> instead of a <code>Mutex</code></p>

<p>This allows to enable <code>config.active_support.executor_around_test_case</code> even when <code>config.allow_concurrency</code> is disabled.</p>

<p><em>Jean Boussier</em></p>
</li><li>
<p>Skip Active Storage and Action Mailer if Active Job is skipped.</p>

<p><em>Étienne Barrié</em></p>
</li><li>
<p>Correctly check if frameworks are disabled when running app:update.</p>

<p><em>Étienne Barrié</em> and <em>Paulo Barros</em></p>
</li><li>
<p>Fixed <code>config.active_support.cache_format_version</code> never being applied.</p>

<p><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0 shipped with a new serializer for <a href="../../../classes/Rails.html#attribute-c-cache"><code>Rails.cache</code></a>, but the associated config wasn’t working properly. Note that even after this fix, it can only be applied from the <code>application.rb</code> file.</p>

<p><em>Alex Ghiculescu</em></p>
</li></ul>

<h2 id="label-Rails+7.0.3.1+-28July+12-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.3.1 (July 12, 2022)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.3+-28May+09-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.3 (May 09, 2022)</h2>
<ul><li>
<p>If reloading and eager loading are both enabled, after a reload <a href="../../../classes/Rails.html"><code>Rails</code></a> eager loads again the application code.</p>

<p><em>Xavier Noria</em></p>
</li><li>
<p>Use <code>controller_class_path</code> in <code>Rails::Generators::NamedBase#route_url</code></p>

<p>The <code>route_url</code> method now returns the correct path when generating a namespaced controller with a top-level model using <code>--model-name</code>.</p>

<p>Previously, when running this command:</p>

<pre><code>bin/rails generate scaffold_controller Admin/Post --model-name Post
</code></pre>

<p>the comments above the controller action would look like:</p>

<pre><code># GET /posts
def index
  @posts = Post.all
end
</code></pre>

<p>afterwards, they now look like this:</p>

<pre><code># GET /admin/posts
def index
  @posts = Post.all
end
</code></pre>

<p>Fixes #44662.</p>

<p><em>Andrew White</em></p>
</li></ul>

<h2 id="label-Rails+7.0.2.4+-28April+26-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.2.4 (April 26, 2022)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.2.3+-28March+08-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.2.3 (March 08, 2022)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.2.2+-28February+11-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.2.2 (February 11, 2022)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.2.1+-28February+11-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.2.1 (February 11, 2022)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.2+-28February+08-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.2 (February 08, 2022)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.1+-28January+06-2C+2022-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.1 (January 06, 2022)</h2>
<ul><li>
<p>Prevent duplicate entries in plugin <a href="../Gemfile.html">Gemfile</a>.</p>

<p><em>Jonathan Hefner</em></p>
</li><li>
<p>Fix asset pipeline errors for plugin dummy apps.</p>

<p><em>Jonathan Hefner</em></p>
</li><li>
<p>Fix generated route revocation.</p>

<p><em>Jonathan Hefner</em></p>
</li><li>
<p>Addresses an issue in which Sidekiq jobs could not reload certain namespaces.</p>

<p>See <a href="https://github.com/fxn/zeitwerk/issues/198">fxn/zeitwerk#198</a> for details.</p>

<p><em>Xavier Noria</em></p>
</li><li>
<p>Fix plugin generator to a plugin that pass all the tests.</p>

<p><em>Rafael Mendonça França</em></p>
</li></ul>

<h2 id="label-Rails+7.0.0+-28December+15-2C+2021-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.0 (December 15, 2021)</h2>
<ul><li>
<p>No changes.</p>
</li></ul>

<h2 id="label-Rails+7.0.0.rc3+-28December+14-2C+2021-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.0.rc3 (December 14, 2021)</h2>
<ul><li>
<p>Allow localhost with a port by default in development</p>

<p>[Fixes: #43864]</p>
</li></ul>

<h2 id="label-Rails+7.0.0.rc2+-28December+14-2C+2021-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.0.rc2 (December 14, 2021)</h2>
<ul><li>
<p>No changes</p>
</li></ul>

<h2 id="label-Rails+7.0.0.rc1+-28December+06-2C+2021-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.0.rc1 (December 06, 2021)</h2>
<ul><li>
<p>Remove deprecated <code>config</code> in <code>dbconsole</code>.</p>

<p><em>Rafael Mendonça França</em></p>
</li><li>
<p>Change default <code>X-XSS-Protection</code> header to disable XSS auditor</p>

<p>This header has been deprecated and the XSS auditor it triggered has been removed from all major modern browsers (in favour of Content Security Policy) that implemented this header to begin with (Firefox never did).</p>

<p><a href="https://owasp.org/www-project-secure-headers/#x-xss-protection">OWASP</a> suggests setting this header to ‘0’ to disable the default behaviour on old browsers as it can introduce additional security issues.</p>

<p>Added the new behaviour as a framework default from <a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.</p>

<p><em>Christian Sutter</em></p>
</li><li>
<p>Scaffolds now use date_field, time_field and datetime_field instead of date_select, time_select and datetime_select; thus providing native date/time pickers.</p>

<p><em>Martijn Lafeber</em></p>
</li><li>
<p>Fix a regression in which autoload paths were initialized too late.</p>

<p><em>Xavier Noria</em></p>
</li></ul>

<h2 id="label-Rails+7.0.0.alpha2+-28September+15-2C+2021-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.0.alpha2 (September 15, 2021)</h2>
<ul><li>
<p>Fix activestorage dependency in the npm package.</p>

<p><em>Rafael Mendonça França</em></p>
</li></ul>

<h2 id="label-Rails+7.0.0.alpha1+-28September+15-2C+2021-29"><a href="../../../classes/Rails.html"><code>Rails</code></a> 7.0.0.alpha1 (September 15, 2021)</h2>
<ul><li>
<p>New and upgraded <a href="../../../classes/Rails.html"><code>Rails</code></a> apps no longer generate <code>config/initializers/application_controller_renderer.rb</code> or <code>config/initializers/cookies_serializer.rb</code></p>

<p>The default value for <code>cookies_serializer</code> (<code>:json</code>) has been moved to <code>config.load_defaults(&quot;7.0&quot;)</code>. The new framework defaults file can be used to upgrade the serializer.</p>

<p><em>Alex Ghiculescu</em></p>
</li><li>
<p>New applications get a dependency on the new <code>debug</code> gem, replacing <code>byebug</code>.</p>

<p><em>Xavier Noria</em></p>
</li><li>
<p>Add SSL support for postgresql in <code>bin/rails dbconsole</code>.</p>

<p>Fixes #43114.</p>

<p><em>Michael Bayucot</em></p>
</li><li>
<p>Add support for comments above gem declaration in <a href="../../../classes/Rails.html"><code>Rails</code></a> application templates, e.g. <code>gem(&quot;nokogiri&quot;, comment: &quot;For XML&quot;)</code>.</p>

<p><em>Linas Juškevičius</em></p>
</li><li>
<p>The setter <code>config.autoloader=</code> has been deleted. <code>zeitwerk</code> is the only available autoloading mode.</p>

<p><em>Xavier Noria</em></p>
</li><li>
<p><code>config.autoload_once_paths</code> can be configured in the body of the application class defined in <code>config/application.rb</code> or in the configuration for environments in <code>config/environments/*</code>.</p>

<p>Similarly, engines can configure that collection in the class body of the engine class or in the configuration for environments.</p>

<p>After that, the collection is frozen, and you can autoload from those paths. They are managed by the <code>Rails.autoloaders.once</code> autoloader, which does not reload, only autoloads/eager loads.</p>

<p><em>Xavier Noria</em></p>
</li><li>
<p>During initialization, you cannot autoload reloadable classes or modules like application models, unless they are wrapped in a <code>to_prepare</code> block. For example, from <code>config/initializers/*</code>, or in application, engines, or railties initializers.</p>

<p>Please check the <a href="https://guides.rubyonrails.org/v7.0/autoloading_and_reloading_constants.html#autoloading-when-the-application-boots">autoloading guide</a> for details.</p>

<p><em>Xavier Noria</em></p>
</li><li>
<p>While they are allowed to have elements in common, it is no longer required that <code>config.autoload_once_paths</code> is a subset of <code>config.autoload_paths</code>. The former are managed by the <code>once</code> autoloader. The <code>main</code> autoloader manages the latter minus the former.</p>

<p><em>Xavier Noria</em></p>
</li><li>
<p>Show Rake task description if command is run with <code>-h</code>.</p>

<p>Adding <code>-h</code> (or <code>--help</code>) to a <a href="../../../classes/Rails.html"><code>Rails</code></a> command that's a Rake task now outputs the task description instead of the general Rake help.</p>

<p><em>Petrik de Heus</em></p>
</li><li>
<p>Add missing <code>plugin new</code> command to help.</p>

<p>*Petrik de Heus</p>
</li><li>
<p>Fix <code>config_for</code> error when there's only a shared root array.</p>

<p><em>Loïc Delmaire</em></p>
</li><li>
<p>Raise an error in generators if an index type is invalid.</p>

<p><em>Petrik de Heus</em></p>
</li><li>
<p><code>package.json</code> now uses a strict version constraint for <a href="../../../classes/Rails.html"><code>Rails</code></a> JavaScript packages on new <a href="../../../classes/Rails.html"><code>Rails</code></a> apps.</p>

<p><em>Zachary Scott</em>, <em>Alex Ghiculescu</em></p>
</li><li>
<p>Modified scaffold generator template so that running <code>rails g scaffold Author</code> no longer generates tests called "creating a Author", "updating a Author", and "destroying a Author".</p>

<p>Fixes #40744.</p>

<p><em>Michael Duchemin</em></p>
</li><li>
<p>Raise an error in generators if a field type is invalid.</p>

<p><em>Petrik de Heus</em></p>
</li><li>
<p><code>bin/rails tmp:clear</code> deletes also files and directories in <code>tmp/storage</code>.</p>

<p><em>George Claghorn</em></p>
</li><li>
<p>Fix compatibility with <code>psych &gt;= 4</code>.</p>

<p>Starting in Psych 4.0.0 <code>YAML.load</code> behaves like <code>YAML.safe_load</code>. To preserve compatibility <code>Rails.application.config_for</code> now uses <code>YAML.unsafe_load</code> if available.</p>

<p><em>Jean Boussier</em></p>
</li><li>
<p>Allow loading nested locales in engines.</p>

<p><em>Gannon McGibbon</em></p>
</li><li>
<p>Ensure <code>Rails.application.config_for</code> always cast hashes to <code>ActiveSupport::OrderedOptions</code>.</p>

<p><em>Jean Boussier</em></p>
</li><li>
<p>Remove <code>Rack::Runtime</code> from the default middleware stack and deprecate referencing it in middleware operations without adding it back.</p>

<p><em>Hartley McGuire</em></p>
</li><li>
<p>Allow adding additional authorized hosts in development via <code>ENV[&#39;RAILS_DEVELOPMENT_HOSTS&#39;]</code>.</p>

<p><em>Josh Abernathy</em>, <em>Debbie Milburn</em></p>
</li><li>
<p>Add app concern and test keepfiles to generated engine plugins.</p>

<p><em>Gannon McGibbon</em></p>
</li><li>
<p>Stop generating a license for in-app plugins.</p>

<p><em>Gannon McGibbon</em></p>
</li><li>
<p><code>rails app:update</code> no longer prompts you to overwrite files that are generally modified in the course of developing a <a href="../../../classes/Rails.html"><code>Rails</code></a> app. See <a href="https://github.com/rails/rails/pull/41083">#41083</a> for the full list of changes.</p>

<p><em>Alex Ghiculescu</em></p>
</li><li>
<p>Change default branch for new <a href="../../../classes/Rails.html"><code>Rails</code></a> projects and plugins to <code>main</code>.</p>

<p><em>Prateek Choudhary</em></p>
</li><li>
<p>The new method <code>Rails.benchmark</code> gives you a quick way to measure and log the execution time taken by a block:</p>

<pre><code>def test_expensive_stuff
  Rails.benchmark(&quot;test_expensive_stuff&quot;) { ... }
end
</code></pre>

<p>This functionality was available in some contexts only before.</p>

<p><em>Simon Perepelitsa</em></p>
</li><li>
<p>Applications generated with <code>--skip-sprockets</code> no longer get <code>app/assets/config/manifest.js</code> and <code>app/assets/stylesheets/application.css</code>.</p>

<p><em>Cindy Gao</em></p>
</li><li>
<p>Add support for stylesheets and <a href="../../../classes/ERB.html"><code>ERB</code></a> views to <code>rails stats</code>.</p>

<p><em>Joel Hawksley</em></p>
</li><li>
<p>Allow appended root routes to take precedence over internal welcome controller.</p>

<p><em>Gannon McGibbon</em></p>
</li></ul>

<p>Please check <a href="https://github.com/rails/rails/blob/6-1-stable/railties/CHANGELOG.md">6-1-stable</a> for previous changes.</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </main>
  </body>
</html>
