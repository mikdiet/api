<!DOCTYPE html>
<html lang="en">
<head>
    <title>ActiveSupport::Notifications::Fanout::Handle</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='["ActiveSupport", "Notifications", "Fanout", "Handle"]'>


    <meta property="og:title" value="ActiveSupport::Notifications::Fanout::Handle">

  
    
    <meta name="description" content="A Handle is used to record the start and finish time of event.  Both start and finish must each be called exactly once.  Where possible, it’s best to use the block form: ActiveSupport::Notifications.">
    <meta property="og:description" content="A Handle is used to record the start and finish time of event.  Both start and finish must each be called exactly once.  Where possible, it’s best to use the block form: ActiveSupport::Notifications.">
  

    <meta name="keywords" content="ActiveSupport::Notifications::Fanout::Handle class, start, finish">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Class</span>
            ActiveSupport::Notifications::Fanout::Handle
            
                <span class="parent">&lt;
                    
                    <a href="../../../Object.html">Object</a>
                    
                </span>
            
        </h2>
        <ul class="files">
            
            <li><a href="../../../../files/rails/activesupport/lib/active_support/notifications/fanout_rb.html">rails/activesupport/lib/active_support/notifications/fanout.rb</a></li>
            
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>A <code>Handle</code> is used to record the start and finish time of event.</p>

<p>Both <a href="Handle.html#method-i-start"><code>start</code></a> and <a href="Handle.html#method-i-finish"><code>finish</code></a> must each be called exactly once.</p>

<p>Where possible, it’s best to use the block form: <a href="../../Notifications.html#method-c-instrument"><code>ActiveSupport::Notifications.instrument</code></a>. <code>Handle</code> is a low-level API intended for cases where the block form can’t be used.</p>

<pre><code>handle = ActiveSupport::Notifications.instrumenter.build_handle(&quot;my.event&quot;, {})
begin
  handle.start
  # work to be instrumented
ensure
  handle.finish
end
</code></pre>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-finish">finish</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-start">start</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
    
    
      <h2 class="sectiontitle">Instance Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-i-finish">
            
              <b>finish</b>()
            
            <a href="../../../../classes/ActiveSupport/Notifications/Fanout/Handle.html#method-i-finish" name="method-i-finish" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-finish_source')" id="l_method-i-finish_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/activesupport/lib/active_support/notifications/fanout.rb#L253" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-finish_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/notifications/fanout.rb, line 253</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">finish</span>
  <span class="ruby-identifier">finish_with_values</span>(<span class="ruby-ivar">@name</span>, <span class="ruby-ivar">@id</span>, <span class="ruby-ivar">@payload</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-start">
            
              <b>start</b>()
            
            <a href="../../../../classes/ActiveSupport/Notifications/Fanout/Handle.html#method-i-start" name="method-i-start" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-start_source')" id="l_method-i-start_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/activesupport/lib/active_support/notifications/fanout.rb#L244" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-start_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/notifications/fanout.rb, line 244</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">start</span>
  <span class="ruby-identifier">ensure_state!</span> <span class="ruby-value">:initialized</span>
  <span class="ruby-ivar">@state</span> = <span class="ruby-value">:started</span>

  <span class="ruby-identifier">iterate_guarding_exceptions</span>(<span class="ruby-ivar">@groups</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">group</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">group</span>.<span class="ruby-identifier">start</span>(<span class="ruby-ivar">@name</span>, <span class="ruby-ivar">@id</span>, <span class="ruby-ivar">@payload</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </main>
  </body>
</html>
