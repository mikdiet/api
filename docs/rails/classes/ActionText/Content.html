<!DOCTYPE html>
<html lang="en">
<head>
    <title>ActionText::Content</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='["ActionText", "Content"]'>


    <meta property="og:title" value="ActionText::Content">

  
    
    <meta name="description" content="Action Text Content  The ActionText::Content class wraps an HTML fragment to add support for parsing, rendering and serialization.">
    <meta property="og:description" content="Action Text Content  The ActionText::Content class wraps an HTML fragment to add support for parsing, rendering and serialization.">
  

    <meta name="keywords" content="ActionText::Content class, fragment_by_canonicalizing_content, new, links, attachments, attachment_galleries, gallery_attachments, attachables, append_attachables, render_attachments, render_attachment_galleries, to_plain_text, to_trix_html, to_html, to_rendered_html_with_layout, to_partial_path, to_s, as_json, inspect, ==">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Class</span>
            ActionText::Content
            
                <span class="parent">&lt;
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h2>
        <ul class="files">
            
            <li><a href="../../files/rails/actiontext/lib/action_text/content_rb.html">rails/actiontext/lib/action_text/content.rb</a></li>
            
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="class-ActionText::Content-label-Action+Text+Content">Action Text Content</h1>

<p>The <code>ActionText::Content</code> class wraps an HTML fragment to add support for parsing, rendering and serialization. It can be used to extract links and attachments, convert the fragment to plain text, or serialize the fragment to the database.</p>

<p>The <a href="RichText.html"><code>ActionText::RichText</code></a> record serializes the â€˜body` attribute as <code>ActionText::Content</code>.</p>

<pre><code>class Message &lt; ActiveRecord::Base
  has_rich_text :content
end

message = Message.create!(content: &quot;&lt;h1&gt;Funny times!&lt;/h1&gt;&quot;)
body = message.content.body # =&gt; #&lt;ActionText::Content &quot;&lt;div class=\&quot;trix-conte...&quot;&gt;
body.to_s # =&gt; &quot;&lt;h1&gt;Funny times!&lt;/h1&gt;&quot;
body.to_plain_text # =&gt; &quot;Funny times!&quot;
</code></pre>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-3D-3D">==</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-append_attachables">append_attachables</a>,
              </li>
            
              
              <li>
                <a href="#method-i-as_json">as_json</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attachables">attachables</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attachment_galleries">attachment_galleries</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attachments">attachments</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-fragment_by_canonicalizing_content">fragment_by_canonicalizing_content</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-gallery_attachments">gallery_attachments</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-links">links</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-render_attachment_galleries">render_attachment_galleries</a>,
              </li>
            
              
              <li>
                <a href="#method-i-render_attachments">render_attachments</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_html">to_html</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_partial_path">to_partial_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_plain_text">to_plain_text</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_rendered_html_with_layout">to_rendered_html_with_layout</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_trix_html">to_trix_html</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    
      <!-- Section attributes -->
      <h2 class="sectiontitle">Attributes</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>fragment</td>
            <td class='attr-desc'></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <h2 class="sectiontitle">Class Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-c-fragment_by_canonicalizing_content">
            
              <b>fragment_by_canonicalizing_content</b>(content)
            
            <a href="../../classes/ActionText/Content.html#method-c-fragment_by_canonicalizing_content" name="method-c-fragment_by_canonicalizing_content" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-fragment_by_canonicalizing_content_source')" id="l_method-c-fragment_by_canonicalizing_content_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L30" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-fragment_by_canonicalizing_content_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">fragment_by_canonicalizing_content</span>(<span class="ruby-identifier">content</span>)
  <span class="ruby-identifier">fragment</span> = <span class="ruby-constant">ActionText</span><span class="ruby-operator">::</span><span class="ruby-constant">Attachment</span>.<span class="ruby-identifier">fragment_by_canonicalizing_attachments</span>(<span class="ruby-identifier">content</span>)
  <span class="ruby-identifier">fragment</span> = <span class="ruby-constant">ActionText</span><span class="ruby-operator">::</span><span class="ruby-constant">AttachmentGallery</span>.<span class="ruby-identifier">fragment_by_canonicalizing_attachment_galleries</span>(<span class="ruby-identifier">fragment</span>)
  <span class="ruby-identifier">fragment</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-new">
            
              <b>new</b>(content = nil, options = {})
            
            <a href="../../classes/ActionText/Content.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L37" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 37</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">content</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">with_defaults!</span> <span class="ruby-value">canonicalize:</span> <span class="ruby-keyword">true</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:canonicalize</span>]
    <span class="ruby-ivar">@fragment</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">fragment_by_canonicalizing_content</span>(<span class="ruby-identifier">content</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@fragment</span> = <span class="ruby-constant">ActionText</span><span class="ruby-operator">::</span><span class="ruby-constant">Fragment</span>.<span class="ruby-identifier">wrap</span>(<span class="ruby-identifier">content</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
      <h2 class="sectiontitle">Instance Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-i-3D-3D">
            
              <b>==</b>(other)
            
            <a href="../../classes/ActionText/Content.html#method-i-3D-3D" name="method-i-3D-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3D-3D_source')" id="l_method-i-3D-3D_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L146" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-3D-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 146</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">==</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">class</span>
    <span class="ruby-identifier">to_html</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_html</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>)
    <span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-append_attachables">
            
              <b>append_attachables</b>(attachables)
            
            <a href="../../classes/ActionText/Content.html#method-i-append_attachables" name="method-i-append_attachables" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-append_attachables_source')" id="l_method-i-append_attachables_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L90" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-append_attachables_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 90</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">append_attachables</span>(<span class="ruby-identifier">attachables</span>)
  <span class="ruby-identifier">attachments</span> = <span class="ruby-constant">ActionText</span><span class="ruby-operator">::</span><span class="ruby-constant">Attachment</span>.<span class="ruby-identifier">from_attachables</span>(<span class="ruby-identifier">attachables</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>([<span class="ruby-keyword">self</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">presence</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">attachments</span>].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-as_json">
            
              <b>as_json</b>(*)
            
            <a href="../../classes/ActionText/Content.html#method-i-as_json" name="method-i-as_json" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-as_json_source')" id="l_method-i-as_json_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L138" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-as_json_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">as_json</span>(<span class="ruby-operator">*</span>)
  <span class="ruby-identifier">to_html</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-attachables">
            
              <b>attachables</b>()
            
            <a href="../../classes/ActionText/Content.html#method-i-attachables" name="method-i-attachables" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Extracts +ActionText::Attachable+s from the HTML fragment:</p>

<pre><code>attachable = ActiveStorage::Blob.first
html = %Q(&lt;action-text-attachment sgid=&quot;#{attachable.attachable_sgid}&quot; caption=&quot;Captioned&quot;&gt;&lt;/action-text-attachment&gt;)
content = ActionText::Content.new(html)
content.attachables # =&gt; [attachable]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-attachables_source')" id="l_method-i-attachables_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L84" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-attachables_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">attachables</span>
  <span class="ruby-ivar">@attachables</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">attachment_nodes</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">ActionText</span><span class="ruby-operator">::</span><span class="ruby-constant">Attachable</span>.<span class="ruby-identifier">from_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-attachment_galleries">
            
              <b>attachment_galleries</b>()
            
            <a href="../../classes/ActionText/Content.html#method-i-attachment_galleries" name="method-i-attachment_galleries" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-attachment_galleries_source')" id="l_method-i-attachment_galleries_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L68" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-attachment_galleries_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 68</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">attachment_galleries</span>
  <span class="ruby-ivar">@attachment_galleries</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">attachment_gallery_nodes</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">attachment_gallery_for_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-attachments">
            
              <b>attachments</b>()
            
            <a href="../../classes/ActionText/Content.html#method-i-attachments" name="method-i-attachments" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Extracts +ActionText::Attachment+s from the HTML fragment:</p>

<pre><code>attachable = ActiveStorage::Blob.first
html = %Q(&lt;action-text-attachment sgid=&quot;#{attachable.attachable_sgid}&quot; caption=&quot;Captioned&quot;&gt;&lt;/action-text-attachment&gt;)
content = ActionText::Content.new(html)
content.attachments # =&gt; [#&lt;ActionText::Attachment attachable=#&lt;ActiveStorage::Blob...
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-attachments_source')" id="l_method-i-attachments_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L62" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-attachments_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">attachments</span>
  <span class="ruby-ivar">@attachments</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">attachment_nodes</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">attachment_for_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-gallery_attachments">
            
              <b>gallery_attachments</b>()
            
            <a href="../../classes/ActionText/Content.html#method-i-gallery_attachments" name="method-i-gallery_attachments" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-gallery_attachments_source')" id="l_method-i-gallery_attachments_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L74" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-gallery_attachments_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">gallery_attachments</span>
  <span class="ruby-ivar">@gallery_attachments</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">attachment_galleries</span>.<span class="ruby-identifier">flat_map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:attachments</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-inspect">
            
              <b>inspect</b>()
            
            <a href="../../classes/ActionText/Content.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L142" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 142</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inspect</span>
  <span class="ruby-node">&quot;#&lt;#{self.class.name} #{to_html.truncate(25).inspect}&gt;&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-links">
            
              <b>links</b>()
            
            <a href="../../classes/ActionText/Content.html#method-i-links" name="method-i-links" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Extracts links from the HTML fragment:</p>

<pre><code>html = &#39;&lt;a href=&quot;http://example.com/&quot;&gt;Example&lt;/a&gt;&#39;
content = ActionText::Content.new(html)
content.links # =&gt; [&quot;http://example.com/&quot;]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-links_source')" id="l_method-i-links_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L52" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-links_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">links</span>
  <span class="ruby-ivar">@links</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">fragment</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-string">&quot;a[href]&quot;</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>[<span class="ruby-string">&quot;href&quot;</span>] }.<span class="ruby-identifier">uniq</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-render_attachment_galleries">
            
              <b>render_attachment_galleries</b>(&amp;block)
            
            <a href="../../classes/ActionText/Content.html#method-i-render_attachment_galleries" name="method-i-render_attachment_galleries" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-render_attachment_galleries_source')" id="l_method-i-render_attachment_galleries_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L103" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-render_attachment_galleries_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">render_attachment_galleries</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">content</span> = <span class="ruby-constant">ActionText</span><span class="ruby-operator">::</span><span class="ruby-constant">AttachmentGallery</span>.<span class="ruby-identifier">fragment_by_replacing_attachment_gallery_nodes</span>(<span class="ruby-identifier">fragment</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">attachment_gallery_for_node</span>(<span class="ruby-identifier">node</span>))
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">content</span>, <span class="ruby-value">canonicalize:</span> <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-render_attachments">
            
              <b>render_attachments</b>(**options, &amp;block)
            
            <a href="../../classes/ActionText/Content.html#method-i-render_attachments" name="method-i-render_attachments" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-render_attachments_source')" id="l_method-i-render_attachments_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L95" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-render_attachments_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 95</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">render_attachments</span>(<span class="ruby-operator">**</span><span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">content</span> = <span class="ruby-identifier">fragment</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-constant">ActionText</span><span class="ruby-operator">::</span><span class="ruby-constant">Attachment</span>.<span class="ruby-identifier">tag_name</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">node</span>[<span class="ruby-string">&quot;content&quot;</span>] = <span class="ruby-identifier">sanitize_content_attachment</span>(<span class="ruby-identifier">node</span>[<span class="ruby-string">&quot;content&quot;</span>])
    <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">attachment_for_node</span>(<span class="ruby-identifier">node</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>))
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">content</span>, <span class="ruby-value">canonicalize:</span> <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_html">
            
              <b>to_html</b>()
            
            <a href="../../classes/ActionText/Content.html#method-i-to_html" name="method-i-to_html" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_html_source')" id="l_method-i-to_html_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L122" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_html_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 122</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_html</span>
  <span class="ruby-identifier">fragment</span>.<span class="ruby-identifier">to_html</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_partial_path">
            
              <b>to_partial_path</b>()
            
            <a href="../../classes/ActionText/Content.html#method-i-to_partial_path" name="method-i-to_partial_path" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_partial_path_source')" id="l_method-i-to_partial_path_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L130" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_partial_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 130</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_partial_path</span>
  <span class="ruby-string">&quot;action_text/contents/content&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_plain_text">
            
              <b>to_plain_text</b>()
            
            <a href="../../classes/ActionText/Content.html#method-i-to_plain_text" name="method-i-to_plain_text" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the content as plain text with all HTML tags removed.</p>

<pre><code>content = ActionText::Content.new(&quot;&lt;h1&gt;Funny times!&lt;/h1&gt;&quot;)
content.to_plain_text # =&gt; &quot;Funny times!&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_plain_text_source')" id="l_method-i-to_plain_text_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L114" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_plain_text_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_plain_text</span>
  <span class="ruby-identifier">render_attachments</span>(<span class="ruby-value">with_full_attributes:</span> <span class="ruby-keyword">false</span>, <span class="ruby-operator">&amp;</span><span class="ruby-value">:to_plain_text</span>).<span class="ruby-identifier">fragment</span>.<span class="ruby-identifier">to_plain_text</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_rendered_html_with_layout">
            
              <b>to_rendered_html_with_layout</b>()
            
            <a href="../../classes/ActionText/Content.html#method-i-to_rendered_html_with_layout" name="method-i-to_rendered_html_with_layout" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_rendered_html_with_layout_source')" id="l_method-i-to_rendered_html_with_layout_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L126" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_rendered_html_with_layout_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 126</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_rendered_html_with_layout</span>
  <span class="ruby-identifier">render</span> <span class="ruby-value">layout:</span> <span class="ruby-string">&quot;action_text/contents/content&quot;</span>, <span class="ruby-value">partial:</span> <span class="ruby-identifier">to_partial_path</span>, <span class="ruby-value">formats:</span> <span class="ruby-value">:html</span>, <span class="ruby-value">locals:</span> { <span class="ruby-value">content:</span> <span class="ruby-keyword">self</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_s">
            
              <b>to_s</b>()
            
            <a href="../../classes/ActionText/Content.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L134" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_s</span>
  <span class="ruby-identifier">to_rendered_html_with_layout</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_trix_html">
            
              <b>to_trix_html</b>()
            
            <a href="../../classes/ActionText/Content.html#method-i-to_trix_html" name="method-i-to_trix_html" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_trix_html_source')" id="l_method-i-to_trix_html_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/49dc0a12f185d791f1826396035b54cf3fb1771e/actiontext/lib/action_text/content.rb#L118" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_trix_html_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actiontext/lib/action_text/content.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_trix_html</span>
  <span class="ruby-identifier">render_attachments</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:to_trix_attachment</span>).<span class="ruby-identifier">to_html</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </main>
  </body>
</html>
