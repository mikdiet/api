<!DOCTYPE html>
<html lang="en">
<head>
    <title>SyntaxSuggest::CodeLine</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='["SyntaxSuggest", "CodeLine"]'>


    <meta property="og:title" value="SyntaxSuggest::CodeLine">

  
    
    <meta name="description" content="Represents a single line of code of a given source file  This object contains metadata about the line such as amount of indentation, if it is empty or not, and lexical data, such as if it has an ‘end`.">
    <meta property="og:description" content="Represents a single line of code of a given source file  This object contains metadata about the line such as amount of indentation, if it is empty or not, and lexical data, such as if it has an ‘end`.">
  

    <meta name="keywords" content="SyntaxSuggest::CodeLine class, from_source, new, indent_index, is_kw?, is_end?, mark_invisible, visible?, hidden?, empty?, not_empty?, to_s, <=>, ignore_newline_not_beg?, trailing_slash?">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Class</span>
            SyntaxSuggest::CodeLine
            
                <span class="parent">&lt;
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h2>
        <ul class="files">
            
            <li><a href="../../files/ruby/lib/syntax_suggest/code_line_rb.html">ruby/lib/syntax_suggest/code_line.rb</a></li>
            
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Represents a single line of code of a given source file</p>

<p>This object contains metadata about the line such as amount of indentation, if it is empty or not, and lexical data, such as if it has an ‘end` or a keyword in it.</p>

<p>Visibility of lines can be toggled off. Marking a line as invisible indicates that it should not be used for syntax checks. It’s functionally the same as commenting it out.</p>

<p>Example:</p>

<pre><code>line = CodeLine.from_source(&quot;def foo\n&quot;).first
line.number =&gt; 1
line.empty? # =&gt; false
line.visible? # =&gt; true
line.mark_invisible
line.visible? # =&gt; false
</code></pre>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-3C-3D-3E">&lt;=&gt;</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-empty-3F">empty?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-from_source">from_source</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-hidden-3F">hidden?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-ignore_newline_not_beg-3F">ignore_newline_not_beg?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-indent_index">indent_index</a>,
              </li>
            
              
              <li>
                <a href="#method-i-is_end-3F">is_end?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-is_kw-3F">is_kw?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-mark_invisible">mark_invisible</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-i-not_empty-3F">not_empty?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>,
              </li>
            
              
              <li>
                <a href="#method-i-trailing_slash-3F">trailing_slash?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-visible-3F">visible?</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <h2 class="sectiontitle">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">TRAILING_SLASH</td>
            <td>=</td>
            <td class="attr-value">(&quot;\\&quot; + $/).freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <h2 class="sectiontitle">Attributes</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>indent</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>index</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>lex</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>line</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>line_number</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>number</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>original</td>
            <td class='attr-desc'><p>When the code line is marked invisible we retain the original value of it’s line this is useful for debugging and for showing extra context</p>

<p><a href="DisplayCodeWithLineNumbers.html"><code>DisplayCodeWithLineNumbers</code></a> will render all lines given to it, not just visible lines, it uses the original method to obtain them.</p></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <h2 class="sectiontitle">Class Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-c-from_source">
            
              <b>from_source</b>(source, lines: nil)
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-c-from_source" name="method-c-from_source" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns an array of <a href="CodeLine.html"><code>CodeLine</code></a> objects from the source string</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-from_source_source')" id="l_method-c-from_source_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L29" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-from_source_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 29</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">from_source</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">lines:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">lines</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">lines</span>
  <span class="ruby-identifier">lex_array_for_line</span> = <span class="ruby-constant">LexAll</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">source:</span> <span class="ruby-identifier">source</span>, <span class="ruby-value">source_lines:</span> <span class="ruby-identifier">lines</span>).<span class="ruby-identifier">each_with_object</span>(<span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = [] }) { <span class="ruby-operator">|</span><span class="ruby-identifier">lex</span>, <span class="ruby-identifier">hash</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">lex</span>.<span class="ruby-identifier">line</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">lex</span> }
  <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">map</span>.<span class="ruby-identifier">with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">CodeLine</span>.<span class="ruby-identifier">new</span>(
      <span class="ruby-value">line:</span> <span class="ruby-identifier">line</span>,
      <span class="ruby-value">index:</span> <span class="ruby-identifier">index</span>,
      <span class="ruby-value">lex:</span> <span class="ruby-identifier">lex_array_for_line</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>]
    )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-new">
            
              <b>new</b>(line:, index:, lex:)
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L42" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 42</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-value">line:</span>, <span class="ruby-value">index:</span>, <span class="ruby-value">lex:</span>)
  <span class="ruby-ivar">@lex</span> = <span class="ruby-identifier">lex</span>
  <span class="ruby-ivar">@line</span> = <span class="ruby-identifier">line</span>
  <span class="ruby-ivar">@index</span> = <span class="ruby-identifier">index</span>
  <span class="ruby-ivar">@original</span> = <span class="ruby-identifier">line</span>
  <span class="ruby-ivar">@line_number</span> = <span class="ruby-ivar">@index</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
  <span class="ruby-identifier">strip_line</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">strip_line</span>.<span class="ruby-identifier">lstrip!</span>

  <span class="ruby-ivar">@indent</span> = <span class="ruby-keyword">if</span> (<span class="ruby-ivar">@empty</span> = <span class="ruby-identifier">strip_line</span>.<span class="ruby-identifier">empty?</span>)
    <span class="ruby-identifier">line</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span> <span class="ruby-comment"># Newline removed from strip_line is not &quot;whitespace&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">line</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">strip_line</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">set_kw_end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
      <h2 class="sectiontitle">Instance Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-i-3C-3D-3E">
            
              <b>&lt;=&gt;</b>(other)
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-i-3C-3D-3E" name="method-i-3C-3D-3E" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Comparison operator, needed for equality and sorting</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3C-3D-3E_source')" id="l_method-i-3C-3D-3E_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L150" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-3C-3D-3E_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 150</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">&lt;=&gt;</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-identifier">index</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">index</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-empty-3F">
            
              <b>empty?</b>()
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-i-empty-3F" name="method-i-empty-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>An ‘empty?` line is one that was originally left empty in the source code, while a “hidden” line is one that we’ve since marked as “invisible”</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-empty-3F_source')" id="l_method-i-empty-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L115" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-empty-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 115</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">empty?</span>
  <span class="ruby-ivar">@empty</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-hidden-3F">
            
              <b>hidden?</b>()
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-i-hidden-3F" name="method-i-hidden-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Opposite or ‘visible?` (note: different than `empty?`)</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-hidden-3F_source')" id="l_method-i-hidden-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L108" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-hidden-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hidden?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">visible?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-ignore_newline_not_beg-3F">
            
              <b>ignore_newline_not_beg?</b>()
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-i-ignore_newline_not_beg-3F" name="method-i-ignore_newline_not_beg-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <dl class="rdoc-list label-list"><dt>Not stable API
<dd>
<p>Lines that have a ‘on_ignored_nl` type token and NOT a `BEG` type seem to be a good proxy for the ability to join multiple lines into one.</p>

<p>This predicate method is used to determine when those two criteria have been met.</p>

<p>The one known case this doesn’t handle is:</p>

<pre><code>Ripper.lex &lt;&lt;~EOM
  a &amp;&amp;
   b ||
   c
EOM
</code></pre>

<p>For some reason this introduces ‘on_ignore_newline` but with BEG type</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-ignore_newline_not_beg-3F_source')" id="l_method-i-ignore_newline_not_beg-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L172" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-ignore_newline_not_beg-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 172</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">ignore_newline_not_beg?</span>
  <span class="ruby-ivar">@ignore_newline_not_beg</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-indent_index">
            
              <b>indent_index</b>()
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-i-indent_index" name="method-i-indent_index" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Used for stable sort via indentation level</p>

<p>Ruby’s sort is not “stable” meaning that when multiple elements have the same value, they are not guaranteed to return in the same order they were put in.</p>

<p>So when multiple code lines have the same indentation level, they’re sorted by their index value which is unique and consistent.</p>

<p>This is mostly needed for consistency of the test suite</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-indent_index_source')" id="l_method-i-indent_index_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L72" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-indent_index_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">indent_index</span>
  <span class="ruby-ivar">@indent_index</span> <span class="ruby-operator">||=</span> [<span class="ruby-identifier">indent</span>, <span class="ruby-identifier">index</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-is_end-3F">
            
              <b>is_end?</b>()
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-i-is_end-3F" name="method-i-is_end-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns true if the code line is determined to contain an ‘end` keyword</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-is_end-3F_source')" id="l_method-i-is_end-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L87" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-is_end-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">is_end?</span>
  <span class="ruby-ivar">@is_end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-is_kw-3F">
            
              <b>is_kw?</b>()
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-i-is_kw-3F" name="method-i-is_kw-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns true if the code line is determined to contain a keyword that matches with an ‘end`</p>

<p>For example: ‘def`, `do`, `begin`, `ensure`, etc.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-is_kw-3F_source')" id="l_method-i-is_kw-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L81" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-is_kw-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 81</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">is_kw?</span>
  <span class="ruby-ivar">@is_kw</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-mark_invisible">
            
              <b>mark_invisible</b>()
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-i-mark_invisible" name="method-i-mark_invisible" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Used to hide lines</p>

<p>The search alorithm will group lines into blocks then if those blocks are determined to represent valid code they will be hidden</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-mark_invisible_source')" id="l_method-i-mark_invisible_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L96" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-mark_invisible_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 96</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mark_invisible</span>
  <span class="ruby-ivar">@line</span> = <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-not_empty-3F">
            
              <b>not_empty?</b>()
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-i-not_empty-3F" name="method-i-not_empty-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Opposite of ‘empty?` (note: different than `visible?`)</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-not_empty-3F_source')" id="l_method-i-not_empty-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L120" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-not_empty-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 120</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">not_empty?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_s">
            
              <b>to_s</b>()
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Renders the given line</p>

<p>Also allows us to represent source code as an array of code lines.</p>

<p>When we have an array of code line elements calling ‘join` on the array will call `to_s` on each element, which essentially converts it back into it’s original source string.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L133" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 133</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_s</span>
  <span class="ruby-identifier">line</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-trailing_slash-3F">
            
              <b>trailing_slash?</b>()
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-i-trailing_slash-3F" name="method-i-trailing_slash-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-trailing_slash-3F_source')" id="l_method-i-trailing_slash-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L184" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-trailing_slash-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">trailing_slash?</span>
  <span class="ruby-identifier">last</span> = <span class="ruby-ivar">@lex</span>.<span class="ruby-identifier">last</span>
  <span class="ruby-identifier">last</span>&amp;.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:on_tstring_end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-visible-3F">
            
              <b>visible?</b>()
            
            <a href="../../classes/SyntaxSuggest/CodeLine.html#method-i-visible-3F" name="method-i-visible-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Means the line was marked as “invisible” Confusingly, “empty” lines are visible…they just don’t contain any source code other than a newline (“n”).</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-visible-3F_source')" id="l_method-i-visible-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/syntax_suggest/code_line.rb#L103" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-visible-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/syntax_suggest/code_line.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visible?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">line</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </main>
  </body>
</html>
