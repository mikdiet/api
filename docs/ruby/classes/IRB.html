<!DOCTYPE html>
<html lang="en">
<head>
    <title>IRB</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='["IRB"]'>


    <meta property="og:title" value="IRB">

  
    
    <meta name="description" content="IRB  Module IRB (“Interactive Ruby”) provides a shell-like interface that supports user interaction with the Ruby interpreter.">
    <meta property="og:description" content="IRB  Module IRB (“Interactive Ruby”) provides a shell-like interface that supports user interaction with the Ruby interpreter.">
  

    <meta name="keywords" content="IRB class, CurrentContext, start, irb_exit, irb_abort, JobManager, irb, initialize_tracer, print_usage">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Module</span>
            IRB
            
        </h2>
        <ul class="files">
            
            <li><a href="../files/ruby/lib/irb_rb.html">ruby/lib/irb.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/backtrace_rb.html">ruby/lib/irb/cmd/backtrace.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/break_rb.html">ruby/lib/irb/cmd/break.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/catch_rb.html">ruby/lib/irb/cmd/catch.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/chws_rb.html">ruby/lib/irb/cmd/chws.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/continue_rb.html">ruby/lib/irb/cmd/continue.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/debug_rb.html">ruby/lib/irb/cmd/debug.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/delete_rb.html">ruby/lib/irb/cmd/delete.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/edit_rb.html">ruby/lib/irb/cmd/edit.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/finish_rb.html">ruby/lib/irb/cmd/finish.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/help_rb.html">ruby/lib/irb/cmd/help.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/history_rb.html">ruby/lib/irb/cmd/history.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/info_rb.html">ruby/lib/irb/cmd/info.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/irb_info_rb.html">ruby/lib/irb/cmd/irb_info.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/load_rb.html">ruby/lib/irb/cmd/load.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/ls_rb.html">ruby/lib/irb/cmd/ls.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/measure_rb.html">ruby/lib/irb/cmd/measure.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/next_rb.html">ruby/lib/irb/cmd/next.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/nop_rb.html">ruby/lib/irb/cmd/nop.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/pushws_rb.html">ruby/lib/irb/cmd/pushws.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/show_cmds_rb.html">ruby/lib/irb/cmd/show_cmds.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/show_doc_rb.html">ruby/lib/irb/cmd/show_doc.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/show_source_rb.html">ruby/lib/irb/cmd/show_source.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/step_rb.html">ruby/lib/irb/cmd/step.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/subirb_rb.html">ruby/lib/irb/cmd/subirb.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/cmd/whereami_rb.html">ruby/lib/irb/cmd/whereami.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/color_rb.html">ruby/lib/irb/color.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/color_printer_rb.html">ruby/lib/irb/color_printer.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/completion_rb.html">ruby/lib/irb/completion.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/context_rb.html">ruby/lib/irb/context.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/debug_rb.html">ruby/lib/irb/debug.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/debug/ui_rb.html">ruby/lib/irb/debug/ui.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/easter-egg_rb.html">ruby/lib/irb/easter-egg.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/ext/change-ws_rb.html">ruby/lib/irb/ext/change-ws.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/ext/eval_history_rb.html">ruby/lib/irb/ext/eval_history.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/ext/loader_rb.html">ruby/lib/irb/ext/loader.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/ext/multi-irb_rb.html">ruby/lib/irb/ext/multi-irb.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/ext/tracer_rb.html">ruby/lib/irb/ext/tracer.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/ext/use-loader_rb.html">ruby/lib/irb/ext/use-loader.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/ext/workspaces_rb.html">ruby/lib/irb/ext/workspaces.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/extend-command_rb.html">ruby/lib/irb/extend-command.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/frame_rb.html">ruby/lib/irb/frame.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/help_rb.html">ruby/lib/irb/help.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/history_rb.html">ruby/lib/irb/history.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/init_rb.html">ruby/lib/irb/init.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/input-method_rb.html">ruby/lib/irb/input-method.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/inspector_rb.html">ruby/lib/irb/inspector.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/lc/error_rb.html">ruby/lib/irb/lc/error.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/lc/ja/error_rb.html">ruby/lib/irb/lc/ja/error.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/locale_rb.html">ruby/lib/irb/locale.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/nesting_parser_rb.html">ruby/lib/irb/nesting_parser.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/notifier_rb.html">ruby/lib/irb/notifier.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/output-method_rb.html">ruby/lib/irb/output-method.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/pager_rb.html">ruby/lib/irb/pager.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/ruby-lex_rb.html">ruby/lib/irb/ruby-lex.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/source_finder_rb.html">ruby/lib/irb/source_finder.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/statement_rb.html">ruby/lib/irb/statement.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/version_rb.html">ruby/lib/irb/version.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/workspace_rb.html">ruby/lib/irb/workspace.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/ws-for-case-2_rb.html">ruby/lib/irb/ws-for-case-2.rb</a></li>
            
            <li><a href="../files/ruby/lib/irb/xmp_rb.html">ruby/lib/irb/xmp.rb</a></li>
            
            <li><a href="../files/ruby/lib/un_rb.html">ruby/lib/un.rb</a></li>
            
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h2 id="module-IRB-label-IRB">IRB</h2>

<p>Module IRB (“Interactive Ruby”) provides a shell-like interface that supports user interaction with the Ruby interpreter.</p>

<p>It operates as a <em>read-eval-print loop</em> (<a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a>) that:</p>
<ul><li>
<p><strong><em>Reads</em></strong> each character as you type. You can modify the IRB context to change the way input works. See <a href="IRB.html#module-IRB-label-Input">Input</a>.</p>
</li><li>
<p><strong><em>Evaluates</em></strong> the code each time it has read a syntactically complete passage.</p>
</li><li>
<p><strong><em>Prints</em></strong> after evaluating. You can modify the IRB context to change the way output works. See <a href="IRB.html#module-IRB-label-Output">Output</a>.</p>
</li></ul>

<p>Example:</p>

<pre><code>$ irb
irb(main):001&gt; File.basename(Dir.pwd)
=&gt; &quot;irb&quot;
irb(main):002&gt; Dir.entries(&#39;.&#39;).size
=&gt; 25
irb(main):003* Dir.entries(&#39;.&#39;).select do |entry|
irb(main):004*   entry.start_with?(&#39;R&#39;)
irb(main):005&gt; end
=&gt; [&quot;README.md&quot;, &quot;Rakefile&quot;]
</code></pre>

<p>The typed input may also include <a href="IRB.html#module-IRB-label-IRB-Specific+Commands">IRB-specific commands</a>.</p>

<p>As seen above, you can start IRB by using the shell command <code>irb</code>.</p>

<p>You can stop an IRB session by typing command <code>exit</code>:</p>

<pre><code>irb(main):006&gt; exit
$
</code></pre>

<p>At that point, IRB calls any hooks found in array <code>IRB.conf[:AT_EXIT]</code>, then exits.</p>

<h2 id="module-IRB-label-Startup">Startup</h2>

<p>At startup, IRB:</p>
<ol><li>
<p>Interprets (as Ruby code) the content of the <a href="IRB.html#module-IRB-label-Configuration+File">configuration file</a> (if given).</p>
</li><li>
<p>Constructs the initial session context from <a href="IRB.html#module-IRB-label-Hash+IRB.conf">hash IRB.conf</a> and from default values; the hash content may have been affected by command-line options, and by direct assignments in the configuration file.</p>
</li><li>
<p>Assigns the context to variable <code>conf</code>.</p>
</li><li>
<p>Assigns command-line arguments to variable <code>ARGV</code>.</p>
</li><li>
<p>Prints the <a href="IRB.html#module-IRB-label-Prompt+and+Return+Formats">prompt</a>.</p>
</li><li>
<p>Puts the content of the <a href="IRB.html#module-IRB-label-Initialization+Script">initialization script</a> onto the IRB shell, just as if it were user-typed commands.</p>
</li></ol>

<h3 id="module-IRB-label-The+Command+Line">The Command Line</h3>

<p>On the command line, all options precede all arguments; the first item that is not recognized as an option is treated as an argument, as are all items that follow.</p>

<h4 id="module-IRB-label-Command-Line+Options">Command-Line Options</h4>

<p>Many command-line options affect entries in hash <code>IRB.conf</code>, which in turn affect the initial configuration of the IRB session.</p>

<p>Details of the options are described in the relevant subsections below.</p>

<p>A cursory list of the IRB command-line options may be seen in the <a href="https://raw.githubusercontent.com/ruby/irb/master/lib/irb/lc/help-message">help message</a>, which is also displayed if you use command-line option <code>--help</code>.</p>

<p>If you are interested in a specific option, consult the index.</p>

<h4 id="module-IRB-label-Command-Line+Arguments">Command-Line Arguments</h4>

<p>Command-line arguments are passed to IRB in array <code>ARGV</code>:</p>

<pre><code>$ irb --noscript Foo Bar Baz
irb(main):001&gt; ARGV
=&gt; [&quot;Foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;]
irb(main):002&gt; exit
$
</code></pre>

<p>Command-line option <code>--</code> causes everything that follows to be treated as arguments, even those that look like options:</p>

<pre><code>$ irb --noscript -- --noscript -- Foo Bar Baz
irb(main):001&gt; ARGV
=&gt; [&quot;--noscript&quot;, &quot;--&quot;, &quot;Foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;]
irb(main):002&gt; exit
$
</code></pre>

<h3 id="module-IRB-label-Configuration+File">Configuration <a href="File.html"><code>File</code></a></h3>

<p>You can initialize IRB via a <em>configuration file</em>.</p>

<p>If command-line option <code>-f</code> is given, no configuration file is looked for.</p>

<p>Otherwise, IRB reads and interprets a configuration file if one is available.</p>

<p>The configuration file can contain any Ruby code, and can usefully include user code that:</p>
<ul><li>
<p>Can then be debugged in IRB.</p>
</li><li>
<p>Configures IRB itself.</p>
</li><li>
<p>Requires or loads files.</p>
</li></ul>

<p>The path to the configuration file is the first found among:</p>
<ul><li>
<p>The value of variable <code>$IRBRC</code>, if defined.</p>
</li><li>
<p>The value of variable <code>$XDG_CONFIG_HOME/irb/irbrc</code>, if defined.</p>
</li><li>
<p><a href="File.html"><code>File</code></a> <code>$HOME/.irbrc</code>, if it exists.</p>
</li><li>
<p><a href="File.html"><code>File</code></a> <code>$HOME/.config/irb/irbrc</code>, if it exists.</p>
</li><li>
<p><a href="File.html"><code>File</code></a> <code>.config/irb/irbrc</code> in the current directory, if it exists.</p>
</li><li>
<p><a href="File.html"><code>File</code></a> <code>.irbrc</code> in the current directory, if it exists.</p>
</li><li>
<p><a href="File.html"><code>File</code></a> <code>irb.rc</code> in the current directory, if it exists.</p>
</li><li>
<p><a href="File.html"><code>File</code></a> <code>_irbrc</code> in the current directory, if it exists.</p>
</li><li>
<p><a href="File.html"><code>File</code></a> <code>$irbrc</code> in the current directory, if it exists.</p>
</li></ul>

<p>If the search fails, there is no configuration file.</p>

<p>If the search succeeds, the configuration file is read as Ruby code, and so can contain any Ruby programming you like.</p>

<p>Method <code>conf.rc?</code> returns <code>true</code> if a configuration file was read, <code>false</code> otherwise. Hash entry <code>IRB.conf[:RC]</code> also contains that value.</p>

<h3 id="module-IRB-label-Hash+IRB.conf">Hash <code>IRB.conf</code></h3>

<p>The initial entries in hash <code>IRB.conf</code> are determined by:</p>
<ul><li>
<p>Default values.</p>
</li><li>
<p>Command-line options, which may override defaults.</p>
</li><li>
<p>Direct assignments in the configuration file.</p>
</li></ul>

<p>You can see the hash by typing <code>IRB.conf</code>.</p>

<p>Details of the entries’ meanings are described in the relevant subsections below.</p>

<p>If you are interested in a specific entry, consult the index.</p>

<h3 id="module-IRB-label-Notes+on+Initialization+Precedence">Notes on Initialization Precedence</h3>
<ul><li>
<p>Any conflict between an entry in hash <code>IRB.conf</code> and a command-line option is resolved in favor of the hash entry.</p>
</li><li>
<p>Hash <code>IRB.conf</code> affects the context only once, when the configuration file is interpreted; any subsequent changes to it do not affect the context and are therefore essentially meaningless.</p>
</li></ul>

<h3 id="module-IRB-label-Initialization+Script">Initialization Script</h3>

<p>By default, the first command-line argument (after any options) is the path to a Ruby initialization script.</p>

<p>IRB reads the initialization script and puts its content onto the IRB shell, just as if it were user-typed commands.</p>

<p>Command-line option <code>--noscript</code> causes the first command-line argument to be treated as an ordinary argument (instead of an initialization script); <code>--script</code> is the default.</p>

<h2 id="module-IRB-label-Input">Input</h2>

<p>This section describes the features that allow you to change the way IRB input works; see also <a href="IRB.html#module-IRB-label-Input+and+Output">Input and Output</a>.</p>

<h3 id="module-IRB-label-Input+Command+History">Input Command History</h3>

<p>By default, IRB stores a history of up to 1000 input commands in file <code>~/.irb_history</code> (or, if a <a href="IRB.html#module-IRB-label-Configuration+File">configuration file</a> is found, in file <code>.irb_history</code> inin the same directory as that file).</p>

<p>A new IRB session creates the history file if it does not exist, and appends to the file if it does exist.</p>

<p>You can change the filepath by adding to your configuration file: <code>IRB.conf[:HISTORY_FILE] = <em>filepath</em></code>, where <em>filepath</em> is a string filepath.</p>

<p>During the session, method <code>conf.history_file</code> returns the filepath, and method <code>conf.history_file = <em>new_filepath</em></code> copies the history to the file at <em>new_filepath</em>, which becomes the history file for the session.</p>

<p>You can change the number of commands saved by adding to your configuration file: <code>IRB.conf[:SAVE_HISTORY] = <em>n</em></code>, where <em>n</em> is one of:</p>
<ul><li>
<p>Positive integer: the number of commands to be saved,</p>
</li><li>
<p>Zero: all commands are to be saved.</p>
</li><li>
<p><code>nil</code>: no commands are to be saved,.</p>
</li></ul>

<p>During the session, you can use methods <code>conf.save_history</code> or <code>conf.save_history=</code> to retrieve or change the count.</p>

<h3 id="module-IRB-label-Command+Aliases">Command Aliases</h3>

<p>By default, IRB defines several command aliases:</p>

<pre><code>irb(main):001&gt; conf.command_aliases
=&gt; {:&quot;$&quot;=&gt;:show_source, :&quot;@&quot;=&gt;:whereami}
</code></pre>

<p>You can change the initial aliases in the configuration file with:</p>

<pre><code>IRB.conf[:COMMAND_ALIASES] = {foo: :show_source, bar: :whereami}
</code></pre>

<p>You can replace the current aliases at any time with configuration method <code>conf.command_aliases=</code>; Because <code>conf.command_aliases</code> is a hash, you can modify it.</p>

<h3 id="module-IRB-label-End-of-File">End-of-File</h3>

<p>By default, <code>IRB.conf[:IGNORE_EOF]</code> is <code>false</code>, which means that typing the end-of-file character <code>Ctrl-D</code> causes the session to exit.</p>

<p>You can reverse that behavior by adding <code>IRB.conf[:IGNORE_EOF] = true</code> to the configuration file.</p>

<p>During the session, method <code>conf.ignore_eof?</code> returns the setting, and method <code>conf.ignore_eof = <em>boolean</em></code> sets it.</p>

<h3 id="module-IRB-label-SIGINT">SIGINT</h3>

<p>By default, <code>IRB.conf[:IGNORE_SIGINT]</code> is <code>true</code>, which means that typing the interrupt character <code>Ctrl-C</code> causes the session to exit.</p>

<p>You can reverse that behavior by adding <code>IRB.conf[:IGNORE_SIGING] = false</code> to the configuration file.</p>

<p>During the session, method <code>conf.ignore_siging?</code> returns the setting, and method <code>conf.ignore_sigint = <em>boolean</em></code> sets it.</p>

<h3 id="module-IRB-label-Automatic+Completion">Automatic Completion</h3>

<p>By default, IRB enables <a href="https://en.wikipedia.org/wiki/Autocomplete#In_command-line_interpreters">automatic completion</a>:</p>

<p>You can disable it by either of these:</p>
<ul><li>
<p>Adding <code>IRB.conf[:USE_AUTOCOMPLETE] = false</code> to the configuration file.</p>
</li><li>
<p>Giving command-line option <code>--noautocomplete</code> (<code>--autocomplete</code> is the default).</p>
</li></ul>

<p>Method <code>conf.use_autocomplete?</code> returns <code>true</code> if automatic completion is enabled, <code>false</code> otherwise.</p>

<p>The setting may not be changed during the session.</p>

<h3 id="module-IRB-label-Automatic+Indentation">Automatic Indentation</h3>

<p>By default, IRB automatically indents lines of code to show structure (e.g., it indent the contents of a block).</p>

<p>The current setting is returned by the configuration method <code>conf.auto_indent_mode</code>.</p>

<p>The default initial setting is <code>true</code>:</p>

<pre><code>irb(main):001&gt; conf.auto_indent_mode
=&gt; true
irb(main):002* Dir.entries(&#39;.&#39;).select do |entry|
irb(main):003*   entry.start_with?(&#39;R&#39;)
irb(main):004&gt; end
=&gt; [&quot;README.md&quot;, &quot;Rakefile&quot;]
</code></pre>

<p>You can change the initial setting in the configuration file with:</p>

<pre><code>IRB.conf[:AUTO_INDENT] = false
</code></pre>

<p>Note that the <em>current</em> setting <em>may not</em> be changed in the IRB session.</p>

<h3 id="module-IRB-label-Input+Method">Input Method</h3>

<p>The IRB input method determines how command input is to be read; by default, the input method for a session is <a href="IRB/RelineInputMethod.html"><code>IRB::RelineInputMethod</code></a>.</p>

<p>You can set the input method by:</p>
<ul><li>
<p>Adding to the configuration file:</p>
<ul><li>
<p><code>IRB.conf[:USE_SINGLELINE] = true</code> or <code>IRB.conf[:USE_MULTILINE]= false</code> sets the input method to <a href="IRB/ReadlineInputMethod.html"><code>IRB::ReadlineInputMethod</code></a>.</p>
</li><li>
<p><code>IRB.conf[:USE_SINGLELINE] = false</code> or <code>IRB.conf[:USE_MULTILINE] = true</code> sets the input method to <a href="IRB/RelineInputMethod.html"><code>IRB::RelineInputMethod</code></a>.</p>
</li></ul>
</li><li>
<p>Giving command-line options:</p>
<ul><li>
<p><code>--singleline</code> or <code>--nomultiline</code> sets the input method to <a href="IRB/ReadlineInputMethod.html"><code>IRB::ReadlineInputMethod</code></a>.</p>
</li><li>
<p><code>--nosingleline</code> or &lt;tt&gt;–multiline/tt&gt; sets the input method to <a href="IRB/RelineInputMethod.html"><code>IRB::RelineInputMethod</code></a>.</p>
</li></ul>
</li></ul>

<p>Method <code>conf.use_multiline?</code> and its synonym <code>conf.use_reline</code> return:</p>
<ul><li>
<p><code>true</code> if option <code>--multiline</code> was given.</p>
</li><li>
<p><code>false</code> if option <code>--nomultiline</code> was given.</p>
</li><li>
<p><code>nil</code> if neither was given.</p>
</li></ul>

<p>Method <code>conf.use_singleline?</code> and its synonym <code>conf.use_readline</code> return:</p>
<ul><li>
<p><code>true</code> if option <code>--singleline</code> was given.</p>
</li><li>
<p><code>false</code> if option <code>--nosingleline</code> was given.</p>
</li><li>
<p><code>nil</code> if neither was given.</p>
</li></ul>

<h2 id="module-IRB-label-Output">Output</h2>

<p>This section describes the features that allow you to change the way IRB output works; see also <a href="IRB.html#module-IRB-label-Input+and+Output">Input and Output</a>.</p>

<h3 id="module-IRB-label-Return-Value+Printing+-28Echoing-29">Return-Value Printing (Echoing)</h3>

<p>By default, IRB prints (echoes) the values returned by all input commands.</p>

<p>You can change the initial behavior and suppress all echoing by:</p>
<ul><li>
<p>Adding to the configuration file: <code>IRB.conf[:ECHO] = false</code>. (The default value for this entry is <code>niL</code>, which means the same as <code>true</code>.)</p>
</li><li>
<p>Giving command-line option <code>--noecho</code>. (The default is <code>--echo</code>.)</p>
</li></ul>

<p>During the session, you can change the current setting with configuration method <code>conf.echo=</code> (set to <code>true</code> or <code>false</code>).</p>

<p>As stated above, by default IRB prints the values returned by all input commands; but IRB offers special treatment for values returned by assignment statements, which may be:</p>
<ul><li>
<p>Printed with truncation (to fit on a single line of output), which is the default; an ellipsis (<code>...</code> is suffixed, to indicate the truncation):</p>

<pre><code>irb(main):001&gt; x = &#39;abc&#39; * 100
</code></pre>
</li></ul>

<h1 id="module-IRB-label-3E+-22abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc...">&gt; “abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc…</h1>
<ul><li>
<p>Printed in full (regardless of the length).</p>
</li><li>
<p>Suppressed (not printed at all)</p>
</li></ul>

<p>You can change the initial behavior by:</p>
<ul><li>
<p>Adding to the configuration file: <code>IRB.conf[:ECHO_ON_ASSIGNMENT] = false</code>. (The default value for this entry is <code>niL</code>, which means the same as <code>:truncate</code>.)</p>
</li><li>
<p>Giving command-line option <code>--noecho-on-assignment</code> or <code>--echo-on-assignment</code>. (The default is <code>--truncate-echo-on-assigment</code>.)</p>
</li></ul>

<p>During the session, you can change the current setting with configuration method <code>conf.echo_on_assignment=</code> (set to <code>true</code>, <code>false</code>, or <code>:truncate</code>).</p>

<p>By default, IRB formats returned values by calling method <code>inspect</code>.</p>

<p>You can change the initial behavior by:</p>
<ul><li>
<p>Adding to the configuration file: <code>IRB.conf[:INSPECT_MODE] = false</code>. (The default value for this entry is <code>true</code>.)</p>
</li><li>
<p>Giving command-line option <code>--noinspect</code>. (The default is <code>--inspect</code>.)</p>
</li></ul>

<p>During the session, you can change the setting using method <code>conf.inspect_mode=</code>.</p>

<h3 id="module-IRB-label-Multiline+Output">Multiline Output</h3>

<p>By default, IRB prefixes a newline to a multiline response.</p>

<p>You can change the initial default value by adding to the configuation file:</p>

<pre><code>IRB.conf[:NEWLINE_BEFORE_MULTILINE_OUTPUT] = false
</code></pre>

<p>During a session, you can retrieve or set the value using methods <code>conf.newline_before_multiline_output?</code> and <code>conf.newline_before_multiline_output=</code>.</p>

<p>Examples:</p>

<pre><code>irb(main):001&gt; conf.inspect_mode = false
=&gt; false
irb(main):002&gt; &quot;foo\nbar&quot;
=&gt;
foo
bar
irb(main):003&gt; conf.newline_before_multiline_output = false
=&gt; false
irb(main):004&gt; &quot;foo\nbar&quot;
=&gt; foo
bar
</code></pre>

<h3 id="module-IRB-label-Evaluation+History">Evaluation History</h3>

<p>By default, IRB saves no history of evaluations (returned values), and the related methods <code>conf.eval_history</code>, <code>_</code>, and <code>__</code> are undefined.</p>

<p>You can turn on that history, and set the maximum number of evaluations to be stored:</p>
<ul><li>
<p>In the configuration file: add <code>IRB.conf[:EVAL_HISTORY] = <em>n</em></code>. (Examples below assume that we’ve added <code>IRB.conf[:EVAL_HISTORY] = 5</code>.)</p>
</li><li>
<p>In the session (at any time): <code>conf.eval_history = <em>n</em></code>.</p>
</li></ul>

<p>If <code>n</code> is zero, all evaluation history is stored.</p>

<p>Doing either of the above:</p>
<ul><li>
<p>Sets the maximum size of the evaluation history; defines method <code>conf.eval_history</code>, which returns the maximum size <code>n</code> of the evaluation history:</p>

<pre><code>irb(main):001&gt; conf.eval_history = 5
=&gt; 5
irb(main):002&gt; conf.eval_history
=&gt; 5
</code></pre>
</li><li>
<p>Defines variable <code>_</code>, which contains the most recent evaluation, or <code>nil</code> if none; same as method <code>conf.last_value</code>:</p>

<pre><code>irb(main):003&gt; _
=&gt; 5
irb(main):004&gt; :foo
=&gt; :foo
irb(main):005&gt; :bar
=&gt; :bar
irb(main):006&gt; _
=&gt; :bar
irb(main):007&gt; _
=&gt; :bar
</code></pre>
</li><li>
<p>Defines variable <code>__</code>:</p>
<ul><li>
<p><code>__</code> unadorned: contains all evaluation history:</p>

<pre><code>irb(main):008&gt; :foo
=&gt; :foo
irb(main):009&gt; :bar
=&gt; :bar
irb(main):010&gt; :baz
=&gt; :baz
irb(main):011&gt; :bat
=&gt; :bat
irb(main):012&gt; :bam
=&gt; :bam
irb(main):013&gt; __
=&gt;
9 :bar
10 :baz
11 :bat
12 :bam
irb(main):014&gt; __
=&gt;
10 :baz
11 :bat
12 :bam
13 ...self-history...
</code></pre>

<p>Note that when the evaluation is multiline, it is displayed differently.</p>
</li><li>
<p><code>__[</code><em>m</em><code>]</code>:</p>
<ul><li>
<p>Positive <em>m</em>:  contains the evaluation for the given line number, or <code>nil</code> if that line number is not in the evaluation history:</p>

<pre><code>irb(main):015&gt; __[12]
=&gt; :bam
irb(main):016&gt; __[1]
=&gt; nil
</code></pre>
</li><li>
<p>Negative <em>m</em>: contains the <code>mth</code>-from-end evaluation, or <code>nil</code> if that evaluation is not in the evaluation history:</p>

<pre><code>irb(main):017&gt; __[-3]
=&gt; :bam
irb(main):018&gt; __[-13]
=&gt; nil
</code></pre>
</li><li>
<p>Zero <em>m</em>: contains <code>nil</code>:</p>

<pre><code>irb(main):019&gt; __[0]
=&gt; nil
</code></pre>
</li></ul>
</li></ul>
</li></ul>

<h3 id="module-IRB-label-Prompt+and+Return+Formats">Prompt and Return Formats</h3>

<p>By default, IRB uses the prompt and return value formats defined in its <code>:DEFAULT</code> prompt mode.</p>

<h4 id="module-IRB-label-The+Default+Prompt+and+Return+Format">The Default Prompt and Return Format</h4>

<p>The default prompt and return values look like this:</p>

<pre><code>irb(main):001&gt; 1 + 1
=&gt; 2
irb(main):002&gt; 2 + 2
=&gt; 4
</code></pre>

<p>The prompt includes:</p>
<ul><li>
<p>The name of the running program (<code>irb</code>); see <a href="IRB.html#module-IRB-label-IRB+Name">IRB Name</a>.</p>
</li><li>
<p>The name of the current session (<code>main</code>); See <a href="IRB.html#module-IRB-label-IRB+Sessions">IRB Sessions</a>.</p>
</li><li>
<p>A 3-digit line number (1-based).</p>
</li></ul>

<p>The default prompt actually defines three formats:</p>
<ul><li>
<p>One for most situations (as above):</p>

<pre><code>irb(main):003&gt; Dir
=&gt; Dir
</code></pre>
</li><li>
<p>One for when the typed command is a statement continuation (adds trailing asterisk):</p>

<pre><code>irb(main):004* Dir.
</code></pre>
</li><li>
<p>One for when the typed command is a string continuation (adds trailing single-quote):</p>

<pre><code>irb(main):005&#39; Dir.entries(&#39;.
</code></pre>
</li></ul>

<p>You can see the prompt change as you type the characters in the following:</p>

<pre><code>irb(main):001* Dir.entries(&#39;.&#39;).select do |entry|
irb(main):002*   entry.start_with?(&#39;R&#39;)
irb(main):003&gt; end
=&gt; [&quot;README.md&quot;, &quot;Rakefile&quot;]
</code></pre>

<h4 id="module-IRB-label-Pre-Defined+Prompts">Pre-Defined Prompts</h4>

<p>IRB has several pre-defined prompts, stored in hash <code>IRB.conf[:PROMPT]</code>:</p>

<pre><code>irb(main):001&gt; IRB.conf[:PROMPT].keys
=&gt; [:NULL, :DEFAULT, :CLASSIC, :SIMPLE, :INF_RUBY, :XMP]
</code></pre>

<p>To see the full data for these, type <code>IRB.conf[:PROMPT]</code>.</p>

<p>Most of these prompt definitions include specifiers that represent values like the IRB name, session name, and line number; see <a href="IRB.html#module-IRB-label-Prompt+Specifiers">Prompt Specifiers</a>.</p>

<p>You can change the initial prompt and return format by:</p>
<ul><li>
<p>Adding to the configuration file: <code>IRB.conf[:PROMPT] = <em>mode</em></code> where <em>mode</em> is the symbol name of a prompt mode.</p>
</li><li>
<p>Giving a command-line option:</p>
<ul><li>
<p><code>--prompt <em>mode</em></code>: sets the prompt mode to <em>mode</em>. where <em>mode</em> is the symbol name of a prompt mode.</p>
</li><li>
<p><code>--simple-prompt</code> or <code>--sample-book-mode</code>: sets the prompt mode to <code>:SIMPLE</code>.</p>
</li><li>
<p><code>--inf-ruby-mode</code>: sets the prompt mode to <code>:INF_RUBY</code> and suppresses both <code>--multiline</code> and <code>--singleline</code>.</p>
</li><li>
<p><code>--noprompt</code>: suppresses prompting; does not affect echoing.</p>
</li></ul>
</li></ul>

<p>You can retrieve or set the current prompt mode with methods</p>

<p><code>conf.prompt_mode</code> and <code>conf.prompt_mode=</code>.</p>

<p>If you’re interested in prompts and return formats other than the defaults, you might experiment by trying some of the others.</p>

<h4 id="module-IRB-label-Custom+Prompts">Custom Prompts</h4>

<p>You can also define custom prompts and return formats, which may be done either in an IRB session or in the configuration file.</p>

<p>A prompt in IRB actually defines three prompts, as seen above. For simple custom data, we’ll make all three the same:</p>

<pre><code>irb(main):001* IRB.conf[:PROMPT][:MY_PROMPT] = {
irb(main):002*   PROMPT_I: &#39;: &#39;,
irb(main):003*   PROMPT_C: &#39;: &#39;,
irb(main):004*   PROMPT_S: &#39;: &#39;,
irb(main):005*   RETURN: &#39;=&gt; &#39;
irb(main):006&gt; }
=&gt; {:PROMPT_I=&gt;&quot;: &quot;, :PROMPT_C=&gt;&quot;: &quot;, :PROMPT_S=&gt;&quot;: &quot;, :RETURN=&gt;&quot;=&gt; &quot;}
</code></pre>

<p>If you define the custom prompt in the configuration file, you can also make it the current prompt by adding:</p>

<pre><code>IRB.conf[:PROMPT_MODE] = :MY_PROMPT
</code></pre>

<p>Regardless of where it’s defined, you can make it the current prompt in a session:</p>

<pre><code>conf.prompt_mode = :MY_PROMPT
</code></pre>

<p>You can view or modify the current prompt data with various configuration methods:</p>
<ul><li>
<p><code>conf.prompt_mode</code>, <code>conf.prompt_mode=</code>.</p>
</li><li>
<p><code>conf.prompt_c</code>, <code>conf.c=</code>.</p>
</li><li>
<p><code>conf.prompt_i</code>, <code>conf.i=</code>.</p>
</li><li>
<p><code>conf.prompt_s</code>, <code>conf.s=</code>.</p>
</li><li>
<p><code>conf.return_format</code>, <code>return_format=</code>.</p>
</li></ul>

<h4 id="module-IRB-label-Prompt+Specifiers">Prompt Specifiers</h4>

<p>A prompt’s definition can include specifiers for which certain values are substituted:</p>
<ul><li>
<p><code>%N</code>: the name of the running program.</p>
</li><li>
<p><code>%m</code>: the value of <code>self.to_s</code>.</p>
</li><li>
<p><code>%M</code>: the value of <code>self.inspect</code>.</p>
</li><li>
<p><code>%l</code>: an indication of the type of string; one of <code>&quot;</code>, <code>&#39;</code>, <code>/</code>, <code>]</code>.</p>
</li><li>
<p><code><em>NN</em>i</code>: Indentation level.</p>
</li><li>
<p><code><em>NN</em>n</code>: Line number.</p>
</li><li>
<p><code>%%</code>: Literal <code>%</code>.</p>
</li></ul>

<h3 id="module-IRB-label-Verbosity">Verbosity</h3>

<p>By default, IRB verbosity is disabled, which means that output is smaller rather than larger.</p>

<p>You can enable verbosity by:</p>
<ul><li>
<p>Adding to the configuration file: <code>IRB.conf[:VERBOSE] = true</code> (the default is <code>nil</code>).</p>
</li><li>
<p>Giving command-line options <code>--verbose</code> (the default is <code>--noverbose</code>).</p>
</li></ul>

<p>During a session, you can retrieve or set verbosity with methods <code>conf.verbose</code> and <code>conf.verbose=</code>.</p>

<h3 id="module-IRB-label-Help">Help</h3>

<p>Command-line option <code>--version</code> causes IRB to print its help text and exit.</p>

<h3 id="module-IRB-label-Version">Version</h3>

<p>Command-line option <code>--version</code> causes IRB to print its version text and exit.</p>

<h2 id="module-IRB-label-Input+and+Output">Input and Output</h2>

<h3 id="module-IRB-label-Color+Highlighting">Color Highlighting</h3>

<p>By default, IRB color highlighting is enabled, and is used for both:</p>
<ul><li>
<p>Input: As you type, IRB reads the typed characters and highlights elements that it recognizes; it also highlights errors such as mismatched parentheses.</p>
</li><li>
<p>Output: IRB highlights syntactical elements.</p>
</li></ul>

<p>You can disable color highlighting by:</p>
<ul><li>
<p>Adding to the configuration file: <code>IRB.conf[:USE_COLORIZE] = false</code> (the default value is <code>true</code>).</p>
</li><li>
<p>Giving command-line option <code>--nocolorize</code></p>
</li></ul>

<h2 id="module-IRB-label-Debugging">Debugging</h2>

<p>Command-line option <code>-d</code> sets variables <code>$VERBOSE</code> and <code>$DEBUG</code> to <code>true</code>; these have no effect on IRB output.</p>

<h3 id="module-IRB-label-Warnings">Warnings</h3>

<p>Command-line option <code>-w</code> suppresses warnings.</p>

<p>Command-line option &lt;tt>-W[<em>level</em>]&lt;tt&gt; sets warning level; 0=silence, 1=medium, 2=verbose.</p>

<h3 id="module-IRB-label-Performance+Measurement">Performance Measurement</h3>

<p><a href=":MEASURE">IRB.conf</a> <a href=":MEASURE_CALLBACKS">IRB.conf</a> <a href=":MEASURE_PROC">IRB.conf</a></p>

<h2 id="module-IRB-label-Other+Features">Other Features</h2>

<h3 id="module-IRB-label-Load+Modules">Load Modules</h3>

<p>You can specify the names of modules that are to be required at startup.</p>

<p>Array <code>conf.load_modules</code> determines the modules (if any) that are to be required during session startup. The array is used only during session startup, so the initial value is the only one that counts.</p>

<p>The default initial value is <code>[]</code> (load no modules):</p>

<pre><code>irb(main):001&gt; conf.load_modules
=&gt; []
</code></pre>

<p>You can set the default initial value via:</p>
<ul><li>
<p>Command-line option <code>-r</code></p>

<pre><code> $ irb -r csv -r json
irb(main):001&gt; conf.load_modules
=&gt; [&quot;csv&quot;, &quot;json&quot;]
</code></pre>
</li><li>
<p>Hash entry <code>IRB.conf[:LOAD_MODULES] = <em>array</em></code>:</p>

<pre><code>IRB.conf[:LOAD_MODULES] = %w[csv, json]
</code></pre>
</li></ul>

<p>Note that the configuration file entry overrides the command-line options.</p>

<h3 id="module-IRB-label-RI+Documentation+Directories">RI Documentation Directories</h3>

<p>You can specify the paths to RI documentation directories that are to be loaded (in addition to the default directories) at startup; see details about RI by typing <code>ri --help</code>.</p>

<p>Array <code>conf.extra_doc_dirs</code> determines the directories (if any) that are to be loaded during session startup. The array is used only during session startup, so the initial value is the only one that counts.</p>

<p>The default initial value is <code>[]</code> (load no extra documentation):</p>

<pre><code>irb(main):001&gt; conf.extra_doc_dirs
=&gt; []
</code></pre>

<p>You can set the default initial value via:</p>
<ul><li>
<p>Command-line option <code>--extra_doc_dir</code></p>

<pre><code>$ irb --extra-doc-dir your_doc_dir --extra-doc-dir my_doc_dir
irb(main):001&gt; conf.extra_doc_dirs
=&gt; [&quot;your_doc_dir&quot;, &quot;my_doc_dir&quot;]
</code></pre>
</li><li>
<p>Hash entry <code>IRB.conf[:EXTRA_DOC_DIRS] = <em>array</em></code>:</p>

<pre><code>IRB.conf[:EXTRA_DOC_DIRS] = %w[your_doc_dir my_doc_dir]
</code></pre>
</li></ul>

<p>Note that the configuration file entry overrides the command-line options.</p>

<h3 id="module-IRB-label-Context+Mode">Context Mode</h3>

<p><a href=":CONTEXT_MODE">IRB.conf</a></p>

<h3 id="module-IRB-label-IRB+Name">IRB Name</h3>

<p>You can specify a name for IRB.</p>

<p>The default initial value is <code>&#39;irb&#39;</code>:</p>

<pre><code>irb(main):001&gt; conf.irb_name
=&gt; &quot;irb&quot;
</code></pre>

<p>You can set the default initial value via hash entry <code>IRB.conf[:IRB_NAME] = <em>string</em></code>:</p>

<pre><code>IRB.conf[:IRB_NAME] = &#39;foo&#39;
</code></pre>

<h3 id="module-IRB-label-Application+Name">Application Name</h3>

<p>You can specify an application name for the IRB session.</p>

<p>The default initial value is <code>&#39;irb&#39;</code>:</p>

<pre><code>irb(main):001&gt; conf.ap_name
=&gt; &quot;irb&quot;
</code></pre>

<p>You can set the default initial value via hash entry <code>IRB.conf[:AP_NAME] = <em>string</em></code>:</p>

<pre><code>IRB.conf[:AP_NAME] = &#39;my_ap_name&#39;
</code></pre>

<h3 id="module-IRB-label-Configuration+Monitor">Configuration <a href="Monitor.html"><code>Monitor</code></a></h3>

<p>You can monitor changes to the configuration by assigning a proc to <code>IRB.conf[:IRB_RC]</code> in the configuration file:</p>

<pre><code>IRB.conf[:IRB_RC] = proc {|conf| puts conf.class }
</code></pre>

<p>Each time the configuration is changed, that proc is called with argument <code>conf</code>:</p>

<h3 id="module-IRB-label-Locale">Locale</h3>

<p><a href=":LC_MESSAGES">IRB.conf</a></p>

<h3 id="module-IRB-label-Encodings">Encodings</h3>

<p>Command-line option <code>-E <em>ex</em>[:<em>in</em>]</code> sets initial external (ex) and internal (in) encodings.</p>

<p>Command-line option <code>-U</code> sets both to UTF-8.</p>

<h3 id="module-IRB-label-Commands">Commands</h3>

<p>Please use the ‘show_cmds` command to see the list of available commands.</p>

<h3 id="module-IRB-label-IRB+Sessions"><a href="IRB.html"><code>IRB</code></a> Sessions</h3>

<p><a href="IRB.html"><code>IRB</code></a> has a special feature, that allows you to manage many sessions at once.</p>

<p>You can create new sessions with Irb.irb, and get a list of current sessions with the <code>jobs</code> command in the prompt.</p>

<h4 id="module-IRB-label-Configuration">Configuration</h4>

<p>The command line options, or IRB.conf, specify the default behavior of Irb.irb.</p>

<p>On the other hand, each conf in <a href="IRB.html#module-IRB-label-Command-Line+Options">Command-Line Options at <code>IRB</code></a> is used to individually configure <a href="IRB.html#method-c-irb"><code>IRB.irb</code></a>.</p>

<p>If a proc is set for <code>IRB.conf[:IRB_RC]</code>, its will be invoked after execution of that proc with the context of the current session as its argument. Each session can be configured using this mechanism.</p>

<h4 id="module-IRB-label-Session+variables">Session variables</h4>

<p>There are a few variables in every <a href="IRB/Irb.html"><code>Irb</code></a> session that can come in handy:</p>
<dl class="rdoc-list note-list"><dt><code>_</code>
<dd>
<p>The value command executed, as a local variable</p>
</dd><dt><code>__</code>
<dd>
<p>The history of evaluated commands. Available only if <code>IRB.conf[:EVAL_HISTORY]</code> is not <code>nil</code> (which is the default). See also <a href="IRB/Context.html#method-i-eval_history-3D"><code>IRB::Context#eval_history=</code></a> and IRB::History.</p>
</dd><dt><code>__[line_no]</code>
<dd>
<p>Returns the evaluation value at the given line number, <code>line_no</code>. If <code>line_no</code> is a negative, the return value <code>line_no</code> many lines before the most recent return value.</p>
</dd></dl>

<h2 id="module-IRB-label-Restrictions">Restrictions</h2>

<p>Ruby code typed into IRB behaves the same as Ruby code in a file, except that:</p>
<ul><li>
<p>Because IRB evaluates input immediately after it is syntactically complete, some results may be slightly different.</p>
</li><li>
<p>Forking may not be well behaved.</p>
</li></ul>

<p>nop.rb -</p>

<pre><code>by Keiju ISHITSUKA(keiju@ruby-lang.org)
</code></pre>

<p>irb/multi-irb.rb - multiple irb module</p>

<pre><code>by Keiju ISHITSUKA(keiju@ruby-lang.org)
</code></pre>

<p>frame.rb -</p>

<pre><code>by Keiju ISHITSUKA(Nihon Rational Software Co.,Ltd)
</code></pre>

<p>irb/help.rb - print usage module</p>

<pre><code>by Keiju ISHITSUKA(keiju@ishitsuka.com)
</code></pre>

<p>irb/lc/error.rb -</p>

<pre><code>by Keiju ISHITSUKA(keiju@ruby-lang.org)
</code></pre>

<p>irb/lc/ja/error.rb -</p>

<pre><code>by Keiju ISHITSUKA(keiju@ruby-lang.org)
</code></pre>

<p>output-method.rb - output methods used by irb</p>

<pre><code>by Keiju ISHITSUKA(keiju@ruby-lang.org)
</code></pre>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">MODULE</span>
          <a href="IRB/Color.html">IRB::Color</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="IRB/ContextExtender.html">IRB::ContextExtender</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="IRB/Debug.html">IRB::Debug</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="IRB/ExtendCommand.html">IRB::ExtendCommand</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="IRB/ExtendCommandBundle.html">IRB::ExtendCommandBundle</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="IRB/InputCompletor.html">IRB::InputCompletor</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="IRB/IrbLoader.html">IRB::IrbLoader</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="IRB/NestingParser.html">IRB::NestingParser</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="IRB/Notifier.html">IRB::Notifier</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/Abort.html">IRB::Abort</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/CantChangeBinding.html">IRB::CantChangeBinding</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/CantReturnToNormalMode.html">IRB::CantReturnToNormalMode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/Canvas.html">IRB::Canvas</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/ColorPrinter.html">IRB::ColorPrinter</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/Context.html">IRB::Context</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/EvalHistory.html">IRB::EvalHistory</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/FileInputMethod.html">IRB::FileInputMethod</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/Frame.html">IRB::Frame</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/IllegalParameter.html">IRB::IllegalParameter</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/IllegalRCGenerator.html">IRB::IllegalRCGenerator</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/InputMethod.html">IRB::InputMethod</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/Inspector.html">IRB::Inspector</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/Irb.html">IRB::Irb</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/IrbAlreadyDead.html">IRB::IrbAlreadyDead</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/IrbSwitchedToCurrentThread.html">IRB::IrbSwitchedToCurrentThread</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/JobManager.html">IRB::JobManager</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/LoadAbort.html">IRB::LoadAbort</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/Locale.html">IRB::Locale</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/NoSuchJob.html">IRB::NoSuchJob</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/NotImplementedError.html">IRB::NotImplementedError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/OutputMethod.html">IRB::OutputMethod</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/Pager.html">IRB::Pager</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/ReadlineInputMethod.html">IRB::ReadlineInputMethod</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/ReidlineInputMethod.html">IRB::ReidlineInputMethod</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/RelineInputMethod.html">IRB::RelineInputMethod</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/RubyLex.html">IRB::RubyLex</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/RubyModel.html">IRB::RubyModel</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/SourceFinder.html">IRB::SourceFinder</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/Statement.html">IRB::Statement</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/StdioInputMethod.html">IRB::StdioInputMethod</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/StdioOutputMethod.html">IRB::StdioOutputMethod</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/UndefinedPromptMode.html">IRB::UndefinedPromptMode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/UnrecognizedSwitch.html">IRB::UnrecognizedSwitch</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/Vec.html">IRB::Vec</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="IRB/WorkSpace.html">IRB::WorkSpace</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-CurrentContext">CurrentContext</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>J</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-JobManager">JobManager</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-initialize_tracer">initialize_tracer</a>,
              </li>
            
              
              <li>
                <a href="#method-c-irb">irb</a>,
              </li>
            
              
              <li>
                <a href="#method-c-irb_abort">irb_abort</a>,
              </li>
            
              
              <li>
                <a href="#method-c-irb_exit">irb_exit</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-print_usage">print_usage</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-start">start</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <h2 class="sectiontitle">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">TOPLEVEL_BINDING</td>
            <td>=</td>
            <td class="attr-value">binding</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
    
      <h2 class="sectiontitle">Class Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-c-CurrentContext">
            
              <b>CurrentContext</b>()
            
            <a href="../classes/IRB.html#method-c-CurrentContext" name="method-c-CurrentContext" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>The current <a href="IRB/Context.html"><code>IRB::Context</code></a> of the session, see IRB.conf</p>

<pre><code>irb
irb(main):001:0&gt; IRB.CurrentContext.irb_name = &quot;foo&quot;
foo(main):002:0&gt; IRB.conf[:MAIN_CONTEXT].irb_name #=&gt; &quot;foo&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-CurrentContext_source')" id="l_method-c-CurrentContext_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/irb.rb#L887" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-CurrentContext_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/irb.rb, line 887</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">IRB</span>.<span class="ruby-constant">CurrentContext</span>
  <span class="ruby-constant">IRB</span>.<span class="ruby-identifier ruby-title">conf</span>[<span class="ruby-value">:MAIN_CONTEXT</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-JobManager">
            
              <b>JobManager</b>()
            
            <a href="../classes/IRB.html#method-c-JobManager" name="method-c-JobManager" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>The current <a href="IRB/JobManager.html"><code>JobManager</code></a> in the session</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-JobManager_source')" id="l_method-c-JobManager_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/irb/ext/multi-irb.rb#L169" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-JobManager_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/irb/ext/multi-irb.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">IRB</span>.<span class="ruby-constant">JobManager</span>
  <span class="ruby-ivar">@JobManager</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-initialize_tracer">
            
              <b>initialize_tracer</b>()
            
            <a href="../classes/IRB.html#method-c-initialize_tracer" name="method-c-initialize_tracer" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>initialize tracing function</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-initialize_tracer_source')" id="l_method-c-initialize_tracer_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/irb/ext/tracer.rb#L24" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-initialize_tracer_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/irb/ext/tracer.rb, line 24</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">IRB</span>.<span class="ruby-identifier ruby-title">initialize_tracer</span>
  <span class="ruby-constant">Tracer</span>.<span class="ruby-identifier">verbose</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-constant">Tracer</span>.<span class="ruby-identifier">add_filter</span> {
    <span class="ruby-operator">|</span><span class="ruby-identifier">event</span>, <span class="ruby-identifier">file</span>, <span class="ruby-identifier">line</span>, <span class="ruby-identifier">id</span>, <span class="ruby-identifier">binding</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">rests</span><span class="ruby-operator">|</span>
    <span class="ruby-regexp">/^#{Regexp.quote(@CONF[:IRB_LIB_PATH])}/</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">file</span> <span class="ruby-keyword">and</span>
      <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-identifier">basename</span>(<span class="ruby-identifier">file</span>) <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;irb.rb&quot;</span>
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-irb">
            
              <b>irb</b>(file = nil, *main)
            
            <a href="../classes/IRB.html#method-c-irb" name="method-c-irb" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates a new <a href="IRB.html"><code>IRB</code></a> session, see <a href="IRB/Irb.html#method-c-new"><code>Irb.new</code></a>.</p>

<p>The optional <code>file</code> argument is given to <a href="IRB/Context.html#method-c-new"><code>Context.new</code></a>, along with the workspace created with the remaining arguments, see <a href="IRB/WorkSpace.html#method-c-new"><code>WorkSpace.new</code></a></p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-irb_source')" id="l_method-c-irb_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/irb/ext/multi-irb.rb#L182" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-irb_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/irb/ext/multi-irb.rb, line 182</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">IRB</span>.<span class="ruby-identifier ruby-title">irb</span>(<span class="ruby-identifier">file</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">main</span>)
  <span class="ruby-identifier">workspace</span> = <span class="ruby-constant">WorkSpace</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">main</span>)
  <span class="ruby-identifier">parent_thread</span> = <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">start</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">irb</span> = <span class="ruby-constant">Irb</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">workspace</span>, <span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">rescue</span>
      <span class="ruby-identifier">print</span> <span class="ruby-string">&quot;Subirb can&#39;t start with context(self): &quot;</span>, <span class="ruby-identifier">workspace</span>.<span class="ruby-identifier">main</span>.<span class="ruby-identifier">inspect</span>, <span class="ruby-string">&quot;\n&quot;</span>
      <span class="ruby-identifier">print</span> <span class="ruby-string">&quot;return to main irb\n&quot;</span>
      <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">pass</span>
      <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">main</span>.<span class="ruby-identifier">wakeup</span>
      <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">exit</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@CONF</span>[<span class="ruby-value">:IRB_RC</span>].<span class="ruby-identifier">call</span>(<span class="ruby-identifier">irb</span>.<span class="ruby-identifier">context</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@CONF</span>[<span class="ruby-value">:IRB_RC</span>]
    <span class="ruby-ivar">@JobManager</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-identifier">irb</span>)
    <span class="ruby-ivar">@JobManager</span>.<span class="ruby-identifier">current_job</span> = <span class="ruby-identifier">irb</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">system_exit</span> = <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">catch</span>(<span class="ruby-value">:IRB_EXIT</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">irb</span>.<span class="ruby-identifier">eval_input</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">SystemExit</span>
      <span class="ruby-identifier">system_exit</span> = <span class="ruby-keyword">true</span>
      <span class="ruby-identifier">raise</span>
      <span class="ruby-comment">#fail</span>
    <span class="ruby-keyword">ensure</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">system_exit</span>
        <span class="ruby-ivar">@JobManager</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">irb</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-ivar">@JobManager</span>.<span class="ruby-identifier">current_job</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">irb</span>
          <span class="ruby-keyword">if</span> <span class="ruby-identifier">parent_thread</span>.<span class="ruby-identifier">alive?</span>
            <span class="ruby-ivar">@JobManager</span>.<span class="ruby-identifier">current_job</span> = <span class="ruby-ivar">@JobManager</span>.<span class="ruby-identifier">irb</span>(<span class="ruby-identifier">parent_thread</span>)
            <span class="ruby-identifier">parent_thread</span>.<span class="ruby-identifier">run</span>
          <span class="ruby-keyword">else</span>
            <span class="ruby-ivar">@JobManager</span>.<span class="ruby-identifier">current_job</span> = <span class="ruby-ivar">@JobManager</span>.<span class="ruby-identifier">main_irb</span>
            <span class="ruby-ivar">@JobManager</span>.<span class="ruby-identifier">main_thread</span>.<span class="ruby-identifier">run</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">stop</span>
  <span class="ruby-ivar">@JobManager</span>.<span class="ruby-identifier">current_job</span> = <span class="ruby-ivar">@JobManager</span>.<span class="ruby-identifier">irb</span>(<span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-irb_abort">
            
              <b>irb_abort</b>(irb, exception = Abort)
            
            <a href="../classes/IRB.html#method-c-irb_abort" name="method-c-irb_abort" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Aborts then interrupts irb.</p>

<p>Will raise an <a href="IRB/Abort.html"><code>Abort</code></a> exception, or the given <code>exception</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-irb_abort_source')" id="l_method-c-irb_abort_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/irb.rb#L914" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-irb_abort_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/irb.rb, line 914</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">IRB</span>.<span class="ruby-identifier ruby-title">irb_abort</span>(<span class="ruby-identifier">irb</span>, <span class="ruby-identifier">exception</span> = <span class="ruby-constant">Abort</span>)
  <span class="ruby-identifier">irb</span>.<span class="ruby-identifier">context</span>.<span class="ruby-identifier">thread</span>.<span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>, <span class="ruby-string">&quot;abort then interrupt!&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-irb_exit">
            
              <b>irb_exit</b>(irb, ret)
            
            <a href="../classes/IRB.html#method-c-irb_exit" name="method-c-irb_exit" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Quits irb</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-irb_exit_source')" id="l_method-c-irb_exit_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/irb.rb#L907" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-irb_exit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/irb.rb, line 907</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">IRB</span>.<span class="ruby-identifier ruby-title">irb_exit</span>(<span class="ruby-identifier">irb</span>, <span class="ruby-identifier">ret</span>)
  <span class="ruby-identifier">throw</span> <span class="ruby-value">:IRB_EXIT</span>, <span class="ruby-identifier">ret</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-print_usage">
            
              <b>print_usage</b>()
            
            <a href="../classes/IRB.html#method-c-print_usage" name="method-c-print_usage" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Outputs the irb help message, see <a href="IRB.html#module-IRB-label-Command-Line+Options">Command-Line Options at <code>IRB</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-print_usage_source')" id="l_method-c-print_usage_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/irb/help.rb#L9" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-print_usage_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/irb/help.rb, line 9</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">IRB</span>.<span class="ruby-identifier ruby-title">print_usage</span>
  <span class="ruby-identifier">lc</span> = <span class="ruby-constant">IRB</span>.<span class="ruby-identifier">conf</span>[<span class="ruby-value">:LC_MESSAGES</span>]
  <span class="ruby-identifier">path</span> = <span class="ruby-identifier">lc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-string">&quot;irb/help-message&quot;</span>)
  <span class="ruby-identifier">space_line</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">each_line</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">l</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-regexp">/^\s*$/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">l</span>
        <span class="ruby-identifier">lc</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">l</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">space_line</span>
        <span class="ruby-identifier">space_line</span> = <span class="ruby-keyword">true</span>
        <span class="ruby-keyword">next</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">space_line</span> = <span class="ruby-keyword">false</span>

      <span class="ruby-identifier">l</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp">/#.*$/</span>, <span class="ruby-string">&quot;&quot;</span>)
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-regexp">/^\s*$/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">l</span>
      <span class="ruby-identifier">lc</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">l</span>
    <span class="ruby-keyword">end</span>
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-start">
            
              <b>start</b>(ap_path = nil)
            
            <a href="../classes/IRB.html#method-c-start" name="method-c-start" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Initializes <a href="IRB.html"><code>IRB</code></a> and creates a new Irb.irb object at the <code>TOPLEVEL_BINDING</code></p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-start_source')" id="l_method-c-start_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/irb.rb#L892" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-start_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/irb.rb, line 892</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">IRB</span>.<span class="ruby-identifier ruby-title">start</span>(<span class="ruby-identifier">ap_path</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-constant">STDOUT</span>.<span class="ruby-identifier">sync</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">$0</span> = <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-identifier">basename</span>(<span class="ruby-identifier">ap_path</span>, <span class="ruby-string">&quot;.rb&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">ap_path</span>

  <span class="ruby-constant">IRB</span>.<span class="ruby-identifier">setup</span>(<span class="ruby-identifier">ap_path</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@CONF</span>[<span class="ruby-value">:SCRIPT</span>]
    <span class="ruby-identifier">irb</span> = <span class="ruby-constant">Irb</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-ivar">@CONF</span>[<span class="ruby-value">:SCRIPT</span>])
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">irb</span> = <span class="ruby-constant">Irb</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">irb</span>.<span class="ruby-identifier">run</span>(<span class="ruby-ivar">@CONF</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
    
  
</div>

    </main>
  </body>
</html>
