<!DOCTYPE html>
<html lang="en">
<head>
    <title>Prism</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='["Prism"]'>


    <meta property="og:title" value="Prism">

  
    
    <meta name="description" content="The Prism Ruby parser.">
    <meta property="og:description" content="The Prism Ruby parser.">
  

    <meta name="keywords" content="Prism class, lex_compat, lex_ripper, load, parse_failure?, parse_file_failure?, dump, dump_file, lex, lex_file, parse, parse_file, parse_comments, parse_file_comments, parse_lex, parse_lex_file, parse_success?, parse_file_success?">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Module</span>
            Prism
            
        </h2>
        <ul class="files">
            
            <li><a href="../files/ruby/lib/prism_rb.html">ruby/lib/prism.rb</a></li>
            
            <li><a href="../files/ruby/lib/prism/debug_rb.html">ruby/lib/prism/debug.rb</a></li>
            
            <li><a href="../files/ruby/lib/prism/desugar_compiler_rb.html">ruby/lib/prism/desugar_compiler.rb</a></li>
            
            <li><a href="../files/ruby/lib/prism/ffi_rb.html">ruby/lib/prism/ffi.rb</a></li>
            
            <li><a href="../files/ruby/lib/prism/lex_compat_rb.html">ruby/lib/prism/lex_compat.rb</a></li>
            
            <li><a href="../files/ruby/lib/prism/node_ext_rb.html">ruby/lib/prism/node_ext.rb</a></li>
            
            <li><a href="../files/ruby/lib/prism/node_inspector_rb.html">ruby/lib/prism/node_inspector.rb</a></li>
            
            <li><a href="../files/ruby/lib/prism/pack_rb.html">ruby/lib/prism/pack.rb</a></li>
            
            <li><a href="../files/ruby/lib/prism/parse_result_rb.html">ruby/lib/prism/parse_result.rb</a></li>
            
            <li><a href="../files/ruby/lib/prism/parse_result/comments_rb.html">ruby/lib/prism/parse_result/comments.rb</a></li>
            
            <li><a href="../files/ruby/lib/prism/parse_result/newlines_rb.html">ruby/lib/prism/parse_result/newlines.rb</a></li>
            
            <li><a href="../files/ruby/lib/prism/pattern_rb.html">ruby/lib/prism/pattern.rb</a></li>
            
            <li><a href="../files/ruby/lib/prism/ripper_compat_rb.html">ruby/lib/prism/ripper_compat.rb</a></li>
            
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>The <a href="Prism.html"><code>Prism</code></a> Ruby parser.</p>

<p>“Parsing Ruby is suddenly manageable!”</p>

<pre><code>- You, hopefully
</code></pre>

<p>Here we are reopening the prism module to provide methods on nodes that aren’t templated and are meant as convenience methods.</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">MODULE</span>
          <a href="Prism/Debug.html">Prism::Debug</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="Prism/Pack.html">Prism::Pack</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/Comment.html">Prism::Comment</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/ConstantPathNode.html">Prism::ConstantPathNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/ConstantPathTargetNode.html">Prism::ConstantPathTargetNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/ConstantReadNode.html">Prism::ConstantReadNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/DesugarCompiler.html">Prism::DesugarCompiler</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/EmbDocComment.html">Prism::EmbDocComment</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/FloatNode.html">Prism::FloatNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/ImaginaryNode.html">Prism::ImaginaryNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/InlineComment.html">Prism::InlineComment</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/IntegerNode.html">Prism::IntegerNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/InterpolatedMatchLastLineNode.html">Prism::InterpolatedMatchLastLineNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/InterpolatedRegularExpressionNode.html">Prism::InterpolatedRegularExpressionNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/InterpolatedStringNode.html">Prism::InterpolatedStringNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/InterpolatedXStringNode.html">Prism::InterpolatedXStringNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/LexCompat.html">Prism::LexCompat</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/Location.html">Prism::Location</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/MagicComment.html">Prism::MagicComment</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/MatchLastLineNode.html">Prism::MatchLastLineNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/ParametersNode.html">Prism::ParametersNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/ParseError.html">Prism::ParseError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/ParseResult.html">Prism::ParseResult</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/ParseWarning.html">Prism::ParseWarning</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/Pattern.html">Prism::Pattern</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/RationalNode.html">Prism::RationalNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/RegularExpressionNode.html">Prism::RegularExpressionNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/RipperCompat.html">Prism::RipperCompat</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/Source.html">Prism::Source</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/StringNode.html">Prism::StringNode</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/Token.html">Prism::Token</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Prism/XStringNode.html">Prism::XStringNode</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-dump">dump</a>,
              </li>
            
              
              <li>
                <a href="#method-c-dump_file">dump_file</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-lex">lex</a>,
              </li>
            
              
              <li>
                <a href="#method-c-lex_compat">lex_compat</a>,
              </li>
            
              
              <li>
                <a href="#method-c-lex_file">lex_file</a>,
              </li>
            
              
              <li>
                <a href="#method-c-lex_ripper">lex_ripper</a>,
              </li>
            
              
              <li>
                <a href="#method-c-load">load</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-parse">parse</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parse_comments">parse_comments</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parse_failure-3F">parse_failure?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parse_file">parse_file</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parse_file_comments">parse_file_comments</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parse_file_failure-3F">parse_file_failure?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parse_file_success-3F">parse_file_success?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parse_lex">parse_lex</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parse_lex_file">parse_lex_file</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parse_success-3F">parse_success?</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <h2 class="sectiontitle">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">BACKEND</td>
            <td>=</td>
            <td class="attr-value">:FFI</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">LibRubyParser.pm_version.read_string</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>The version constant is set by reading the result of calling pm_version.</p></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
    
      <h2 class="sectiontitle">Class Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-c-dump">
            
              <b>dump</b>(code, **options)
            
            <a href="../classes/Prism.html#method-c-dump" name="method-c-dump" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Mirror the <a href="Prism.html#method-c-dump"><code>Prism.dump</code></a> API by using the serialization API.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-dump_source')" id="l_method-c-dump_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism/ffi.rb#L182" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-dump_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism/ffi.rb, line 182</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">dump</span>(<span class="ruby-identifier">code</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">LibRubyParser</span><span class="ruby-operator">::</span><span class="ruby-constant">PrismBuffer</span>.<span class="ruby-identifier">with</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">buffer</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">LibRubyParser</span>.<span class="ruby-identifier">pm_serialize_parse</span>(<span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">pointer</span>, <span class="ruby-identifier">code</span>, <span class="ruby-identifier">code</span>.<span class="ruby-identifier">bytesize</span>, <span class="ruby-identifier">dump_options</span>(<span class="ruby-identifier">options</span>))
    <span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">read</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-dump_file">
            
              <b>dump_file</b>(filepath, **options)
            
            <a href="../classes/Prism.html#method-c-dump_file" name="method-c-dump_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Mirror the <a href="Prism.html#method-c-dump_file"><code>Prism.dump_file</code></a> API by using the serialization API.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-dump_file_source')" id="l_method-c-dump_file_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism/ffi.rb#L190" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-dump_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism/ffi.rb, line 190</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">dump_file</span>(<span class="ruby-identifier">filepath</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">LibRubyParser</span><span class="ruby-operator">::</span><span class="ruby-constant">PrismString</span>.<span class="ruby-identifier">with</span>(<span class="ruby-identifier">filepath</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">dump</span>(<span class="ruby-identifier">string</span>.<span class="ruby-identifier">read</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>, <span class="ruby-value">filepath:</span> <span class="ruby-identifier">filepath</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-lex">
            
              <b>lex</b>(code, **options)
            
            <a href="../classes/Prism.html#method-c-lex" name="method-c-lex" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Mirror the <a href="Prism.html#method-c-lex"><code>Prism.lex</code></a> API by using the serialization API.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-lex_source')" id="l_method-c-lex_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism/ffi.rb#L197" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-lex_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism/ffi.rb, line 197</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">lex</span>(<span class="ruby-identifier">code</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">LibRubyParser</span><span class="ruby-operator">::</span><span class="ruby-constant">PrismBuffer</span>.<span class="ruby-identifier">with</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">buffer</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">LibRubyParser</span>.<span class="ruby-identifier">pm_serialize_lex</span>(<span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">pointer</span>, <span class="ruby-identifier">code</span>, <span class="ruby-identifier">code</span>.<span class="ruby-identifier">bytesize</span>, <span class="ruby-identifier">dump_options</span>(<span class="ruby-identifier">options</span>))
    <span class="ruby-constant">Serialize</span>.<span class="ruby-identifier">load_tokens</span>(<span class="ruby-constant">Source</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">code</span>), <span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">read</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-lex_compat">
            
              <b>Prism::lex_compat(source, **options) &rarr; ParseResult
</b>
            
            <a href="../classes/Prism.html#method-c-lex_compat" name="method-c-lex_compat" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a parse result whose value is an array of tokens that closely resembles the return value of <a href="Ripper.html#method-c-lex"><code>Ripper::lex</code></a>. The main difference is that the ‘:on_sp` token is not emitted.</p>

<p>For supported options, see <a href="Prism.html#method-c-parse"><code>Prism::parse</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-lex_compat_source')" id="l_method-c-lex_compat_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism.rb#L46" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-lex_compat_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism.rb, line 46</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">lex_compat</span>(<span class="ruby-identifier">source</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">LexCompat</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">source</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>).<span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-lex_file">
            
              <b>lex_file</b>(filepath, **options)
            
            <a href="../classes/Prism.html#method-c-lex_file" name="method-c-lex_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Mirror the <a href="Prism.html#method-c-lex_file"><code>Prism.lex_file</code></a> API by using the serialization API.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-lex_file_source')" id="l_method-c-lex_file_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism/ffi.rb#L205" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-lex_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism/ffi.rb, line 205</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">lex_file</span>(<span class="ruby-identifier">filepath</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">LibRubyParser</span><span class="ruby-operator">::</span><span class="ruby-constant">PrismString</span>.<span class="ruby-identifier">with</span>(<span class="ruby-identifier">filepath</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">lex</span>(<span class="ruby-identifier">string</span>.<span class="ruby-identifier">read</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>, <span class="ruby-value">filepath:</span> <span class="ruby-identifier">filepath</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-lex_ripper">
            
              <b>Prism::lex_ripper(source) &rarr; Array
</b>
            
            <a href="../classes/Prism.html#method-c-lex_ripper" name="method-c-lex_ripper" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>This lexes with the <a href="Ripper.html"><code>Ripper</code></a> lex. It drops any space events but otherwise returns the same tokens. Raises <a href="SyntaxError.html"><code>SyntaxError</code></a> if the syntax in source is invalid.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-lex_ripper_source')" id="l_method-c-lex_ripper_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism.rb#L56" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-lex_ripper_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">lex_ripper</span>(<span class="ruby-identifier">source</span>)
  <span class="ruby-constant">LexRipper</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">source</span>).<span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-load">
            
              <b>Prism::load(source, serialized) &rarr; ParseResult
</b>
            
            <a href="../classes/Prism.html#method-c-load" name="method-c-load" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Load the serialized AST using the source as a reference into a tree.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-load_source')" id="l_method-c-load_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism.rb#L64" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-load_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism.rb, line 64</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">load</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">serialized</span>)
  <span class="ruby-constant">Serialize</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">serialized</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-parse">
            
              <b>parse</b>(code, **options)
            
            <a href="../classes/Prism.html#method-c-parse" name="method-c-parse" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Mirror the <a href="Prism.html#method-c-parse"><code>Prism.parse</code></a> API by using the serialization API.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_source')" id="l_method-c-parse_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism/ffi.rb#L212" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-parse_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism/ffi.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse</span>(<span class="ruby-identifier">code</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">Prism</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">code</span>, <span class="ruby-identifier">dump</span>(<span class="ruby-identifier">code</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-parse_comments">
            
              <b>parse_comments</b>(code, **options)
            
            <a href="../classes/Prism.html#method-c-parse_comments" name="method-c-parse_comments" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Mirror the <a href="Prism.html#method-c-parse_comments"><code>Prism.parse_comments</code></a> API by using the serialization API.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_comments_source')" id="l_method-c-parse_comments_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism/ffi.rb#L226" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-parse_comments_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism/ffi.rb, line 226</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_comments</span>(<span class="ruby-identifier">code</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">LibRubyParser</span><span class="ruby-operator">::</span><span class="ruby-constant">PrismBuffer</span>.<span class="ruby-identifier">with</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">buffer</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">LibRubyParser</span>.<span class="ruby-identifier">pm_serialize_parse_comments</span>(<span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">pointer</span>, <span class="ruby-identifier">code</span>, <span class="ruby-identifier">code</span>.<span class="ruby-identifier">bytesize</span>, <span class="ruby-identifier">dump_options</span>(<span class="ruby-identifier">options</span>))

    <span class="ruby-identifier">source</span> = <span class="ruby-constant">Source</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">code</span>)
    <span class="ruby-identifier">loader</span> = <span class="ruby-constant">Serialize</span><span class="ruby-operator">::</span><span class="ruby-constant">Loader</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">read</span>)

    <span class="ruby-identifier">loader</span>.<span class="ruby-identifier">load_header</span>
    <span class="ruby-identifier">loader</span>.<span class="ruby-identifier">load_encoding</span>
    <span class="ruby-identifier">loader</span>.<span class="ruby-identifier">load_start_line</span>
    <span class="ruby-identifier">loader</span>.<span class="ruby-identifier">load_comments</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-parse_failure-3F">
            
              <b>Prism::parse_failure?(source, **options) &rarr; bool
</b>
            
            <a href="../classes/Prism.html#method-c-parse_failure-3F" name="method-c-parse_failure-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns true if the source parses with errors.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_failure-3F_source')" id="l_method-c-parse_failure-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism.rb#L72" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-parse_failure-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">parse_failure?</span>(<span class="ruby-identifier">source</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-operator">!</span><span class="ruby-identifier">parse_success?</span>(<span class="ruby-identifier">source</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-parse_file">
            
              <b>parse_file</b>(filepath, **options)
            
            <a href="../classes/Prism.html#method-c-parse_file" name="method-c-parse_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Mirror the <a href="Prism.html#method-c-parse_file"><code>Prism.parse_file</code></a> API by using the serialization API. This uses native strings instead of Ruby strings because it allows us to use mmap when it is available.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_file_source')" id="l_method-c-parse_file_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism/ffi.rb#L219" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-parse_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism/ffi.rb, line 219</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_file</span>(<span class="ruby-identifier">filepath</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">LibRubyParser</span><span class="ruby-operator">::</span><span class="ruby-constant">PrismString</span>.<span class="ruby-identifier">with</span>(<span class="ruby-identifier">filepath</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">parse</span>(<span class="ruby-identifier">string</span>.<span class="ruby-identifier">read</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>, <span class="ruby-value">filepath:</span> <span class="ruby-identifier">filepath</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-parse_file_comments">
            
              <b>parse_file_comments</b>(filepath, **options)
            
            <a href="../classes/Prism.html#method-c-parse_file_comments" name="method-c-parse_file_comments" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Mirror the <a href="Prism.html#method-c-parse_file_comments"><code>Prism.parse_file_comments</code></a> API by using the serialization API. This uses native strings instead of Ruby strings because it allows us to use mmap when it is available.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_file_comments_source')" id="l_method-c-parse_file_comments_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism/ffi.rb#L243" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-parse_file_comments_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism/ffi.rb, line 243</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_file_comments</span>(<span class="ruby-identifier">filepath</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">LibRubyParser</span><span class="ruby-operator">::</span><span class="ruby-constant">PrismString</span>.<span class="ruby-identifier">with</span>(<span class="ruby-identifier">filepath</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">parse_comments</span>(<span class="ruby-identifier">string</span>.<span class="ruby-identifier">read</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>, <span class="ruby-value">filepath:</span> <span class="ruby-identifier">filepath</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-parse_file_failure-3F">
            
              <b>Prism::parse_file_failure?(filepath, **options) &rarr; bool
</b>
            
            <a href="../classes/Prism.html#method-c-parse_file_failure-3F" name="method-c-parse_file_failure-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns true if the file at filepath parses with errors.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_file_failure-3F_source')" id="l_method-c-parse_file_failure-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism.rb#L80" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-parse_file_failure-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism.rb, line 80</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">parse_file_failure?</span>(<span class="ruby-identifier">filepath</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-operator">!</span><span class="ruby-identifier">parse_file_success?</span>(<span class="ruby-identifier">filepath</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-parse_file_success-3F">
            
              <b>parse_file_success?</b>(filepath, **options)
            
            <a href="../classes/Prism.html#method-c-parse_file_success-3F" name="method-c-parse_file_success-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Mirror the <a href="Prism.html#method-c-parse_file_success-3F"><code>Prism.parse_file_success?</code></a> API by using the serialization API.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_file_success-3F_source')" id="l_method-c-parse_file_success-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism/ffi.rb#L278" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-parse_file_success-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism/ffi.rb, line 278</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_file_success?</span>(<span class="ruby-identifier">filepath</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">LibRubyParser</span><span class="ruby-operator">::</span><span class="ruby-constant">PrismString</span>.<span class="ruby-identifier">with</span>(<span class="ruby-identifier">filepath</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">parse_success?</span>(<span class="ruby-identifier">string</span>.<span class="ruby-identifier">read</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>, <span class="ruby-value">filepath:</span> <span class="ruby-identifier">filepath</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-parse_lex">
            
              <b>parse_lex</b>(code, **options)
            
            <a href="../classes/Prism.html#method-c-parse_lex" name="method-c-parse_lex" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Mirror the <a href="Prism.html#method-c-parse_lex"><code>Prism.parse_lex</code></a> API by using the serialization API.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_lex_source')" id="l_method-c-parse_lex_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism/ffi.rb#L250" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-parse_lex_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism/ffi.rb, line 250</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_lex</span>(<span class="ruby-identifier">code</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">LibRubyParser</span><span class="ruby-operator">::</span><span class="ruby-constant">PrismBuffer</span>.<span class="ruby-identifier">with</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">buffer</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">LibRubyParser</span>.<span class="ruby-identifier">pm_serialize_parse_lex</span>(<span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">pointer</span>, <span class="ruby-identifier">code</span>, <span class="ruby-identifier">code</span>.<span class="ruby-identifier">bytesize</span>, <span class="ruby-identifier">dump_options</span>(<span class="ruby-identifier">options</span>))

    <span class="ruby-identifier">source</span> = <span class="ruby-constant">Source</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">code</span>)
    <span class="ruby-identifier">loader</span> = <span class="ruby-constant">Serialize</span><span class="ruby-operator">::</span><span class="ruby-constant">Loader</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">buffer</span>.<span class="ruby-identifier">read</span>)

    <span class="ruby-identifier">tokens</span> = <span class="ruby-identifier">loader</span>.<span class="ruby-identifier">load_tokens</span>
    <span class="ruby-identifier">node</span>, <span class="ruby-identifier">comments</span>, <span class="ruby-identifier">magic_comments</span>, <span class="ruby-identifier">data_loc</span>, <span class="ruby-identifier">errors</span>, <span class="ruby-identifier">warnings</span> = <span class="ruby-identifier">loader</span>.<span class="ruby-identifier">load_nodes</span>
    <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">token</span>,<span class="ruby-operator">|</span> <span class="ruby-identifier">token</span>.<span class="ruby-identifier">value</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">loader</span>.<span class="ruby-identifier">encoding</span>) }

    <span class="ruby-constant">ParseResult</span>.<span class="ruby-identifier">new</span>([<span class="ruby-identifier">node</span>, <span class="ruby-identifier">tokens</span>], <span class="ruby-identifier">comments</span>, <span class="ruby-identifier">magic_comments</span>, <span class="ruby-identifier">data_loc</span>, <span class="ruby-identifier">errors</span>, <span class="ruby-identifier">warnings</span>, <span class="ruby-identifier">source</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-parse_lex_file">
            
              <b>parse_lex_file</b>(filepath, **options)
            
            <a href="../classes/Prism.html#method-c-parse_lex_file" name="method-c-parse_lex_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Mirror the <a href="Prism.html#method-c-parse_lex_file"><code>Prism.parse_lex_file</code></a> API by using the serialization API.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_lex_file_source')" id="l_method-c-parse_lex_file_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism/ffi.rb#L266" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-parse_lex_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism/ffi.rb, line 266</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_lex_file</span>(<span class="ruby-identifier">filepath</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">LibRubyParser</span><span class="ruby-operator">::</span><span class="ruby-constant">PrismString</span>.<span class="ruby-identifier">with</span>(<span class="ruby-identifier">filepath</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">parse_lex</span>(<span class="ruby-identifier">string</span>.<span class="ruby-identifier">read</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>, <span class="ruby-value">filepath:</span> <span class="ruby-identifier">filepath</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-parse_success-3F">
            
              <b>parse_success?</b>(code, **options)
            
            <a href="../classes/Prism.html#method-c-parse_success-3F" name="method-c-parse_success-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Mirror the <a href="Prism.html#method-c-parse_success-3F"><code>Prism.parse_success?</code></a> API by using the serialization API.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_success-3F_source')" id="l_method-c-parse_success-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/prism/ffi.rb#L273" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-parse_success-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/prism/ffi.rb, line 273</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_success?</span>(<span class="ruby-identifier">code</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">LibRubyParser</span>.<span class="ruby-identifier">pm_parse_success_p</span>(<span class="ruby-identifier">code</span>, <span class="ruby-identifier">code</span>.<span class="ruby-identifier">bytesize</span>, <span class="ruby-identifier">dump_options</span>(<span class="ruby-identifier">options</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
    
  
</div>

    </main>
  </body>
</html>
