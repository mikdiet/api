<!DOCTYPE html>
<html lang="en">
<head>
    <title>Net::HTTPHeader</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='["Net", "HTTPHeader"]'>


    <meta property="og:title" value="Net::HTTPHeader">

  
    
    <meta name="description" content="The HTTPHeader module provides access to HTTP headers.  The module is included in:  Net::HTTPGenericRequest (and therefore Net::HTTPRequest).  Net::HTTPResponse.">
    <meta property="og:description" content="The HTTPHeader module provides access to HTTP headers.  The module is included in:  Net::HTTPGenericRequest (and therefore Net::HTTPRequest).  Net::HTTPResponse.">
  

    <meta name="keywords" content="Net::HTTPHeader class, [], []=, add_field, get_fields, fetch, each_header, each, each_name, each_key, each_capitalized_name, each_value, delete, key?, to_hash, each_capitalized, canonical_each, range, set_range, range=, content_length, content_length=, chunked?, content_range, range_length, content_type, main_type, sub_type, type_params, set_content_type, content_type=, set_form_data, form_data=, set_form, basic_auth, proxy_basic_auth, connection_close?, connection_keep_alive?">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Module</span>
            Net::HTTPHeader
            
        </h2>
        <ul class="files">
            
            <li><a href="../../files/ruby/lib/net/http/header_rb.html">ruby/lib/net/http/header.rb</a></li>
            
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>The HTTPHeader module provides access to HTTP headers.</p>

<p>The module is included in:</p>
<ul><li>
<p><a href="HTTPGenericRequest.html"><code>Net::HTTPGenericRequest</code></a> (and therefore <a href="HTTPRequest.html"><code>Net::HTTPRequest</code></a>).</p>
</li><li>
<p><a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a>.</p>
</li></ul>

<p>The headers are a hash-like collection of key/value pairs called <em>fields</em>.</p>

<h2 id="module-Net::HTTPHeader-label-Request+and+Response+Fields">Request and Response Fields</h2>

<p>Headers may be included in:</p>
<ul><li>
<p>A <a href="HTTPRequest.html"><code>Net::HTTPRequest</code></a> object: the objectâ€™s headers will be sent with the request. Any fields may be defined in the request; see <a href="HTTPHeader.html#module-Net::HTTPHeader-label-Setters">Setters</a>.</p>
</li><li>
<p>A <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object: the objects headers are usually those returned from the host. Fields may be retrieved from the object; see <a href="HTTPHeader.html#module-Net::HTTPHeader-label-Getters">Getters</a> and <a href="HTTPHeader.html#module-Net::HTTPHeader-label-Iterators">Iterators</a>.</p>
</li></ul>

<p>Exactly which fields should be sent or expected depends on the host; see:</p>
<ul><li>
<p><a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#Request_fields">Request fields</a>.</p>
</li><li>
<p><a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#Response_fields">Response fields</a>.</p>
</li></ul>

<h2 id="module-Net::HTTPHeader-label-About+the+Examples">About the Examples</h2>

<h2 id="module-Net::HTTPHeader-label-Fields">Fields</h2>

<p>A header field is a key/value pair.</p>

<h3 id="module-Net::HTTPHeader-label-Field+Keys">Field Keys</h3>

<p>A field key may be:</p>
<ul><li>
<p>A string: Key <code>&#39;Accept&#39;</code> is treated as if it were <code>&#39;Accept&#39;.downcase</code>;  i.e., <code>&#39;accept&#39;</code>.</p>
</li><li>
<p>A symbol: Key <code>:Accept</code> is treated as if it were <code>:Accept.to_s.downcase</code>;  i.e., <code>&#39;accept&#39;</code>.</p>
</li></ul>

<p>Examples:</p>

<pre><code>req = Net::HTTP::Get.new(uri)
req[:accept]  # =&gt; &quot;*/*&quot;
req[&#39;Accept&#39;] # =&gt; &quot;*/*&quot;
req[&#39;ACCEPT&#39;] # =&gt; &quot;*/*&quot;

req[&#39;accept&#39;] = &#39;text/html&#39;
req[:accept] = &#39;text/html&#39;
req[&#39;ACCEPT&#39;] = &#39;text/html&#39;
</code></pre>

<h3 id="module-Net::HTTPHeader-label-Field+Values">Field Values</h3>

<p>A field value may be returned as an array of strings or as a string:</p>
<ul><li>
<p>These methods return field values as arrays:</p>
<ul><li>
<p><a href="HTTPHeader.html#method-i-get_fields"><code>get_fields</code></a>: Returns the array value for the given key, or <code>nil</code> if it does not exist.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-to_hash"><code>to_hash</code></a>: Returns a hash of all header fields: each key is a field name; its value is the array value for the field.</p>
</li></ul>
</li><li>
<p>These methods return field values as string; the string value for a field is equivalent to <code>self[key.downcase.to_s].join(&#39;, &#39;))</code>:</p>
<ul><li>
<p><a href="HTTPHeader.html#method-i-5B-5D"><code>[]</code></a>: Returns the string value for the given key, or <code>nil</code> if it does not exist.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-fetch"><code>fetch</code></a>: Like <a href="HTTPHeader.html#method-i-5B-5D"><code>[]</code></a>, but accepts a default value to be returned if the key does not exist.</p>
</li></ul>
</li></ul>

<p>The field value may be set:</p>
<ul><li>
<p><a href="HTTPHeader.html#method-i-5B-5D-3D"><code>[]=</code></a>: Sets the value for the given key; the given value may be a string, a symbol, an array, or a hash.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-add_field"><code>add_field</code></a>: Adds a given value to a value for the given key (not overwriting the existing value).</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-delete"><code>delete</code></a>: Deletes the field for the given key.</p>
</li></ul>

<p>Example field values:</p>
<ul><li>
<p>String:</p>

<pre><code>req[&#39;Accept&#39;] = &#39;text/html&#39; # =&gt; &quot;text/html&quot;
req[&#39;Accept&#39;]               # =&gt; &quot;text/html&quot;
req.get_fields(&#39;Accept&#39;)    # =&gt; [&quot;text/html&quot;]
</code></pre>
</li><li>
<p>Symbol:</p>

<pre><code>req[&#39;Accept&#39;] = :text    # =&gt; :text
req[&#39;Accept&#39;]            # =&gt; &quot;text&quot;
req.get_fields(&#39;Accept&#39;) # =&gt; [&quot;text&quot;]
</code></pre>
</li><li>
<p>Simple array:</p>

<pre><code>req[:foo] = %w[bar baz bat]
req[:foo]            # =&gt; &quot;bar, baz, bat&quot;
req.get_fields(:foo) # =&gt; [&quot;bar&quot;, &quot;baz&quot;, &quot;bat&quot;]
</code></pre>
</li><li>
<p>Simple hash:</p>

<pre><code>req[:foo] = {bar: 0, baz: 1, bat: 2}
req[:foo]            # =&gt; &quot;bar, 0, baz, 1, bat, 2&quot;
req.get_fields(:foo) # =&gt; [&quot;bar&quot;, &quot;0&quot;, &quot;baz&quot;, &quot;1&quot;, &quot;bat&quot;, &quot;2&quot;]
</code></pre>
</li><li>
<p>Nested:</p>

<pre><code>req[:foo] = [%w[bar baz], {bat: 0, bam: 1}]
req[:foo]            # =&gt; &quot;bar, baz, bat, 0, bam, 1&quot;
req.get_fields(:foo) # =&gt; [&quot;bar&quot;, &quot;baz&quot;, &quot;bat&quot;, &quot;0&quot;, &quot;bam&quot;, &quot;1&quot;]

req[:foo] = {bar: %w[baz bat], bam: {bah: 0, bad: 1}}
req[:foo]            # =&gt; &quot;bar, baz, bat, bam, bah, 0, bad, 1&quot;
req.get_fields(:foo) # =&gt; [&quot;bar&quot;, &quot;baz&quot;, &quot;bat&quot;, &quot;bam&quot;, &quot;bah&quot;, &quot;0&quot;, &quot;bad&quot;, &quot;1&quot;]
</code></pre>
</li></ul>

<h2 id="module-Net::HTTPHeader-label-Convenience+Methods">Convenience Methods</h2>

<p>Various convenience methods retrieve values, set values, query values, set form values, or iterate over fields.</p>

<h3 id="module-Net::HTTPHeader-label-Setters">Setters</h3>

<p>Method <a href="HTTPHeader.html#method-i-5B-5D-3D"><code>[]=</code></a> can set any field, but does little to validate the new value; some of the other setter methods provide some validation:</p>
<ul><li>
<p><a href="HTTPHeader.html#method-i-5B-5D-3D"><code>[]=</code></a>: Sets the string or array value for the given key.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-add_field"><code>add_field</code></a>: Creates or adds to the array value for the given key.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-basic_auth"><code>basic_auth</code></a>: Sets the string authorization header for <code>&#39;Authorization&#39;</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-content_length-3D"><code>content_length=</code></a>: Sets the integer length for field <code>&#39;Content-Length</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-content_type-3D"><code>content_type=</code></a>: Sets the string value for field <code>&#39;Content-Type&#39;</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-proxy_basic_auth"><code>proxy_basic_auth</code></a>: Sets the string authorization header for <code>&#39;Proxy-Authorization&#39;</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-set_range"><code>set_range</code></a>: Sets the value for field <code>&#39;Range&#39;</code>.</p>
</li></ul>

<h3 id="module-Net::HTTPHeader-label-Form+Setters">Form Setters</h3>
<ul><li>
<p><a href="HTTPHeader.html#method-i-set_form"><code>set_form</code></a>: Sets an HTML form data set.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-set_form_data"><code>set_form_data</code></a>: Sets header fields and a body from HTML form data.</p>
</li></ul>

<h3 id="module-Net::HTTPHeader-label-Getters">Getters</h3>

<p>Method <a href="HTTPHeader.html#method-i-5B-5D"><code>[]</code></a> can retrieve the value of any field that exists, but always as a string; some of the other getter methods return something different from the simple string value:</p>
<ul><li>
<p><a href="HTTPHeader.html#method-i-5B-5D"><code>[]</code></a>: Returns the string field value for the given key.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-content_length"><code>content_length</code></a>: Returns the integer value of field <code>&#39;Content-Length&#39;</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-content_range"><code>content_range</code></a>: Returns the <a href="../Range.html"><code>Range</code></a> value of field <code>&#39;Content-Range&#39;</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-content_type"><code>content_type</code></a>: Returns the string value of field <code>&#39;Content-Type&#39;</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-fetch"><code>fetch</code></a>: Returns the string field value for the given key.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-get_fields"><code>get_fields</code></a>: Returns the array field value for the given <code>key</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-main_type"><code>main_type</code></a>: Returns first part of the string value of field <code>&#39;Content-Type&#39;</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-sub_type"><code>sub_type</code></a>: Returns second part of the string value of field <code>&#39;Content-Type&#39;</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-range"><code>range</code></a>: Returns an array of <a href="../Range.html"><code>Range</code></a> objects of field <code>&#39;Range&#39;</code>, or <code>nil</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-range_length"><code>range_length</code></a>: Returns the integer length of the range given in field <code>&#39;Content-Range&#39;</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-type_params"><code>type_params</code></a>: Returns the string parameters for <code>&#39;Content-Type&#39;</code>.</p>
</li></ul>

<h3 id="module-Net::HTTPHeader-label-Queries">Queries</h3>
<ul><li>
<p><a href="HTTPHeader.html#method-i-chunked-3F"><code>chunked?</code></a>: Returns whether field <code>&#39;Transfer-Encoding&#39;</code> is set to <code>&#39;chunked&#39;</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-connection_close-3F"><code>connection_close?</code></a>: Returns whether field <code>&#39;Connection&#39;</code> is set to <code>&#39;close&#39;</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-connection_keep_alive-3F"><code>connection_keep_alive?</code></a>: Returns whether field <code>&#39;Connection&#39;</code> is set to <code>&#39;keep-alive&#39;</code>.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-key-3F"><code>key?</code></a>: Returns whether a given key exists.</p>
</li></ul>

<h3 id="module-Net::HTTPHeader-label-Iterators">Iterators</h3>
<ul><li>
<p><a href="HTTPHeader.html#method-i-each_capitalized"><code>each_capitalized</code></a>: Passes each field capitalized-name/value pair to the block.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-each_capitalized_name"><code>each_capitalized_name</code></a>: Passes each capitalized field name to the block.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-each_header"><code>each_header</code></a>: Passes each field name/value pair to the block.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-each_name"><code>each_name</code></a>: Passes each field name to the block.</p>
</li><li>
<p><a href="HTTPHeader.html#method-i-each_value"><code>each_value</code></a>: Passes each string field value to the block.</p>
</li></ul>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-5B-5D">[]</a>,
              </li>
            
              
              <li>
                <a href="#method-i-5B-5D-3D">[]=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-add_field">add_field</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-basic_auth">basic_auth</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-canonical_each">canonical_each</a>,
              </li>
            
              
              <li>
                <a href="#method-i-chunked-3F">chunked?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-connection_close-3F">connection_close?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-connection_keep_alive-3F">connection_keep_alive?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-content_length">content_length</a>,
              </li>
            
              
              <li>
                <a href="#method-i-content_length-3D">content_length=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-content_range">content_range</a>,
              </li>
            
              
              <li>
                <a href="#method-i-content_type">content_type</a>,
              </li>
            
              
              <li>
                <a href="#method-i-content_type-3D">content_type=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-delete">delete</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-each">each</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_capitalized">each_capitalized</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_capitalized_name">each_capitalized_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_header">each_header</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_key">each_key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_name">each_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_value">each_value</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-fetch">fetch</a>,
              </li>
            
              
              <li>
                <a href="#method-i-form_data-3D">form_data=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-get_fields">get_fields</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>K</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-key-3F">key?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-main_type">main_type</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-proxy_basic_auth">proxy_basic_auth</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-range">range</a>,
              </li>
            
              
              <li>
                <a href="#method-i-range-3D">range=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-range_length">range_length</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-set_content_type">set_content_type</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_form">set_form</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_form_data">set_form_data</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_range">set_range</a>,
              </li>
            
              
              <li>
                <a href="#method-i-sub_type">sub_type</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_hash">to_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-type_params">type_params</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <h2 class="sectiontitle">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">MAX_FIELD_LENGTH</td>
            <td>=</td>
            <td class="attr-value">65536</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">MAX_KEY_LENGTH</td>
            <td>=</td>
            <td class="attr-value">1024</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
    
    
      <h2 class="sectiontitle">Instance Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-i-5B-5D">
            
              <b>[]</b>(key)
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-5B-5D" name="method-i-5B-5D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the string field value for the case-insensitive field <code>key</code>, or <code>nil</code> if there is no such key; see <a href="HTTPHeader.html#module-Net::HTTPHeader-label-Fields">Fields</a>:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res[&#39;Connection&#39;] # =&gt; &quot;keep-alive&quot;
res[&#39;Nosuch&#39;]     # =&gt; nil
</code></pre>

<p>Note that some field values may be retrieved via convenience methods; see <a href="HTTPHeader.html#module-Net::HTTPHeader-label-Getters">Getters</a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-5B-5D_source')" id="l_method-i-5B-5D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L224" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-5B-5D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 224</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">[]</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">a</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">to_s</span>] <span class="ruby-keyword">or</span> <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">a</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;, &#39;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-5B-5D-3D">
            
              <b>[]=</b>(key, val)
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-5B-5D-3D" name="method-i-5B-5D-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets the value for the case-insensitive <code>key</code> to <code>val</code>, overwriting the previous value if the field exists; see <a href="HTTPHeader.html#module-Net::HTTPHeader-label-Fields">Fields</a>:</p>

<pre><code>req = Net::HTTP::Get.new(uri)
req[&#39;Accept&#39;] # =&gt; &quot;*/*&quot;
req[&#39;Accept&#39;] = &#39;text/html&#39;
req[&#39;Accept&#39;] # =&gt; &quot;text/html&quot;
</code></pre>

<p>Note that some field values may be set via convenience methods; see <a href="HTTPHeader.html#module-Net::HTTPHeader-label-Setters">Setters</a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-5B-5D-3D_source')" id="l_method-i-5B-5D-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L240" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-5B-5D-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 240</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">[]=</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">val</span>
    <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">val</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">set_field</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-add_field">
            
              <b>add_field</b>(key, val)
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-add_field" name="method-i-add_field" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Adds value <code>val</code> to the value array for field <code>key</code> if the field exists; creates the field with the given <code>key</code> and <code>val</code> if it does not exist. see <a href="HTTPHeader.html#module-Net::HTTPHeader-label-Fields">Fields</a>:</p>

<pre><code>req = Net::HTTP::Get.new(uri)
req.add_field(&#39;Foo&#39;, &#39;bar&#39;)
req[&#39;Foo&#39;]            # =&gt; &quot;bar&quot;
req.add_field(&#39;Foo&#39;, &#39;baz&#39;)
req[&#39;Foo&#39;]            # =&gt; &quot;bar, baz&quot;
req.add_field(&#39;Foo&#39;, %w[baz bam])
req[&#39;Foo&#39;]            # =&gt; &quot;bar, baz, baz, bam&quot;
req.get_fields(&#39;Foo&#39;) # =&gt; [&quot;bar&quot;, &quot;baz&quot;, &quot;baz&quot;, &quot;bam&quot;]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-add_field_source')" id="l_method-i-add_field_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L261" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-add_field_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 261</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">add_field</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span>)
  <span class="ruby-identifier">stringified_downcased_key</span> = <span class="ruby-identifier">key</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">stringified_downcased_key</span>)
    <span class="ruby-identifier">append_field_value</span>(<span class="ruby-ivar">@header</span>[<span class="ruby-identifier">stringified_downcased_key</span>], <span class="ruby-identifier">val</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">set_field</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-basic_auth">
            
              <b>basic_auth</b>(account, password)
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-basic_auth" name="method-i-basic_auth" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets header <code>&#39;Authorization&#39;</code> using the given <code>account</code> and <code>password</code> strings:</p>

<pre><code>req.basic_auth(&#39;my_account&#39;, &#39;my_password&#39;)
req[&#39;Authorization&#39;]
# =&gt; &quot;Basic bXlfYWNjb3VudDpteV9wYXNzd29yZA==&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-basic_auth_source')" id="l_method-i-basic_auth_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L945" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-basic_auth_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 945</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">basic_auth</span>(<span class="ruby-identifier">account</span>, <span class="ruby-identifier">password</span>)
  <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;authorization&#39;</span>] = [<span class="ruby-identifier">basic_encode</span>(<span class="ruby-identifier">account</span>, <span class="ruby-identifier">password</span>)]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-canonical_each">
            
              <b>canonical_each</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-canonical_each" name="method-i-canonical_each" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="HTTPHeader.html#method-i-each_capitalized">each_capitalized</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-chunked-3F">
            
              <b>chunked?</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-chunked-3F" name="method-i-chunked-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if field <code>&#39;Transfer-Encoding&#39;</code> exists and has value <code>&#39;chunked&#39;</code>, <code>false</code> otherwise; see <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#transfer-encoding-response-header">Transfer-Encoding response header</a>:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res[&#39;Transfer-Encoding&#39;] # =&gt; &quot;chunked&quot;
res.chunked?             # =&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-chunked-3F_source')" id="l_method-i-chunked-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L654" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-chunked-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 654</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">chunked?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;transfer-encoding&#39;</span>]
  <span class="ruby-identifier">field</span> = <span class="ruby-keyword">self</span>[<span class="ruby-string">&#39;Transfer-Encoding&#39;</span>]
  (<span class="ruby-regexp">/(?:\A|[^\-\w])chunked(?![\-\w])/i</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">field</span>) <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-connection_close-3F">
            
              <b>connection_close?</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-connection_close-3F" name="method-i-connection_close-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns whether the <a href="HTTP.html"><code>HTTP</code></a> session is to be closed.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-connection_close-3F_source')" id="l_method-i-connection_close-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L966" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-connection_close-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 966</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">connection_close?</span>
  <span class="ruby-identifier">token</span> = <span class="ruby-regexp">/(?:\A|,)\s*close\s*(?:\z|,)/i</span>
  <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;connection&#39;</span>]&amp;.<span class="ruby-identifier">grep</span>(<span class="ruby-identifier">token</span>) {<span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>}
  <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;proxy-connection&#39;</span>]&amp;.<span class="ruby-identifier">grep</span>(<span class="ruby-identifier">token</span>) {<span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>}
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-connection_keep_alive-3F">
            
              <b>connection_keep_alive?</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-connection_keep_alive-3F" name="method-i-connection_keep_alive-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns whether the <a href="HTTP.html"><code>HTTP</code></a> session is to be kept alive.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-connection_keep_alive-3F_source')" id="l_method-i-connection_keep_alive-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L974" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-connection_keep_alive-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 974</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">connection_keep_alive?</span>
  <span class="ruby-identifier">token</span> = <span class="ruby-regexp">/(?:\A|,)\s*keep-alive\s*(?:\z|,)/i</span>
  <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;connection&#39;</span>]&amp;.<span class="ruby-identifier">grep</span>(<span class="ruby-identifier">token</span>) {<span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>}
  <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;proxy-connection&#39;</span>]&amp;.<span class="ruby-identifier">grep</span>(<span class="ruby-identifier">token</span>) {<span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>}
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-content_length">
            
              <b>content_length</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-content_length" name="method-i-content_length" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the value of field <code>&#39;Content-Length&#39;</code> as an integer, or <code>nil</code> if there is no such field; see <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#content-length-request-header">Content-Length request header</a>:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/nosuch/1&#39;)
res.content_length # =&gt; 2
res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res.content_length # =&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-content_length_source')" id="l_method-i-content_length_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L616" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-content_length_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 616</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">content_length</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">key?</span>(<span class="ruby-string">&#39;Content-Length&#39;</span>)
  <span class="ruby-identifier">len</span> = <span class="ruby-keyword">self</span>[<span class="ruby-string">&#39;Content-Length&#39;</span>].<span class="ruby-identifier">slice</span>(<span class="ruby-regexp">/\d+/</span>) <span class="ruby-keyword">or</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPHeaderSyntaxError</span>, <span class="ruby-string">&#39;wrong Content-Length format&#39;</span>
  <span class="ruby-identifier">len</span>.<span class="ruby-identifier">to_i</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-content_length-3D">
            
              <b>content_length=</b>(len)
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-content_length-3D" name="method-i-content_length-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets the value of field <code>&#39;Content-Length&#39;</code> to the given numeric; see <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#content-length-response-header">Content-Length response header</a>:</p>

<pre><code>_uri = uri.dup
hostname = _uri.hostname           # =&gt; &quot;jsonplaceholder.typicode.com&quot;
_uri.path = &#39;/posts&#39;               # =&gt; &quot;/posts&quot;
req = Net::HTTP::Post.new(_uri)    # =&gt; #&lt;Net::HTTP::Post POST&gt;
req.body = &#39;{&quot;title&quot;: &quot;foo&quot;,&quot;body&quot;: &quot;bar&quot;,&quot;userId&quot;: 1}&#39;
req.content_length = req.body.size # =&gt; 42
req.content_type = &#39;application/json&#39;
res = Net::HTTP.start(hostname) do |http|
  http.request(req)
end # =&gt; #&lt;Net::HTTPCreated 201 Created readbody=true&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-content_length-3D_source')" id="l_method-i-content_length-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L637" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-content_length-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 637</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">content_length=</span>(<span class="ruby-identifier">len</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">len</span>
    <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">delete</span> <span class="ruby-string">&#39;content-length&#39;</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;content-length&#39;</span>] = [<span class="ruby-identifier">len</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-content_range">
            
              <b>content_range</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-content_range" name="method-i-content_range" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a <a href="../Range.html"><code>Range</code></a> object representing the value of field <code>&#39;Content-Range&#39;</code>, or <code>nil</code> if no such field exists; see <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#content-range-response-header">Content-Range response header</a>:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res[&#39;Content-Range&#39;] # =&gt; nil
res[&#39;Content-Range&#39;] = &#39;bytes 0-499/1000&#39;
res[&#39;Content-Range&#39;] # =&gt; &quot;bytes 0-499/1000&quot;
res.content_range    # =&gt; 0..499
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-content_range_source')" id="l_method-i-content_range_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L670" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-content_range_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 670</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">content_range</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;content-range&#39;</span>]
  <span class="ruby-identifier">m</span> = <span class="ruby-regexp">%r&lt;\A\s*(\w+)\s+(\d+)-(\d+)/(\d+|\*)&gt;</span>.<span class="ruby-identifier">match</span>(<span class="ruby-keyword">self</span>[<span class="ruby-string">&#39;Content-Range&#39;</span>]) <span class="ruby-keyword">or</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPHeaderSyntaxError</span>, <span class="ruby-string">&#39;wrong Content-Range format&#39;</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;bytes&#39;</span>
  <span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">3</span>].<span class="ruby-identifier">to_i</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-content_type">
            
              <b>content_type</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-content_type" name="method-i-content_type" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the <a href="https://en.wikipedia.org/wiki/Media_type">media type</a> from the value of field <code>&#39;Content-Type&#39;</code>, or <code>nil</code> if no such field exists; see <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#content-type-response-header">Content-Type response header</a>:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res[&#39;content-type&#39;] # =&gt; &quot;application/json; charset=utf-8&quot;
res.content_type    # =&gt; &quot;application/json&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-content_type_source')" id="l_method-i-content_type_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L701" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-content_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 701</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">content_type</span>
  <span class="ruby-identifier">main</span> = <span class="ruby-identifier">main_type</span>()
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">main</span>

  <span class="ruby-identifier">sub</span> = <span class="ruby-identifier">sub_type</span>()
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">sub</span>
    <span class="ruby-node">&quot;#{main}/#{sub}&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">main</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-content_type-3D">
            
              <b>content_type=</b>(type, params = {})
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-content_type-3D" name="method-i-content_type-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="HTTPHeader.html#method-i-set_content_type">set_content_type</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-delete">
            
              <b>delete</b>(key)
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-delete" name="method-i-delete" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Removes the header for the given case-insensitive <code>key</code> (see <a href="HTTPHeader.html#module-Net::HTTPHeader-label-Fields">Fields</a>); returns the deleted value, or <code>nil</code> if no such field exists:</p>

<pre><code>req = Net::HTTP::Get.new(uri)
req.delete(&#39;Accept&#39;) # =&gt; [&quot;*/*&quot;]
req.delete(&#39;Nosuch&#39;) # =&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-delete_source')" id="l_method-i-delete_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L453" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-delete_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 453</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-each">
            
              <b>each</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-each" name="method-i-each" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="HTTPHeader.html#method-i-each_header">each_header</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-each_capitalized">
            
              <b>each_capitalized</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-each_capitalized" name="method-i-each_capitalized" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Like <a href="HTTPHeader.html#method-i-each_header"><code>each_header</code></a>, but the keys are returned in capitalized form.</p>

<p><a href="HTTPHeader.html#method-i-canonical_each"><code>Net::HTTPHeader#canonical_each</code></a> is an alias for <a href="HTTPHeader.html#method-i-each_capitalized"><code>Net::HTTPHeader#each_capitalized</code></a>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="HTTPHeader.html#method-i-canonical_each">canonical_each</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_capitalized_source')" id="l_method-i-each_capitalized_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L484" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-each_capitalized_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 484</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">each_capitalized</span>
  <span class="ruby-identifier">block_given?</span> <span class="ruby-keyword">or</span> <span class="ruby-keyword">return</span> <span class="ruby-identifier">enum_for</span>(<span class="ruby-identifier">__method__</span>) { <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">size</span> }
  <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">capitalize</span>(<span class="ruby-identifier">k</span>), <span class="ruby-identifier">v</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;, &#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-each_capitalized_name">
            
              <b>each_capitalized_name</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-each_capitalized_name" name="method-i-each_capitalized_name" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Calls the block with each capitalized field name:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res.each_capitalized_name do |key|
  p key if key.start_with?(&#39;C&#39;)
end
</code></pre>

<p>Output:</p>

<pre><code>&quot;Content-Type&quot;
&quot;Connection&quot;
&quot;Cache-Control&quot;
&quot;Cf-Cache-Status&quot;
&quot;Cf-Ray&quot;
</code></pre>

<p>The capitalization is system-dependent; see <a href="../../files/ruby/doc/case_mapping_rdoc.html">Case Mapping</a>.</p>

<p>Returns an enumerator if no block is given.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_capitalized_name_source')" id="l_method-i-each_capitalized_name_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L417" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-each_capitalized_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 417</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">each_capitalized_name</span>  <span class="ruby-comment">#:yield: +key+</span>
  <span class="ruby-identifier">block_given?</span> <span class="ruby-keyword">or</span> <span class="ruby-keyword">return</span> <span class="ruby-identifier">enum_for</span>(<span class="ruby-identifier">__method__</span>) { <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">size</span> }
  <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">each_key</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">capitalize</span>(<span class="ruby-identifier">k</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-each_header">
            
              <b>each_header</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-each_header" name="method-i-each_header" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Calls the block with each key/value pair:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res.each_header do |key, value|
  p [key, value] if key.start_with?(&#39;c&#39;)
end
</code></pre>

<p>Output:</p>

<pre><code>[&quot;content-type&quot;, &quot;application/json; charset=utf-8&quot;]
[&quot;connection&quot;, &quot;keep-alive&quot;]
[&quot;cache-control&quot;, &quot;max-age=43200&quot;]
[&quot;cf-cache-status&quot;, &quot;HIT&quot;]
[&quot;cf-ray&quot;, &quot;771d17e9bc542cf5-ORD&quot;]
</code></pre>

<p>Returns an enumerator if no block is given.</p>

<p><a href="HTTPHeader.html#method-i-each"><code>Net::HTTPHeader#each</code></a> is an alias for <a href="HTTPHeader.html#method-i-each_header"><code>Net::HTTPHeader#each_header</code></a>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="HTTPHeader.html#method-i-each">each</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_header_source')" id="l_method-i-each_header_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L364" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-each_header_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 364</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">each_header</span>   <span class="ruby-comment">#:yield: +key+, +value+</span>
  <span class="ruby-identifier">block_given?</span> <span class="ruby-keyword">or</span> <span class="ruby-keyword">return</span> <span class="ruby-identifier">enum_for</span>(<span class="ruby-identifier">__method__</span>) { <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">size</span> }
  <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">va</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">k</span>, <span class="ruby-identifier">va</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;, &#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-each_key">
            
              <b>each_key</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-each_key" name="method-i-each_key" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="HTTPHeader.html#method-i-each_name">each_name</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-each_name">
            
              <b>each_name</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-each_name" name="method-i-each_name" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Calls the block with each field key:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res.each_key do |key|
  p key if key.start_with?(&#39;c&#39;)
end
</code></pre>

<p>Output:</p>

<pre><code>&quot;content-type&quot;
&quot;connection&quot;
&quot;cache-control&quot;
&quot;cf-cache-status&quot;
&quot;cf-ray&quot;
</code></pre>

<p>Returns an enumerator if no block is given.</p>

<p><a href="HTTPHeader.html#method-i-each_name"><code>Net::HTTPHeader#each_name</code></a> is an alias for <a href="HTTPHeader.html#method-i-each_key"><code>Net::HTTPHeader#each_key</code></a>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="HTTPHeader.html#method-i-each_key">each_key</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_name_source')" id="l_method-i-each_name_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L391" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-each_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 391</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">each_name</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)   <span class="ruby-comment">#:yield: +key+</span>
  <span class="ruby-identifier">block_given?</span> <span class="ruby-keyword">or</span> <span class="ruby-keyword">return</span> <span class="ruby-identifier">enum_for</span>(<span class="ruby-identifier">__method__</span>) { <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">size</span> }
  <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">each_key</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-each_value">
            
              <b>each_value</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-each_value" name="method-i-each_value" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Calls the block with each string field value:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res.each_value do |value|
  p value if value.start_with?(&#39;c&#39;)
end
</code></pre>

<p>Output:</p>

<pre><code>&quot;chunked&quot;
&quot;cf-q-config;dur=6.0000002122251e-06&quot;
&quot;cloudflare&quot;
</code></pre>

<p>Returns an enumerator if no block is given.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_value_source')" id="l_method-i-each_value_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L438" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-each_value_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 438</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">each_value</span>   <span class="ruby-comment">#:yield: +value+</span>
  <span class="ruby-identifier">block_given?</span> <span class="ruby-keyword">or</span> <span class="ruby-keyword">return</span> <span class="ruby-identifier">enum_for</span>(<span class="ruby-identifier">__method__</span>) { <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">size</span> }
  <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">each_value</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">va</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">va</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;, &#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-fetch">
            
              <b>fetch(key, default_val = nil) {|key| ... } &rarr; object<br />fetch(key, default_val = nil) &rarr; value or default_val
</b>
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-fetch" name="method-i-fetch" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>With a block, returns the string value for <code>key</code> if it exists; otherwise returns the value of the block; ignores the <code>default_val</code>; see <a href="HTTPHeader.html#module-Net::HTTPHeader-label-Fields">Fields</a>:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)

# Field exists; block not called.
res.fetch(&#39;Connection&#39;) do |value|
  fail &#39;Cannot happen&#39;
end # =&gt; &quot;keep-alive&quot;

# Field does not exist; block called.
res.fetch(&#39;Nosuch&#39;) do |value|
  value.downcase
end # =&gt; &quot;nosuch&quot;
</code></pre>

<p>With no block, returns the string value for <code>key</code> if it exists; otherwise, returns <code>default_val</code> if it was given; otherwise raises an exception:</p>

<pre><code>res.fetch(&#39;Connection&#39;, &#39;Foo&#39;) # =&gt; &quot;keep-alive&quot;
res.fetch(&#39;Nosuch&#39;, &#39;Foo&#39;)     # =&gt; &quot;Foo&quot;
res.fetch(&#39;Nosuch&#39;)            # Raises KeyError.
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-fetch_source')" id="l_method-i-fetch_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L341" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-fetch_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 341</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">fetch</span>(<span class="ruby-identifier">key</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)   <span class="ruby-comment">#:yield: +key+</span>
  <span class="ruby-identifier">a</span> = <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">a</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;, &#39;</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">a</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-form_data-3D">
            
              <b>form_data=</b>(params, sep = &#39;&amp;&#39;)
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-form_data-3D" name="method-i-form_data-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="HTTPHeader.html#method-i-set_form_data">set_form_data</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-get_fields">
            
              <b>get_fields</b>(key)
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-get_fields" name="method-i-get_fields" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the array field value for the given <code>key</code>, or <code>nil</code> if there is no such field; see <a href="HTTPHeader.html#module-Net::HTTPHeader-label-Fields">Fields</a>:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res.get_fields(&#39;Connection&#39;) # =&gt; [&quot;keep-alive&quot;]
res.get_fields(&#39;Nosuch&#39;)     # =&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-get_fields_source')" id="l_method-i-get_fields_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L306" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-get_fields_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 306</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get_fields</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">stringified_downcased_key</span> = <span class="ruby-identifier">key</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@header</span>[<span class="ruby-identifier">stringified_downcased_key</span>]
  <span class="ruby-ivar">@header</span>[<span class="ruby-identifier">stringified_downcased_key</span>].<span class="ruby-identifier">dup</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-key-3F">
            
              <b>key?</b>(key)
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-key-3F" name="method-i-key-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if the field for the case-insensitive <code>key</code> exists, <code>false</code> otherwise:</p>

<pre><code>req = Net::HTTP::Get.new(uri)
req.key?(&#39;Accept&#39;) # =&gt; true
req.key?(&#39;Nosuch&#39;) # =&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-key-3F_source')" id="l_method-i-key-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L463" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-key-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 463</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">key?</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-main_type">
            
              <b>main_type</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-main_type" name="method-i-main_type" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the leading (â€˜typeâ€™) part of the <a href="https://en.wikipedia.org/wiki/Media_type">media type</a> from the value of field <code>&#39;Content-Type&#39;</code>, or <code>nil</code> if no such field exists; see <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#content-type-response-header">Content-Type response header</a>:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res[&#39;content-type&#39;] # =&gt; &quot;application/json; charset=utf-8&quot;
res.main_type       # =&gt; &quot;application&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-main_type_source')" id="l_method-i-main_type_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L723" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-main_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 723</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">main_type</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;content-type&#39;</span>]
  <span class="ruby-keyword">self</span>[<span class="ruby-string">&#39;Content-Type&#39;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;;&#39;</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;/&#39;</span>)[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-proxy_basic_auth">
            
              <b>proxy_basic_auth</b>(account, password)
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-proxy_basic_auth" name="method-i-proxy_basic_auth" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets header <code>&#39;Proxy-Authorization&#39;</code> using the given <code>account</code> and <code>password</code> strings:</p>

<pre><code>req.proxy_basic_auth(&#39;my_account&#39;, &#39;my_password&#39;)
req[&#39;Proxy-Authorization&#39;]
# =&gt; &quot;Basic bXlfYWNjb3VudDpteV9wYXNzd29yZA==&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-proxy_basic_auth_source')" id="l_method-i-proxy_basic_auth_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L956" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-proxy_basic_auth_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 956</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">proxy_basic_auth</span>(<span class="ruby-identifier">account</span>, <span class="ruby-identifier">password</span>)
  <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;proxy-authorization&#39;</span>] = [<span class="ruby-identifier">basic_encode</span>(<span class="ruby-identifier">account</span>, <span class="ruby-identifier">password</span>)]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-range">
            
              <b>range</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-range" name="method-i-range" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns an array of <a href="../Range.html"><code>Range</code></a> objects that represent the value of field <code>&#39;Range&#39;</code>, or <code>nil</code> if there is no such field; see <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#range-request-header">Range request header</a>:</p>

<pre><code>req = Net::HTTP::Get.new(uri)
req[&#39;Range&#39;] = &#39;bytes=0-99,200-299,400-499&#39;
req.range # =&gt; [0..99, 200..299, 400..499]
req.delete(&#39;Range&#39;)
req.range # # =&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-range_source')" id="l_method-i-range_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L509" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-range_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 509</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">range</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;range&#39;</span>]

  <span class="ruby-identifier">value</span> = <span class="ruby-keyword">self</span>[<span class="ruby-string">&#39;Range&#39;</span>]
  <span class="ruby-comment"># byte-range-set = *( &quot;,&quot; OWS ) ( byte-range-spec / suffix-byte-range-spec )</span>
  <span class="ruby-comment">#   *( OWS &quot;,&quot; [ OWS ( byte-range-spec / suffix-byte-range-spec ) ] )</span>
  <span class="ruby-comment"># corrected collected ABNF</span>
  <span class="ruby-comment"># http://tools.ietf.org/html/draft-ietf-httpbis-p5-range-19#section-5.4.1</span>
  <span class="ruby-comment"># http://tools.ietf.org/html/draft-ietf-httpbis-p5-range-19#appendix-C</span>
  <span class="ruby-comment"># http://tools.ietf.org/html/draft-ietf-httpbis-p1-messaging-19#section-3.2.5</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-regexp">/\Abytes=((?:,[ \t]*)*(?:\d+-\d*|-\d+)(?:[ \t]*,(?:[ \t]*\d+-\d*|-\d+)?)*)\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">value</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPHeaderSyntaxError</span>, <span class="ruby-node">&quot;invalid syntax for byte-ranges-specifier: &#39;#{value}&#39;&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">byte_range_set</span> = <span class="ruby-node">$1</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-identifier">byte_range_set</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">/,/</span>).<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">m</span> = <span class="ruby-regexp">/(\d+)?\s*-\s*(\d+)?/i</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">spec</span>) <span class="ruby-keyword">or</span>
            <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPHeaderSyntaxError</span>, <span class="ruby-node">&quot;invalid byte-range-spec: &#39;#{spec}&#39;&quot;</span>
    <span class="ruby-identifier">d1</span> = <span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>
    <span class="ruby-identifier">d2</span> = <span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword">and</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>]
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">d1</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">d2</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPHeaderSyntaxError</span>, <span class="ruby-node">&quot;last-byte-pos MUST greater than or equal to first-byte-pos but &#39;#{spec}&#39;&quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">d1</span><span class="ruby-operator">..</span><span class="ruby-identifier">d2</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>]
      <span class="ruby-identifier">d1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>]
      <span class="ruby-operator">-</span><span class="ruby-identifier">d2</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPHeaderSyntaxError</span>, <span class="ruby-string">&#39;range is not specified&#39;</span>
    <span class="ruby-keyword">end</span>
  }
  <span class="ruby-comment"># if result.empty?</span>
  <span class="ruby-comment"># byte-range-set must include at least one byte-range-spec or suffix-byte-range-spec</span>
  <span class="ruby-comment"># but above regexp already denies it.</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">result</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">begin</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">result</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">end</span> <span class="ruby-operator">==</span> <span class="ruby-value">-1</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPHeaderSyntaxError</span>, <span class="ruby-string">&#39;only one suffix-byte-range-spec with zero suffix-length&#39;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-range-3D">
            
              <b>range=</b>(r, e = nil)
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-range-3D" name="method-i-range-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="HTTPHeader.html#method-i-set_range">set_range</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-range_length">
            
              <b>range_length</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-range_length" name="method-i-range_length" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the integer representing length of the value of field <code>&#39;Content-Range&#39;</code>, or <code>nil</code> if no such field exists; see <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#content-range-response-header">Content-Range response header</a>:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res[&#39;Content-Range&#39;] # =&gt; nil
res[&#39;Content-Range&#39;] = &#39;bytes 0-499/1000&#39;
res.range_length     # =&gt; 500
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-range_length_source')" id="l_method-i-range_length_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L687" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-range_length_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 687</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">range_length</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-identifier">content_range</span>() <span class="ruby-keyword">or</span> <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">end</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">begin</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_content_type">
            
              <b>set_content_type</b>(type, params = {})
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-set_content_type" name="method-i-set_content_type" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets the value of field <code>&#39;Content-Type&#39;</code>; returns the new value; see <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#content-type-request-header">Content-Type request header</a>:</p>

<pre><code>req = Net::HTTP::Get.new(uri)
req.set_content_type(&#39;application/json&#39;) # =&gt; [&quot;application/json&quot;]
</code></pre>

<p><a href="HTTPHeader.html#method-i-content_type-3D"><code>Net::HTTPHeader#content_type=</code></a> is an alias for <a href="HTTPHeader.html#method-i-set_content_type"><code>Net::HTTPHeader#set_content_type</code></a>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="HTTPHeader.html#method-i-content_type-3D">content_type=</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_content_type_source')" id="l_method-i-set_content_type_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L772" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_content_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 772</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_content_type</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">params</span> = {})
  <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;content-type&#39;</span>] = [<span class="ruby-identifier">type</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span><span class="ruby-node">&quot;; #{k}=#{v}&quot;</span>}.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;&#39;</span>)]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_form">
            
              <b>set_form</b>(params, enctype=&#39;application/x-www-form-urlencoded&#39;, formopt={})
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-set_form" name="method-i-set_form" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Stores form data to be used in a <code>POST</code> or <code>PUT</code> request.</p>

<p>The form data given in <code>params</code> consists of zero or more fields; each field is:</p>
<ul><li>
<p>A scalar value.</p>
</li><li>
<p>A name/value pair.</p>
</li><li>
<p>An <a href="../IO.html"><code>IO</code></a> stream opened for reading.</p>
</li></ul>

<p>Argument <code>params</code> should be an <a href="../Enumerable.html#module-Enumerable-label-Enumerable+in+Ruby+Classes">Enumerable</a> (method <code>params.map</code> will be called), and is often an array or hash.</p>

<p>First, we set up a request:</p>

<pre><code>_uri = uri.dup
_uri.path =&#39;/posts&#39;
req = Net::HTTP::Post.new(_uri)
</code></pre>

<p><strong>Argument <code>params</code> As an Array</strong></p>

<p>When <code>params</code> is an array, each of its elements is a subarray that defines a field; the subarray may contain:</p>
<ul><li>
<p>One string:</p>

<pre><code>req.set_form([[&#39;foo&#39;], [&#39;bar&#39;], [&#39;baz&#39;]])
</code></pre>
</li><li>
<p>Two strings:</p>

<pre><code>req.set_form([%w[foo 0], %w[bar 1], %w[baz 2]])
</code></pre>
</li><li>
<p>When argument <code>enctype</code> (see below) is given as <code>&#39;multipart/form-data&#39;</code>:</p>
<ul><li>
<p>A string name and an <a href="../IO.html"><code>IO</code></a> stream opened for reading:</p>

<pre><code>require &#39;stringio&#39;
req.set_form([[&#39;file&#39;, StringIO.new(&#39;Ruby is cool.&#39;)]])
</code></pre>
</li><li>
<p>A string name, an <a href="../IO.html"><code>IO</code></a> stream opened for reading, and an options hash, which may contain these entries:</p>
<ul><li>
<p><code>:filename</code>: The name of the file to use.</p>
</li><li>
<p><code>:content_type</code>: The content type of the uploaded file.</p>
</li></ul>

<p>Example:</p>

<pre><code>req.set_form([[&#39;file&#39;, file, {filename: &quot;other-filename.foo&quot;}]]
</code></pre>
</li></ul>
</li></ul>

<p>The various forms may be mixed:</p>

<pre><code>req.set_form([&#39;foo&#39;, %w[bar 1], [&#39;file&#39;, file]])
</code></pre>

<p><strong>Argument <code>params</code> As a Hash</strong></p>

<p>When <code>params</code> is a hash, each of its entries is a name/value pair that defines a field:</p>
<ul><li>
<p>The name is a string.</p>
</li><li>
<p>The value may be:</p>
<ul><li>
<p><code>nil</code>.</p>
</li><li>
<p>Another string.</p>
</li><li>
<p>An <a href="../IO.html"><code>IO</code></a> stream opened for reading (only when argument <code>enctype</code> â€“ see below â€“ is given as <code>&#39;multipart/form-data&#39;</code>).</p>
</li></ul>
</li></ul>

<p>Examples:</p>

<pre><code># Nil-valued fields.
req.set_form({&#39;foo&#39; =&gt; nil, &#39;bar&#39; =&gt; nil, &#39;baz&#39; =&gt; nil})

# String-valued fields.
req.set_form({&#39;foo&#39; =&gt; 0, &#39;bar&#39; =&gt; 1, &#39;baz&#39; =&gt; 2})

# IO-valued field.
require &#39;stringio&#39;
req.set_form({&#39;file&#39; =&gt; StringIO.new(&#39;Ruby is cool.&#39;)})

# Mixture of fields.
req.set_form({&#39;foo&#39; =&gt; nil, &#39;bar&#39; =&gt; 1, &#39;file&#39; =&gt; file})
</code></pre>

<p>Optional argument <code>enctype</code> specifies the value to be given to field <code>&#39;Content-Type&#39;</code>, and must be one of:</p>
<ul><li>
<p><code>&#39;application/x-www-form-urlencoded&#39;</code> (the default).</p>
</li><li>
<p><code>&#39;multipart/form-data&#39;</code>; see <a href="https://www.rfc-editor.org/rfc/rfc7578">RFC 7578</a>.</p>
</li></ul>

<p>Optional argument <code>formopt</code> is a hash of options (applicable only when argument <code>enctype</code> is <code>&#39;multipart/form-data&#39;</code>) that may include the following entries:</p>
<ul><li>
<p><code>:boundary</code>: The value is the boundary string for the multipart message. If not given, the boundary is a random string. See <a href="https://www.rfc-editor.org/rfc/rfc7578#section-4.1">Boundary</a>.</p>
</li><li>
<p><code>:charset</code>: Value is the character set for the form submission. Field names and values of non-file fields should be encoded with this charset.</p>
</li></ul>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_form_source')" id="l_method-i-set_form_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L924" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_form_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 924</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_form</span>(<span class="ruby-identifier">params</span>, <span class="ruby-identifier">enctype</span>=<span class="ruby-string">&#39;application/x-www-form-urlencoded&#39;</span>, <span class="ruby-identifier">formopt</span>={})
  <span class="ruby-ivar">@body_data</span> = <span class="ruby-identifier">params</span>
  <span class="ruby-ivar">@body</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@body_stream</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@form_option</span> = <span class="ruby-identifier">formopt</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">enctype</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\Aapplication\/x-www-form-urlencoded\z/i</span>,
    <span class="ruby-regexp">/\Amultipart\/form-data\z/i</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">content_type</span> = <span class="ruby-identifier">enctype</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;invalid enctype: #{enctype}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_form_data">
            
              <b>set_form_data</b>(params, sep = &#39;&amp;&#39;)
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-set_form_data" name="method-i-set_form_data" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets the request body to a URL-encoded string derived from argument <code>params</code>, and sets request header field <code>&#39;Content-Type&#39;</code> to <code>&#39;application/x-www-form-urlencoded&#39;</code>.</p>

<p>The resulting request is suitable for <a href="HTTP.html"><code>HTTP</code></a> request <code>POST</code> or <code>PUT</code>.</p>

<p>Argument <code>params</code> must be suitable for use as argument <code>enum</code> to <a href="../URI.html#method-c-encode_www_form"><code>URI.encode_www_form</code></a>.</p>

<p>With only argument <code>params</code> given, sets the body to a URL-encoded string with the default separator <code>&#39;&amp;&#39;</code>:</p>

<pre><code>req = Net::HTTP::Post.new(&#39;example.com&#39;)

req.set_form_data(q: &#39;ruby&#39;, lang: &#39;en&#39;)
req.body            # =&gt; &quot;q=ruby&amp;lang=en&quot;
req[&#39;Content-Type&#39;] # =&gt; &quot;application/x-www-form-urlencoded&quot;

req.set_form_data([[&#39;q&#39;, &#39;ruby&#39;], [&#39;lang&#39;, &#39;en&#39;]])
req.body            # =&gt; &quot;q=ruby&amp;lang=en&quot;

req.set_form_data(q: [&#39;ruby&#39;, &#39;perl&#39;], lang: &#39;en&#39;)
req.body            # =&gt; &quot;q=ruby&amp;q=perl&amp;lang=en&quot;

req.set_form_data([[&#39;q&#39;, &#39;ruby&#39;], [&#39;q&#39;, &#39;perl&#39;], [&#39;lang&#39;, &#39;en&#39;]])
req.body            # =&gt; &quot;q=ruby&amp;q=perl&amp;lang=en&quot;
</code></pre>

<p>With string argument <code>sep</code> also given, uses that string as the separator:</p>

<pre><code>req.set_form_data({q: &#39;ruby&#39;, lang: &#39;en&#39;}, &#39;|&#39;)
req.body # =&gt; &quot;q=ruby|lang=en&quot;
</code></pre>

<p><a href="HTTPHeader.html#method-i-form_data-3D"><code>Net::HTTPHeader#form_data=</code></a> is an alias for <a href="HTTPHeader.html#method-i-set_form_data"><code>Net::HTTPHeader#set_form_data</code></a>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="HTTPHeader.html#method-i-form_data-3D">form_data=</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_form_data_source')" id="l_method-i-set_form_data_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L812" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_form_data_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 812</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_form_data</span>(<span class="ruby-identifier">params</span>, <span class="ruby-identifier">sep</span> = <span class="ruby-string">&#39;&amp;&#39;</span>)
  <span class="ruby-identifier">query</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">encode_www_form</span>(<span class="ruby-identifier">params</span>)
  <span class="ruby-identifier">query</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/&amp;/</span>, <span class="ruby-identifier">sep</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">sep</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&#39;&amp;&#39;</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">body</span> = <span class="ruby-identifier">query</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">content_type</span> = <span class="ruby-string">&#39;application/x-www-form-urlencoded&#39;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_range">
            
              <b>set_range(length) &rarr; length<br />set_range(offset, length) &rarr; range<br />set_range(begin..length) &rarr; range</b>
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-set_range" name="method-i-set_range" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets the value for field <code>&#39;Range&#39;</code>; see <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#range-request-header">Range request header</a>:</p>

<p>With argument <code>length</code>:</p>

<pre><code>req = Net::HTTP::Get.new(uri)
req.set_range(100)      # =&gt; 100
req[&#39;Range&#39;]            # =&gt; &quot;bytes=0-99&quot;
</code></pre>

<p>With arguments <code>offset</code> and <code>length</code>:</p>

<pre><code>req.set_range(100, 100) # =&gt; 100...200
req[&#39;Range&#39;]            # =&gt; &quot;bytes=100-199&quot;
</code></pre>

<p>With argument <code>range</code>:</p>

<pre><code>req.set_range(100..199) # =&gt; 100..199
req[&#39;Range&#39;]            # =&gt; &quot;bytes=100-199&quot;
</code></pre>

<p><a href="HTTPHeader.html#method-i-range-3D"><code>Net::HTTPHeader#range=</code></a> is an alias for <a href="HTTPHeader.html#method-i-set_range"><code>Net::HTTPHeader#set_range</code></a>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="HTTPHeader.html#method-i-range-3D">range=</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_range_source')" id="l_method-i-set_range_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L576" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_range_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 576</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_range</span>(<span class="ruby-identifier">r</span>, <span class="ruby-identifier">e</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">r</span>
    <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">delete</span> <span class="ruby-string">&#39;range&#39;</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">r</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">r</span> = (<span class="ruby-identifier">r</span><span class="ruby-operator">...</span><span class="ruby-identifier">r</span><span class="ruby-operator">+</span><span class="ruby-identifier">e</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">r</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Numeric</span>
    <span class="ruby-identifier">n</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">to_i</span>
    <span class="ruby-identifier">rangestr</span> = (<span class="ruby-identifier">n</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;0-#{n-1}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;-#{-n}&quot;</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Range</span>
    <span class="ruby-identifier">first</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">last</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">end</span>
    <span class="ruby-identifier">last</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">exclude_end?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-value">-1</span>
      <span class="ruby-identifier">rangestr</span> = (<span class="ruby-identifier">first</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;#{first}-&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;-#{-first}&quot;</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPHeaderSyntaxError</span>, <span class="ruby-string">&#39;range.first is negative&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">first</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPHeaderSyntaxError</span>, <span class="ruby-string">&#39;range.last is negative&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">last</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPHeaderSyntaxError</span>, <span class="ruby-string">&#39;must be .first &lt; .last&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">first</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">last</span>
      <span class="ruby-identifier">rangestr</span> = <span class="ruby-node">&quot;#{first}-#{last}&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-string">&#39;Range/Integer is required&#39;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;range&#39;</span>] = [<span class="ruby-node">&quot;bytes=#{rangestr}&quot;</span>]
  <span class="ruby-identifier">r</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-sub_type">
            
              <b>sub_type</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-sub_type" name="method-i-sub_type" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the trailing (â€˜subtypeâ€™) part of the <a href="https://en.wikipedia.org/wiki/Media_type">media type</a> from the value of field <code>&#39;Content-Type&#39;</code>, or <code>nil</code> if no such field exists; see <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#content-type-response-header">Content-Type response header</a>:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res[&#39;content-type&#39;] # =&gt; &quot;application/json; charset=utf-8&quot;
res.sub_type        # =&gt; &quot;json&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-sub_type_source')" id="l_method-i-sub_type_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L738" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-sub_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 738</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sub_type</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@header</span>[<span class="ruby-string">&#39;content-type&#39;</span>]
  <span class="ruby-identifier">_</span>, <span class="ruby-identifier">sub</span> = <span class="ruby-operator">*</span><span class="ruby-keyword">self</span>[<span class="ruby-string">&#39;Content-Type&#39;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;;&#39;</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;/&#39;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">sub</span>
  <span class="ruby-identifier">sub</span>.<span class="ruby-identifier">strip</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_hash">
            
              <b>to_hash</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-to_hash" name="method-i-to_hash" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a hash of the key/value pairs:</p>

<pre><code>req = Net::HTTP::Get.new(uri)
req.to_hash
# =&gt;
{&quot;accept-encoding&quot;=&gt;[&quot;gzip;q=1.0,deflate;q=0.6,identity;q=0.3&quot;],
 &quot;accept&quot;=&gt;[&quot;*/*&quot;],
 &quot;user-agent&quot;=&gt;[&quot;Ruby&quot;],
 &quot;host&quot;=&gt;[&quot;jsonplaceholder.typicode.com&quot;]}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_hash_source')" id="l_method-i-to_hash_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L477" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 477</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_hash</span>
  <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-type_params">
            
              <b>type_params</b>()
            
            <a href="../../classes/Net/HTTPHeader.html#method-i-type_params" name="method-i-type_params" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the trailing (â€˜parametersâ€™) part of the value of field <code>&#39;Content-Type&#39;</code>, or <code>nil</code> if no such field exists; see <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#content-type-response-header">Content-Type response header</a>:</p>

<pre><code>res = Net::HTTP.get_response(hostname, &#39;/todos/1&#39;)
res[&#39;content-type&#39;] # =&gt; &quot;application/json; charset=utf-8&quot;
res.type_params     # =&gt; {&quot;charset&quot;=&gt;&quot;utf-8&quot;}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-type_params_source')" id="l_method-i-type_params_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/lib/net/http/header.rb#L753" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-type_params_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/net/http/header.rb, line 753</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">type_params</span>
  <span class="ruby-identifier">result</span> = {}
  <span class="ruby-identifier">list</span> = <span class="ruby-keyword">self</span>[<span class="ruby-string">&#39;Content-Type&#39;</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;;&#39;</span>)
  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">shift</span>
  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">param</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">param</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;=&#39;</span>, <span class="ruby-value">2</span>)
    <span class="ruby-identifier">result</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">strip</span>] = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">strip</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </main>
  </body>
</html>
