<!DOCTYPE html>
<html lang="en">
<head>
    <title>Hash</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='["Hash"]'>


    <meta property="og:title" value="Hash">

  
    
    <meta name="description" content="A Hash maps each of its unique keys to a specific value.  A Hash has certain similarities to an Array, but:  An Array index is always an Integer.  A Hash key can be (almost) any object.">
    <meta property="og:description" content="A Hash maps each of its unique keys to a specific value.  A Hash has certain similarities to an Array, but:  An Array index is always an Integer.  A Hash key can be (almost) any object.">
  

    <meta name="keywords" content="Hash class, [], try_convert, new, initialize_copy, rehash, to_hash, to_h, to_a, inspect, to_proc, ==, [], hash, eql?, fetch, []=, store, default, default=, default_proc, default_proc=, key, size, length, empty?, each_value, each_key, each_pair, each, transform_keys, transform_keys!, transform_values, transform_values!, keys, values, values_at, fetch_values, shift, delete, delete_if, keep_if, select, select!, filter, filter!, reject, reject!, slice, except, clear, invert, update, replace, merge!, merge, assoc, rassoc, flatten, compact, compact!, include?, member?, has_key?, has_value?, key?, value?, compare_by_identity, compare_by_identity?, any?, dig, <=, <, >=, >, ruby2_keywords_hash?, ruby2_keywords_hash, to_s">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Class</span>
            Hash
            
                <span class="parent">&lt;
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h2>
        <ul class="files">
            
            <li><a href="../files/ruby/hash_c.html">ruby/hash.c</a></li>
            
            <li><a href="../files/ruby/lib/pp_rb.html">ruby/lib/pp.rb</a></li>
            
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>A Hash maps each of its unique keys to a specific value.</p>

<p>A Hash has certain similarities to an <a href="Array.html"><code>Array</code></a>, but:</p>
<ul><li>
<p>An <a href="Array.html"><code>Array</code></a> index is always an <a href="Integer.html"><code>Integer</code></a>.</p>
</li><li>
<p>A Hash key can be (almost) any object.</p>
</li></ul>

<h3 id="class-Hash-label-Hash+Data+Syntax">Hash Data Syntax</h3>

<p>The older syntax for Hash data uses the “hash rocket,” <code>=&gt;</code>:</p>

<pre><code>h = {:foo =&gt; 0, :bar =&gt; 1, :baz =&gt; 2}
h # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Alternatively, but only for a Hash key that’s a <a href="Symbol.html"><code>Symbol</code></a>, you can use a newer JSON-style syntax, where each bareword becomes a Symbol:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>You can also use a <a href="String.html"><code>String</code></a> in place of a bareword:</p>

<pre><code>h = {&#39;foo&#39;: 0, &#39;bar&#39;: 1, &#39;baz&#39;: 2}
h # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>And you can mix the styles:</p>

<pre><code>h = {foo: 0, :bar =&gt; 1, &#39;baz&#39;: 2}
h # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>But it’s an error to try the JSON-style syntax for a key that’s not a bareword or a String:</p>

<pre><code># Raises SyntaxError (syntax error, unexpected &#39;:&#39;, expecting =&gt;):
h = {0: &#39;zero&#39;}
</code></pre>

<p><a href="Hash.html"><code>Hash</code></a> value can be omitted, meaning that value will be fetched from the context by the name of the key:</p>

<pre><code>x = 0
y = 100
h = {x:, y:}
h # =&gt; {:x=&gt;0, :y=&gt;100}
</code></pre>

<h3 id="class-Hash-label-Common+Uses">Common Uses</h3>

<p>You can use a Hash to give names to objects:</p>

<pre><code>person = {name: &#39;Matz&#39;, language: &#39;Ruby&#39;}
person # =&gt; {:name=&gt;&quot;Matz&quot;, :language=&gt;&quot;Ruby&quot;}
</code></pre>

<p>You can use a Hash to give names to method arguments:</p>

<pre><code>def some_method(hash)
  p hash
end
some_method({foo: 0, bar: 1, baz: 2}) # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Note: when the last argument in a method call is a Hash, the curly braces may be omitted:</p>

<pre><code>some_method(foo: 0, bar: 1, baz: 2) # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>You can use a Hash to initialize an object:</p>

<pre><code>class Dev
  attr_accessor :name, :language
  def initialize(hash)
    self.name = hash[:name]
    self.language = hash[:language]
  end
end
matz = Dev.new(name: &#39;Matz&#39;, language: &#39;Ruby&#39;)
matz # =&gt; #&lt;Dev: @name=&quot;Matz&quot;, @language=&quot;Ruby&quot;&gt;
</code></pre>

<h3 id="class-Hash-label-Creating+a+Hash">Creating a Hash</h3>

<p>You can create a Hash object explicitly with:</p>
<ul><li>
<p>A hash literal.</p>
</li></ul>

<p>You can convert certain objects to Hashes with:</p>
<ul><li>
<p>Method <a href="Kernel.html#method-i-Hash"><code>Hash</code></a>.</p>
</li></ul>

<p>You can create a Hash by calling method <a href="Hash.html#method-c-new"><code>Hash.new</code></a>.</p>

<p>Create an empty Hash:</p>

<pre><code>h = Hash.new
h # =&gt; {}
h.class # =&gt; Hash
</code></pre>

<p>You can create a Hash by calling method <a href="Hash.html#method-c-5B-5D"><code>Hash.[]</code></a>.</p>

<p>Create an empty Hash:</p>

<pre><code>h = Hash[]
h # =&gt; {}
</code></pre>

<p>Create a Hash with initial entries:</p>

<pre><code>h = Hash[foo: 0, bar: 1, baz: 2]
h # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>You can create a Hash by using its literal form (curly braces).</p>

<p>Create an empty Hash:</p>

<pre><code>h = {}
h # =&gt; {}
</code></pre>

<p>Create a Hash with initial entries:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<h3 id="class-Hash-label-Hash+Value+Basics">Hash Value Basics</h3>

<p>The simplest way to retrieve a Hash value (instance method <a href="Hash.html#method-i-5B-5D"><code>[]</code></a>):</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h[:foo] # =&gt; 0
</code></pre>

<p>The simplest way to create or update a Hash value (instance method <a href="Hash.html#method-i-5B-5D-3D"><code>[]=</code></a>):</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h[:bat] = 3 # =&gt; 3
h # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2, :bat=&gt;3}
h[:foo] = 4 # =&gt; 4
h # =&gt; {:foo=&gt;4, :bar=&gt;1, :baz=&gt;2, :bat=&gt;3}
</code></pre>

<p>The simplest way to delete a Hash entry (instance method <a href="Hash.html#method-i-delete"><code>delete</code></a>):</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.delete(:bar) # =&gt; 1
h # =&gt; {:foo=&gt;0, :baz=&gt;2}
</code></pre>

<h3 id="class-Hash-label-Entry+Order">Entry Order</h3>

<p>A Hash object presents its entries in the order of their creation. This is seen in:</p>
<ul><li>
<p>Iterative methods such as <code>each</code>, <code>each_key</code>, <code>each_pair</code>, <code>each_value</code>.</p>
</li><li>
<p>Other order-sensitive methods such as <code>shift</code>, <code>keys</code>, <code>values</code>.</p>
</li><li>
<p>The <a href="String.html"><code>String</code></a> returned by method <code>inspect</code>.</p>
</li></ul>

<p>A new Hash has its initial ordering per the given entries:</p>

<pre><code>h = Hash[foo: 0, bar: 1]
h # =&gt; {:foo=&gt;0, :bar=&gt;1}
</code></pre>

<p>New entries are added at the end:</p>

<pre><code>h[:baz] = 2
h # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Updating a value does not affect the order:</p>

<pre><code>h[:baz] = 3
h # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;3}
</code></pre>

<p>But re-creating a deleted entry can affect the order:</p>

<pre><code>h.delete(:foo)
h[:foo] = 5
h # =&gt; {:bar=&gt;1, :baz=&gt;3, :foo=&gt;5}
</code></pre>

<h3 id="class-Hash-label-Hash+Keys">Hash Keys</h3>

<h4 id="class-Hash-label-Hash+Key+Equivalence">Hash Key Equivalence</h4>

<p>Two objects are treated as the same hash key when their <code>hash</code> value is identical and the two objects are <code>eql?</code> to each other.</p>

<h4 id="class-Hash-label-Modifying+an+Active+Hash+Key">Modifying an Active Hash Key</h4>

<p>Modifying a Hash key while it is in use damages the hash’s index.</p>

<p>This Hash has keys that are Arrays:</p>

<pre><code>a0 = [ :foo, :bar ]
a1 = [ :baz, :bat ]
h = {a0 =&gt; 0, a1 =&gt; 1}
h.include?(a0) # =&gt; true
h[a0] # =&gt; 0
a0.hash # =&gt; 110002110
</code></pre>

<p>Modifying array element <code>a0[0]</code> changes its hash value:</p>

<pre><code>a0[0] = :bam
a0.hash # =&gt; 1069447059
</code></pre>

<p>And damages the Hash index:</p>

<pre><code>h.include?(a0) # =&gt; false
h[a0] # =&gt; nil
</code></pre>

<p>You can repair the hash index using method <code>rehash</code>:</p>

<pre><code>h.rehash # =&gt; {[:bam, :bar]=&gt;0, [:baz, :bat]=&gt;1}
h.include?(a0) # =&gt; true
h[a0] # =&gt; 0
</code></pre>

<p>A <a href="String.html"><code>String</code></a> key is always safe. That’s because an unfrozen <a href="String.html"><code>String</code></a> passed as a key will be replaced by a duplicated and frozen String:</p>

<pre><code>s = &#39;foo&#39;
s.frozen? # =&gt; false
h = {s =&gt; 0}
first_key = h.keys.first
first_key.frozen? # =&gt; true
</code></pre>

<h4 id="class-Hash-label-User-Defined+Hash+Keys">User-Defined Hash Keys</h4>

<p>To be useable as a Hash key, objects must implement the methods <code>hash</code> and <code>eql?</code>. Note: this requirement does not apply if the Hash uses <a href="Hash.html#method-i-compare_by_identity"><code>compare_by_identity</code></a> since comparison will then rely on the keys’ object id instead of <code>hash</code> and <code>eql?</code>.</p>

<p><a href="Object.html"><code>Object</code></a> defines basic implementation for <code>hash</code> and <code>eq?</code> that makes each object a distinct key. Typically, user-defined classes will want to override these methods to provide meaningful behavior, or for example inherit <a href="Struct.html"><code>Struct</code></a> that has useful definitions for these.</p>

<p>A typical implementation of <code>hash</code> is based on the object’s data while <code>eql?</code> is usually aliased to the overridden <code>==</code> method:</p>

<pre><code>class Book
  attr_reader :author, :title

  def initialize(author, title)
    @author = author
    @title = title
  end

  def ==(other)
    self.class === other &amp;&amp;
      other.author == @author &amp;&amp;
      other.title == @title
  end

  alias eql? ==

  def hash
    [self.class, @author, @title].hash
  end
end

book1 = Book.new &#39;matz&#39;, &#39;Ruby in a Nutshell&#39;
book2 = Book.new &#39;matz&#39;, &#39;Ruby in a Nutshell&#39;

reviews = {}

reviews[book1] = &#39;Great reference!&#39;
reviews[book2] = &#39;Nice and compact!&#39;

reviews.length #=&gt; 1
</code></pre>

<h3 id="class-Hash-label-Default+Values">Default Values</h3>

<p>The methods <a href="Hash.html#method-i-5B-5D"><code>[]</code></a>, <a href="Hash.html#method-i-values_at"><code>values_at</code></a> and <a href="Hash.html#method-i-dig"><code>dig</code></a> need to return the value associated to a certain key. When that key is not found, that value will be determined by its default proc (if any) or else its default (initially ‘nil`).</p>

<p>You can retrieve the default value with method <a href="Hash.html#method-i-default"><code>default</code></a>:</p>

<pre><code>h = Hash.new
h.default # =&gt; nil
</code></pre>

<p>You can set the default value by passing an argument to method <a href="Hash.html#method-c-new"><code>Hash.new</code></a> or with method <a href="Hash.html#method-i-default-3D"><code>default=</code></a></p>

<pre><code>h = Hash.new(-1)
h.default # =&gt; -1
h.default = 0
h.default # =&gt; 0
</code></pre>

<p>This default value is returned for <a href="Hash.html#method-i-5B-5D"><code>[]</code></a>, <a href="Hash.html#method-i-values_at"><code>values_at</code></a> and <a href="Hash.html#method-i-dig"><code>dig</code></a> when a key is not found:</p>

<pre><code>counts = {foo: 42}
counts.default # =&gt; nil (default)
counts[:foo] = 42
counts[:bar] # =&gt; nil
counts.default = 0
counts[:bar] # =&gt; 0
counts.values_at(:foo, :bar, :baz) # =&gt; [42, 0, 0]
counts.dig(:bar) # =&gt; 0
</code></pre>

<p>Note that the default value is used without being duplicated. It is not advised to set the default value to a mutable object:</p>

<pre><code>synonyms = Hash.new([])
synonyms[:hello] # =&gt; []
synonyms[:hello] &lt;&lt; :hi # =&gt; [:hi], but this mutates the default!
synonyms.default # =&gt; [:hi]
synonyms[:world] &lt;&lt; :universe
synonyms[:world] # =&gt; [:hi, :universe], oops
synonyms.keys # =&gt; [], oops
</code></pre>

<p>To use a mutable object as default, it is recommended to use a default proc</p>

<h4 id="class-Hash-label-Default+Proc">Default <a href="Proc.html"><code>Proc</code></a></h4>

<p>When the default proc for a Hash is set (i.e., not <code>nil</code>), the default value returned by method <a href="Hash.html#method-i-5B-5D"><code>[]</code></a> is determined by the default proc alone.</p>

<p>You can retrieve the default proc with method <a href="Hash.html#method-i-default_proc"><code>default_proc</code></a>:</p>

<pre><code>h = Hash.new
h.default_proc # =&gt; nil
</code></pre>

<p>You can set the default proc by calling <a href="Hash.html#method-c-new"><code>Hash.new</code></a> with a block or calling the method <a href="Hash.html#method-i-default_proc-3D"><code>default_proc=</code></a></p>

<pre><code>h = Hash.new { |hash, key| &quot;Default value for #{key}&quot; }
h.default_proc.class # =&gt; Proc
h.default_proc = proc { |hash, key| &quot;Default value for #{key.inspect}&quot; }
h.default_proc.class # =&gt; Proc
</code></pre>

<p>When the default proc is set (i.e., not <code>nil</code>) and method <a href="Hash.html#method-i-5B-5D"><code>[]</code></a> is called with with a non-existent key, <a href="Hash.html#method-i-5B-5D"><code>[]</code></a> calls the default proc with both the Hash object itself and the missing key, then returns the proc’s return value:</p>

<pre><code>h = Hash.new { |hash, key| &quot;Default value for #{key}&quot; }
h[:nosuch] # =&gt; &quot;Default value for nosuch&quot;
</code></pre>

<p>Note that in the example above no entry for key <code>:nosuch</code> is created:</p>

<pre><code>h.include?(:nosuch) # =&gt; false
</code></pre>

<p>However, the proc itself can add a new entry:</p>

<pre><code>synonyms = Hash.new { |hash, key| hash[key] = [] }
synonyms.include?(:hello) # =&gt; false
synonyms[:hello] &lt;&lt; :hi # =&gt; [:hi]
synonyms[:world] &lt;&lt; :universe # =&gt; [:universe]
synonyms.keys # =&gt; [:hello, :world]
</code></pre>

<p>Note that setting the default proc will clear the default value and vice versa.</p>

<p>Be aware that a default proc that modifies the hash is not thread-safe in the sense that multiple threads can call into the default proc concurrently for the same key.</p>

<h3 id="class-Hash-label-What-27s+Here">What’s Here</h3>

<p>First, what’s elsewhere. Class Hash:</p>
<ul><li>
<p>Inherits from <a href="Object.html#class-Object-label-What-27s+Here">class Object</a>.</p>
</li><li>
<p>Includes <a href="Enumerable.html#module-Enumerable-label-What-27s+Here">module Enumerable</a>, which provides dozens of additional methods.</p>
</li></ul>

<p>Here, class Hash provides methods that are useful for:</p>
<ul><li>
<p><a href="Hash.html#class-Hash-label-Methods+for+Creating+a+Hash">Creating a Hash</a></p>
</li><li>
<p><a href="Hash.html#class-Hash-label-Methods+for+Setting+Hash+State">Setting Hash State</a></p>
</li><li>
<p><a href="Hash.html#class-Hash-label-Methods+for+Querying">Querying</a></p>
</li><li>
<p><a href="Hash.html#class-Hash-label-Methods+for+Comparing">Comparing</a></p>
</li><li>
<p><a href="Hash.html#class-Hash-label-Methods+for+Fetching">Fetching</a></p>
</li><li>
<p><a href="Hash.html#class-Hash-label-Methods+for+Assigning">Assigning</a></p>
</li><li>
<p><a href="Hash.html#class-Hash-label-Methods+for+Deleting">Deleting</a></p>
</li><li>
<p><a href="Hash.html#class-Hash-label-Methods+for+Iterating">Iterating</a></p>
</li><li>
<p><a href="Hash.html#class-Hash-label-Methods+for+Converting">Converting</a></p>
</li><li>
<p><a href="Hash.html#class-Hash-label-Methods+for+Transforming+Keys+and+Values">Transforming Keys and Values</a></p>
</li><li>
<p><a href="Hash.html#class-Hash-label-Other+Methods">And more.…</a></p>
</li></ul>

<p>Class Hash also includes methods from module <a href="Enumerable.html"><code>Enumerable</code></a>.</p>

<h4 id="class-Hash-label-Methods+for+Creating+a+Hash">Methods for Creating a Hash</h4>
<ul><li>
<p><a href="Hash.html#method-c-5B-5D"><code>::[]</code></a>: Returns a new hash populated with given objects.</p>
</li><li>
<p><a href="Hash.html#method-c-new"><code>::new</code></a>: Returns a new empty hash.</p>
</li><li>
<p><a href="Hash.html#method-c-try_convert"><code>::try_convert</code></a>: Returns a new hash created from a given object.</p>
</li></ul>

<h4 id="class-Hash-label-Methods+for+Setting+Hash+State">Methods for Setting Hash State</h4>
<ul><li>
<p><a href="Hash.html#method-i-compare_by_identity"><code>compare_by_identity</code></a>: Sets <code>self</code> to consider only identity in comparing keys.</p>
</li><li>
<p><a href="Hash.html#method-i-default-3D"><code>default=</code></a>: Sets the default to a given value.</p>
</li><li>
<p><a href="Hash.html#method-i-default_proc-3D"><code>default_proc=</code></a>: Sets the default proc to a given proc.</p>
</li><li>
<p><a href="Hash.html#method-i-rehash"><code>rehash</code></a>: Rebuilds the hash table by recomputing the hash index for each key.</p>
</li></ul>

<h4 id="class-Hash-label-Methods+for+Querying">Methods for Querying</h4>
<ul><li>
<p><a href="Hash.html#method-i-any-3F"><code>any?</code></a>: Returns whether any element satisfies a given criterion.</p>
</li><li>
<p><a href="Hash.html#method-i-compare_by_identity-3F"><code>compare_by_identity?</code></a>: Returns whether the hash considers only identity when comparing keys.</p>
</li><li>
<p><a href="Hash.html#method-i-default"><code>default</code></a>: Returns the default value, or the default value for a given key.</p>
</li><li>
<p><a href="Hash.html#method-i-default_proc"><code>default_proc</code></a>: Returns the default proc.</p>
</li><li>
<p><a href="Hash.html#method-i-empty-3F"><code>empty?</code></a>: Returns whether there are no entries.</p>
</li><li>
<p><a href="Hash.html#method-i-eql-3F"><code>eql?</code></a>: Returns whether a given object is equal to <code>self</code>.</p>
</li><li>
<p><a href="Hash.html#method-i-hash"><code>hash</code></a>: Returns the integer hash code.</p>
</li><li>
<p><a href="Hash.html#method-i-has_value-3F"><code>has_value?</code></a>: Returns whether a given object is a value in <code>self</code>.</p>
</li><li>
<p><a href="Hash.html#method-i-include-3F"><code>include?</code></a>, <a href="Hash.html#method-i-has_key-3F"><code>has_key?</code></a>, <a href="Hash.html#method-i-member-3F"><code>member?</code></a>, <a href="Hash.html#method-i-key-3F"><code>key?</code></a>: Returns whether a given object is a key in <code>self</code>.</p>
</li><li>
<p><a href="Hash.html#method-i-length"><code>length</code></a>, <a href="Hash.html#method-i-size"><code>size</code></a>: Returns the count of entries.</p>
</li><li>
<p><a href="Hash.html#method-i-value-3F"><code>value?</code></a>: Returns whether a given object is a value in <code>self</code>.</p>
</li></ul>

<h4 id="class-Hash-label-Methods+for+Comparing">Methods for Comparing</h4>
<ul><li>
<p>#&lt;: Returns whether <code>self</code> is a proper subset of a given object.</p>
</li><li>
<p>#&lt;=: Returns whether <code>self</code> is a subset of a given object.</p>
</li><li>
<p><a href="Hash.html#method-i-3D-3D"><code>==</code></a>: Returns whether a given object is equal to <code>self</code>.</p>
</li><li>
<p>#&gt;: Returns whether <code>self</code> is a proper superset of a given object</p>
</li><li>
<p>#&gt;=: Returns whether <code>self</code> is a superset of a given object.</p>
</li></ul>

<h4 id="class-Hash-label-Methods+for+Fetching">Methods for Fetching</h4>
<ul><li>
<p><a href="Hash.html#method-i-5B-5D"><code>[]</code></a>: Returns the value associated with a given key.</p>
</li><li>
<p><a href="Hash.html#method-i-assoc"><code>assoc</code></a>: Returns a 2-element array containing a given key and its value.</p>
</li><li>
<p><a href="Hash.html#method-i-dig"><code>dig</code></a>: Returns the object in nested objects that is specified by a given key and additional arguments.</p>
</li><li>
<p><a href="Hash.html#method-i-fetch"><code>fetch</code></a>: Returns the value for a given key.</p>
</li><li>
<p><a href="Hash.html#method-i-fetch_values"><code>fetch_values</code></a>: Returns array containing the values associated with given keys.</p>
</li><li>
<p><a href="Hash.html#method-i-key"><code>key</code></a>: Returns the key for the first-found entry with a given value.</p>
</li><li>
<p><a href="Hash.html#method-i-keys"><code>keys</code></a>: Returns an array containing all keys in <code>self</code>.</p>
</li><li>
<p><a href="Hash.html#method-i-rassoc"><code>rassoc</code></a>: Returns a 2-element array consisting of the key and value of the first-found entry having a given value.</p>
</li><li>
<p><a href="Hash.html#method-i-values"><code>values</code></a>: Returns an array containing all values in <code>self</code>/</p>
</li><li>
<p><a href="Hash.html#method-i-values_at"><code>values_at</code></a>: Returns an array containing values for given keys.</p>
</li></ul>

<h4 id="class-Hash-label-Methods+for+Assigning">Methods for Assigning</h4>
<ul><li>
<p><a href="Hash.html#method-i-5B-5D-3D"><code>[]=</code></a>, <a href="Hash.html#method-i-store"><code>store</code></a>: Associates a given key with a given value.</p>
</li><li>
<p><a href="Hash.html#method-i-merge"><code>merge</code></a>: Returns the hash formed by merging each given hash into a copy of <code>self</code>.</p>
</li><li>
<p><a href="Hash.html#method-i-merge-21"><code>merge!</code></a>, <a href="Hash.html#method-i-update"><code>update</code></a>: Merges each given hash into <code>self</code>.</p>
</li><li>
<p><a href="Hash.html#method-i-replace"><code>replace</code></a>: Replaces the entire contents of <code>self</code> with the contents of a given hash.</p>
</li></ul>

<h4 id="class-Hash-label-Methods+for+Deleting">Methods for Deleting</h4>

<p>These methods remove entries from <code>self</code>:</p>
<ul><li>
<p><a href="Hash.html#method-i-clear"><code>clear</code></a>: Removes all entries from <code>self</code>.</p>
</li><li>
<p><a href="Hash.html#method-i-compact-21"><code>compact!</code></a>: Removes all <code>nil</code>-valued entries from <code>self</code>.</p>
</li><li>
<p><a href="Hash.html#method-i-delete"><code>delete</code></a>: Removes the entry for a given key.</p>
</li><li>
<p><a href="Hash.html#method-i-delete_if"><code>delete_if</code></a>: Removes entries selected by a given block.</p>
</li><li>
<p><a href="Hash.html#method-i-filter-21"><code>filter!</code></a>, <a href="Hash.html#method-i-select-21"><code>select!</code></a>: Keep only those entries selected by a given block.</p>
</li><li>
<p><a href="Hash.html#method-i-keep_if"><code>keep_if</code></a>: Keep only those entries selected by a given block.</p>
</li><li>
<p><a href="Hash.html#method-i-reject-21"><code>reject!</code></a>: Removes entries selected by a given block.</p>
</li><li>
<p><a href="Hash.html#method-i-shift"><code>shift</code></a>: Removes and returns the first entry.</p>
</li></ul>

<p>These methods return a copy of <code>self</code> with some entries removed:</p>
<ul><li>
<p><a href="Hash.html#method-i-compact"><code>compact</code></a>: Returns a copy of <code>self</code> with all <code>nil</code>-valued entries removed.</p>
</li><li>
<p><a href="Hash.html#method-i-except"><code>except</code></a>: Returns a copy of <code>self</code> with entries removed for specified keys.</p>
</li><li>
<p><a href="Hash.html#method-i-filter"><code>filter</code></a>, <a href="Hash.html#method-i-select"><code>select</code></a>: Returns a copy of <code>self</code> with only those entries selected by a given block.</p>
</li><li>
<p><a href="Hash.html#method-i-reject"><code>reject</code></a>: Returns a copy of <code>self</code> with entries removed as specified by a given block.</p>
</li><li>
<p><a href="Hash.html#method-i-slice"><code>slice</code></a>: Returns a hash containing the entries for given keys.</p>
</li></ul>

<h4 id="class-Hash-label-Methods+for+Iterating">Methods for Iterating</h4>
<ul><li>
<p><a href="Hash.html#method-i-each"><code>each</code></a>, <a href="Hash.html#method-i-each_pair"><code>each_pair</code></a>: Calls a given block with each key-value pair.</p>
</li><li>
<p><a href="Hash.html#method-i-each_key"><code>each_key</code></a>: Calls a given block with each key.</p>
</li><li>
<p><a href="Hash.html#method-i-each_value"><code>each_value</code></a>: Calls a given block with each value.</p>
</li></ul>

<h4 id="class-Hash-label-Methods+for+Converting">Methods for Converting</h4>
<ul><li>
<p><a href="Hash.html#method-i-inspect"><code>inspect</code></a>, <a href="Hash.html#method-i-to_s"><code>to_s</code></a>: Returns a new <a href="String.html"><code>String</code></a> containing the hash entries.</p>
</li><li>
<p><a href="Hash.html#method-i-to_a"><code>to_a</code></a>: Returns a new array of 2-element arrays; each nested array contains a key-value pair from <code>self</code>.</p>
</li><li>
<p><a href="Hash.html#method-i-to_h"><code>to_h</code></a>: Returns <code>self</code> if a Hash; if a subclass of Hash, returns a Hash containing the entries from <code>self</code>.</p>
</li><li>
<p><a href="Hash.html#method-i-to_hash"><code>to_hash</code></a>: Returns <code>self</code>.</p>
</li><li>
<p><a href="Hash.html#method-i-to_proc"><code>to_proc</code></a>: Returns a proc that maps a given key to its value.</p>
</li></ul>

<h4 id="class-Hash-label-Methods+for+Transforming+Keys+and+Values">Methods for Transforming Keys and Values</h4>
<ul><li>
<p><a href="Hash.html#method-i-transform_keys"><code>transform_keys</code></a>: Returns a copy of <code>self</code> with modified keys.</p>
</li><li>
<p><a href="Hash.html#method-i-transform_keys-21"><code>transform_keys!</code></a>: Modifies keys in <code>self</code></p>
</li><li>
<p><a href="Hash.html#method-i-transform_values"><code>transform_values</code></a>: Returns a copy of <code>self</code> with modified values.</p>
</li><li>
<p><a href="Hash.html#method-i-transform_values-21"><code>transform_values!</code></a>: Modifies values in <code>self</code>.</p>
</li></ul>

<h4 id="class-Hash-label-Other+Methods">Other Methods</h4>
<ul><li>
<p><a href="Hash.html#method-i-flatten"><code>flatten</code></a>: Returns an array that is a 1-dimensional flattening of <code>self</code>.</p>
</li><li>
<p><a href="Hash.html#method-i-invert"><code>invert</code></a>: Returns a hash with the each key-value pair inverted.</p>
</li></ul>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-3C">&lt;</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3C-3D">&lt;=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3D-3D">==</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3E">&gt;</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3E-3D">&gt;=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-5B-5D">[]</a>,
              </li>
            
              
              <li>
                <a href="#method-i-5B-5D">[]</a>,
              </li>
            
              
              <li>
                <a href="#method-i-5B-5D-3D">[]=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-any-3F">any?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-assoc">assoc</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-clear">clear</a>,
              </li>
            
              
              <li>
                <a href="#method-i-compact">compact</a>,
              </li>
            
              
              <li>
                <a href="#method-i-compact-21">compact!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-compare_by_identity">compare_by_identity</a>,
              </li>
            
              
              <li>
                <a href="#method-i-compare_by_identity-3F">compare_by_identity?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-default">default</a>,
              </li>
            
              
              <li>
                <a href="#method-i-default-3D">default=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-default_proc">default_proc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-default_proc-3D">default_proc=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-delete">delete</a>,
              </li>
            
              
              <li>
                <a href="#method-i-delete_if">delete_if</a>,
              </li>
            
              
              <li>
                <a href="#method-i-dig">dig</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-each">each</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_key">each_key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_pair">each_pair</a>,
              </li>
            
              
              <li>
                <a href="#method-i-each_value">each_value</a>,
              </li>
            
              
              <li>
                <a href="#method-i-empty-3F">empty?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-eql-3F">eql?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-except">except</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-fetch">fetch</a>,
              </li>
            
              
              <li>
                <a href="#method-i-fetch_values">fetch_values</a>,
              </li>
            
              
              <li>
                <a href="#method-i-filter">filter</a>,
              </li>
            
              
              <li>
                <a href="#method-i-filter-21">filter!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-flatten">flatten</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-has_key-3F">has_key?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-has_value-3F">has_value?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-hash">hash</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-include-3F">include?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-initialize_copy">initialize_copy</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>,
              </li>
            
              
              <li>
                <a href="#method-i-invert">invert</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>K</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-keep_if">keep_if</a>,
              </li>
            
              
              <li>
                <a href="#method-i-key">key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-key-3F">key?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-keys">keys</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-length">length</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-member-3F">member?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-merge">merge</a>,
              </li>
            
              
              <li>
                <a href="#method-i-merge-21">merge!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-rassoc">rassoc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rehash">rehash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reject">reject</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reject-21">reject!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-replace">replace</a>,
              </li>
            
              
              <li>
                <a href="#method-c-ruby2_keywords_hash">ruby2_keywords_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-c-ruby2_keywords_hash-3F">ruby2_keywords_hash?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-select">select</a>,
              </li>
            
              
              <li>
                <a href="#method-i-select-21">select!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-shift">shift</a>,
              </li>
            
              
              <li>
                <a href="#method-i-size">size</a>,
              </li>
            
              
              <li>
                <a href="#method-i-slice">slice</a>,
              </li>
            
              
              <li>
                <a href="#method-i-store">store</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_a">to_a</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_h">to_h</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_hash">to_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_proc">to_proc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>,
              </li>
            
              
              <li>
                <a href="#method-i-transform_keys">transform_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-transform_keys-21">transform_keys!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-transform_values">transform_values</a>,
              </li>
            
              
              <li>
                <a href="#method-i-transform_values-21">transform_values!</a>,
              </li>
            
              
              <li>
                <a href="#method-c-try_convert">try_convert</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-update">update</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-value-3F">value?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-values">values</a>,
              </li>
            
              
              <li>
                <a href="#method-i-values_at">values_at</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="Enumerable.html">
              Enumerable
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    


    


    <!-- Methods -->
    
      <h2 class="sectiontitle">Class Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-c-5B-5D">
            
              <b>Hash[] &rarr; new_empty_hash<br />Hash[hash] &rarr; new_hash<br />Hash[ [*2_element_arrays] ] &rarr; new_hash<br />Hash[*objects] &rarr; new_hash
</b>
            
            <a href="../classes/Hash.html#method-c-5B-5D" name="method-c-5B-5D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new Hash object populated with the given objects, if any. See <a href="Hash.html#method-c-new"><code>Hash::new</code></a>.</p>

<p>With no argument, returns a new empty Hash.</p>

<p>When the single given argument is a Hash, returns a new Hash populated with the entries from the given Hash, excluding the default value or proc.</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
Hash[h] # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>When the single given argument is an <a href="Array.html"><code>Array</code></a> of 2-element Arrays, returns a new Hash object wherein each 2-element array forms a key-value entry:</p>

<pre><code>Hash[ [ [:foo, 0], [:bar, 1] ] ] # =&gt; {:foo=&gt;0, :bar=&gt;1}
</code></pre>

<p>When the argument count is an even number; returns a new Hash object wherein each successive pair of arguments has become a key-value entry:</p>

<pre><code>Hash[:foo, 0, :bar, 1] # =&gt; {:foo=&gt;0, :bar=&gt;1}
</code></pre>

<p>Raises an exception if the argument list does not conform to any of the above.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-5B-5D_source')" id="l_method-c-5B-5D_source">show</a>
                
              </p>
              <div id="method-c-5B-5D_source" class="dyn-source">
                <pre>static VALUE
rb_hash_s_create(int argc, VALUE *argv, VALUE klass)
{
    VALUE hash, tmp;

    if (argc == 1) {
        tmp = rb_hash_s_try_convert(Qnil, argv[0]);
        if (!NIL_P(tmp)) {
            if (!RHASH_EMPTY_P(tmp)  &amp;&amp; rb_hash_compare_by_id_p(tmp)) {
                /* hash_copy for non-empty hash will copy compare_by_identity
                   flag, but we don&#39;t want it copied. Work around by
                   converting hash to flattened array and using that. */
                tmp = rb_hash_to_a(tmp);
            }
            else {
                hash = hash_alloc(klass);
                if (!RHASH_EMPTY_P(tmp))
                    hash_copy(hash, tmp);
                return hash;
            }
        }
        else {
            tmp = rb_check_array_type(argv[0]);
        }

        if (!NIL_P(tmp)) {
            long i;

            hash = hash_alloc(klass);
            for (i = 0; i &lt; RARRAY_LEN(tmp); ++i) {
                VALUE e = RARRAY_AREF(tmp, i);
                VALUE v = rb_check_array_type(e);
                VALUE key, val = Qnil;

                if (NIL_P(v)) {
                    rb_raise(rb_eArgError, &quot;wrong element type %s at %ld (expected array)&quot;,
                             rb_builtin_class_name(e), i);
                }
                switch (RARRAY_LEN(v)) {
                  default:
                    rb_raise(rb_eArgError, &quot;invalid number of elements (%ld for 1..2)&quot;,
                             RARRAY_LEN(v));
                  case 2:
                    val = RARRAY_AREF(v, 1);
                  case 1:
                    key = RARRAY_AREF(v, 0);
                    rb_hash_aset(hash, key, val);
                }
            }
            return hash;
        }
    }
    if (argc % 2 != 0) {
        rb_raise(rb_eArgError, &quot;odd number of arguments for Hash&quot;);
    }

    hash = hash_alloc(klass);
    rb_hash_bulk_insert(argc, argv, hash);
    hash_verify(hash);
    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-new">
            
              <b>Hash.new(default_value = nil) &rarr; new_hash<br />Hash.new {|hash, key| ... } &rarr; new_hash
</b>
            
            <a href="../classes/Hash.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new empty Hash object.</p>

<p>The initial default value and initial default proc for the new hash depend on which form above was used. See <a href="Hash.html#class-Hash-label-Default+Values">Default Values</a>.</p>

<p>If neither an argument nor a block given, initializes both the default value and the default proc to <code>nil</code>:</p>

<pre><code>h = Hash.new
h.default # =&gt; nil
h.default_proc # =&gt; nil
</code></pre>

<p>If argument <code>default_value</code> given but no block given, initializes the default value to the given <code>default_value</code> and the default proc to <code>nil</code>:</p>

<pre><code>h = Hash.new(false)
h.default # =&gt; false
h.default_proc # =&gt; nil
</code></pre>

<p>If a block given but no argument, stores the block as the default proc and sets the default value to <code>nil</code>:</p>

<pre><code>h = Hash.new {|hash, key| &quot;Default value for #{key}&quot; }
h.default # =&gt; nil
h.default_proc.class # =&gt; Proc
h[:nosuch] # =&gt; &quot;Default value for nosuch&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre>static VALUE
rb_hash_initialize(int argc, VALUE *argv, VALUE hash)
{
    rb_hash_modify(hash);

    if (rb_block_given_p()) {
        rb_check_arity(argc, 0, 0);
        SET_PROC_DEFAULT(hash, rb_block_proc());
    }
    else {
        rb_check_arity(argc, 0, 1);

        VALUE options, ifnone;
        rb_scan_args(argc, argv, &quot;01:&quot;, &amp;ifnone, &amp;options);
        if (NIL_P(ifnone) &amp;&amp; !NIL_P(options)) {
            ifnone = options;
            rb_warn_deprecated_to_remove(&quot;3.4&quot;, &quot;Calling Hash.new with keyword arguments&quot;, &quot;Hash.new({ key: value })&quot;);
        }
        RHASH_SET_IFNONE(hash, ifnone);
    }

    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-ruby2_keywords_hash">
            
              <b>Hash.ruby2_keywords_hash(hash) &rarr; hash
</b>
            
            <a href="../classes/Hash.html#method-c-ruby2_keywords_hash" name="method-c-ruby2_keywords_hash" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Duplicates a given hash and adds a ruby2_keywords flag. This method is not for casual use; debugging, researching, and some truly necessary cases like deserialization of arguments.</p>

<pre><code>h = {k: 1}
h = Hash.ruby2_keywords_hash(h)
def foo(k: 42)
  k
end
foo(*[h]) #=&gt; 1 with neither a warning or an error
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-ruby2_keywords_hash_source')" id="l_method-c-ruby2_keywords_hash_source">show</a>
                
              </p>
              <div id="method-c-ruby2_keywords_hash_source" class="dyn-source">
                <pre>static VALUE
rb_hash_s_ruby2_keywords_hash(VALUE dummy, VALUE hash)
{
    Check_Type(hash, T_HASH);
    VALUE tmp = rb_hash_dup(hash);
    if (RHASH_EMPTY_P(hash) &amp;&amp; rb_hash_compare_by_id_p(hash)) {
        rb_hash_compare_by_id(tmp);
    }
    RHASH(tmp)-&gt;basic.flags |= RHASH_PASS_AS_KEYWORDS;
    return tmp;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-ruby2_keywords_hash-3F">
            
              <b>Hash.ruby2_keywords_hash?(hash) &rarr; true or false
</b>
            
            <a href="../classes/Hash.html#method-c-ruby2_keywords_hash-3F" name="method-c-ruby2_keywords_hash-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Checks if a given hash is flagged by Module#ruby2_keywords (or <a href="Proc.html#method-i-ruby2_keywords"><code>Proc#ruby2_keywords</code></a>). This method is not for casual use; debugging, researching, and some truly necessary cases like serialization of arguments.</p>

<pre><code>ruby2_keywords def foo(*args)
  Hash.ruby2_keywords_hash?(args.last)
end
foo(k: 1)   #=&gt; true
foo({k: 1}) #=&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-ruby2_keywords_hash-3F_source')" id="l_method-c-ruby2_keywords_hash-3F_source">show</a>
                
              </p>
              <div id="method-c-ruby2_keywords_hash-3F_source" class="dyn-source">
                <pre>static VALUE
rb_hash_s_ruby2_keywords_hash_p(VALUE dummy, VALUE hash)
{
    Check_Type(hash, T_HASH);
    return RBOOL(RHASH(hash)-&gt;basic.flags &amp; RHASH_PASS_AS_KEYWORDS);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-try_convert">
            
              <b>Hash.try_convert(obj) &rarr; obj, new_hash, or nil
</b>
            
            <a href="../classes/Hash.html#method-c-try_convert" name="method-c-try_convert" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>If <code>obj</code> is a Hash object, returns <code>obj</code>.</p>

<p>Otherwise if <code>obj</code> responds to <code>:to_hash</code>, calls <code>obj.to_hash</code> and returns the result.</p>

<p>Returns <code>nil</code> if <code>obj</code> does not respond to <code>:to_hash</code></p>

<p>Raises an exception unless <code>obj.to_hash</code> returns a Hash object.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-try_convert_source')" id="l_method-c-try_convert_source">show</a>
                
              </p>
              <div id="method-c-try_convert_source" class="dyn-source">
                <pre>static VALUE
rb_hash_s_try_convert(VALUE dummy, VALUE hash)
{
    return rb_check_hash_type(hash);
}</pre>
              </div>
            </div>
            
          </div>
        
      
    
      <h2 class="sectiontitle">Instance Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-i-3C">
            
              <b>hash < other_hash &rarr; true or false
</b>
            
            <a href="../classes/Hash.html#method-i-3C" name="method-i-3C" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>hash</code> is a proper subset of <code>other_hash</code>, <code>false</code> otherwise:</p>

<pre><code>h1 = {foo: 0, bar: 1}
h2 = {foo: 0, bar: 1, baz: 2}
h1 &lt; h2 # =&gt; true
h2 &lt; h1 # =&gt; false
h1 &lt; h1 # =&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3C_source')" id="l_method-i-3C_source">show</a>
                
              </p>
              <div id="method-i-3C_source" class="dyn-source">
                <pre>static VALUE
rb_hash_lt(VALUE hash, VALUE other)
{
    other = to_hash(other);
    if (RHASH_SIZE(hash) &gt;= RHASH_SIZE(other)) return Qfalse;
    return hash_le(hash, other);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-3C-3D">
            
              <b>hash <= other_hash &rarr; true or false
</b>
            
            <a href="../classes/Hash.html#method-i-3C-3D" name="method-i-3C-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>hash</code> is a subset of <code>other_hash</code>, <code>false</code> otherwise:</p>

<pre><code>h1 = {foo: 0, bar: 1}
h2 = {foo: 0, bar: 1, baz: 2}
h1 &lt;= h2 # =&gt; true
h2 &lt;= h1 # =&gt; false
h1 &lt;= h1 # =&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3C-3D_source')" id="l_method-i-3C-3D_source">show</a>
                
              </p>
              <div id="method-i-3C-3D_source" class="dyn-source">
                <pre>static VALUE
rb_hash_le(VALUE hash, VALUE other)
{
    other = to_hash(other);
    if (RHASH_SIZE(hash) &gt; RHASH_SIZE(other)) return Qfalse;
    return hash_le(hash, other);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-3D-3D">
            
              <b>hash == object &rarr; true or false
</b>
            
            <a href="../classes/Hash.html#method-i-3D-3D" name="method-i-3D-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if all of the following are true:</p>
<ul><li>
<p><code>object</code> is a Hash object.</p>
</li><li>
<p><code>hash</code> and <code>object</code> have the same keys (regardless of order).</p>
</li><li>
<p>For each key <code>key</code>, <code>hash[key] == object[key]</code>.</p>
</li></ul>

<p>Otherwise, returns <code>false</code>.</p>

<p>Equal:</p>

<pre><code>h1 = {foo: 0, bar: 1, baz: 2}
h2 = {foo: 0, bar: 1, baz: 2}
h1 == h2 # =&gt; true
h3 = {baz: 2, bar: 1, foo: 0}
h1 == h3 # =&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3D-3D_source')" id="l_method-i-3D-3D_source">show</a>
                
              </p>
              <div id="method-i-3D-3D_source" class="dyn-source">
                <pre>static VALUE
rb_hash_equal(VALUE hash1, VALUE hash2)
{
    return hash_equal(hash1, hash2, FALSE);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-3E">
            
              <b>hash > other_hash &rarr; true or false
</b>
            
            <a href="../classes/Hash.html#method-i-3E" name="method-i-3E" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>hash</code> is a proper superset of <code>other_hash</code>, <code>false</code> otherwise:</p>

<pre><code>h1 = {foo: 0, bar: 1, baz: 2}
h2 = {foo: 0, bar: 1}
h1 &gt; h2 # =&gt; true
h2 &gt; h1 # =&gt; false
h1 &gt; h1 # =&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3E_source')" id="l_method-i-3E_source">show</a>
                
              </p>
              <div id="method-i-3E_source" class="dyn-source">
                <pre>static VALUE
rb_hash_gt(VALUE hash, VALUE other)
{
    other = to_hash(other);
    if (RHASH_SIZE(hash) &lt;= RHASH_SIZE(other)) return Qfalse;
    return hash_le(other, hash);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-3E-3D">
            
              <b>hash >= other_hash &rarr; true or false
</b>
            
            <a href="../classes/Hash.html#method-i-3E-3D" name="method-i-3E-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>hash</code> is a superset of <code>other_hash</code>, <code>false</code> otherwise:</p>

<pre><code>h1 = {foo: 0, bar: 1, baz: 2}
h2 = {foo: 0, bar: 1}
h1 &gt;= h2 # =&gt; true
h2 &gt;= h1 # =&gt; false
h1 &gt;= h1 # =&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3E-3D_source')" id="l_method-i-3E-3D_source">show</a>
                
              </p>
              <div id="method-i-3E-3D_source" class="dyn-source">
                <pre>static VALUE
rb_hash_ge(VALUE hash, VALUE other)
{
    other = to_hash(other);
    if (RHASH_SIZE(hash) &lt; RHASH_SIZE(other)) return Qfalse;
    return hash_le(other, hash);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-5B-5D">
            
              <b>hash[key] &rarr; value
</b>
            
            <a href="../classes/Hash.html#method-i-5B-5D" name="method-i-5B-5D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the value associated with the given <code>key</code>, if found:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h[:foo] # =&gt; 0
</code></pre>

<p>If <code>key</code> is not found, returns a default value (see <a href="Hash.html#class-Hash-label-Default+Values">Default Values</a>):</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h[:nosuch] # =&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-5B-5D_source')" id="l_method-i-5B-5D_source">show</a>
                
              </p>
              <div id="method-i-5B-5D_source" class="dyn-source">
                <pre>VALUE
rb_hash_aref(VALUE hash, VALUE key)
{
    st_data_t val;

    if (hash_stlike_lookup(hash, key, &amp;val)) {
        return (VALUE)val;
    }
    else {
        return rb_hash_default_value(hash, key);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-5B-5D-3D">
            
              <b>hash[key] = value &rarr; value</b>
            
            <a href="../classes/Hash.html#method-i-5B-5D-3D" name="method-i-5B-5D-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Associates the given <code>value</code> with the given <code>key</code>; returns <code>value</code>.</p>

<p>If the given <code>key</code> exists, replaces its value with the given <code>value</code>; the ordering is not affected (see <a href="Hash.html#class-Hash-label-Entry+Order">Entry Order</a>):</p>

<pre><code>h = {foo: 0, bar: 1}
h[:foo] = 2 # =&gt; 2
h.store(:bar, 3) # =&gt; 3
h # =&gt; {:foo=&gt;2, :bar=&gt;3}
</code></pre>

<p>If <code>key</code> does not exist, adds the <code>key</code> and <code>value</code>; the new entry is last in the order (see <a href="Hash.html#class-Hash-label-Entry+Order">Entry Order</a>):</p>

<pre><code>h = {foo: 0, bar: 1}
h[:baz] = 2 # =&gt; 2
h.store(:bat, 3) # =&gt; 3
h # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2, :bat=&gt;3}
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Hash.html#method-i-store">store</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-5B-5D-3D_source')" id="l_method-i-5B-5D-3D_source">show</a>
                
              </p>
              <div id="method-i-5B-5D-3D_source" class="dyn-source">
                <pre>VALUE
rb_hash_aset(VALUE hash, VALUE key, VALUE val)
{
    bool iter_p = hash_iterating_p(hash);

    rb_hash_modify(hash);

    if (!RHASH_STRING_KEY_P(hash, key)) {
        RHASH_UPDATE_ITER(hash, iter_p, key, hash_aset, val);
    }
    else {
        RHASH_UPDATE_ITER(hash, iter_p, key, hash_aset_str, val);
    }
    return val;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-any-3F">
            
              <b>hash.any? &rarr; true or false<br />hash.any?(object) &rarr; true or false<br />hash.any? {|key, value| ... } &rarr; true or false
</b>
            
            <a href="../classes/Hash.html#method-i-any-3F" name="method-i-any-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if any element satisfies a given criterion; <code>false</code> otherwise.</p>

<p>If <code>self</code> has no element, returns <code>false</code> and argument or block are not used.</p>

<p>With no argument and no block, returns <code>true</code> if <code>self</code> is non-empty; <code>false</code> if empty.</p>

<p>With argument <code>object</code> and no block, returns <code>true</code> if for any key <code>key</code> <code>h.assoc(key) == object</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.any?([:bar, 1]) # =&gt; true
h.any?([:bar, 0]) # =&gt; false
h.any?([:baz, 1]) # =&gt; false
</code></pre>

<p>With no argument and a block, calls the block with each key-value pair; returns <code>true</code> if the block returns any truthy value, <code>false</code> otherwise:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.any? {|key, value| value &lt; 3 } # =&gt; true
h.any? {|key, value| value &gt; 3 } # =&gt; false
</code></pre>

<p>Related: <a href="Enumerable.html#method-i-any-3F"><code>Enumerable#any?</code></a></p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-any-3F_source')" id="l_method-i-any-3F_source">show</a>
                
              </p>
              <div id="method-i-any-3F_source" class="dyn-source">
                <pre>static VALUE
rb_hash_any_p(int argc, VALUE *argv, VALUE hash)
{
    VALUE args[2];
    args[0] = Qfalse;

    rb_check_arity(argc, 0, 1);
    if (RHASH_EMPTY_P(hash)) return Qfalse;
    if (argc) {
        if (rb_block_given_p()) {
            rb_warn(&quot;given block not used&quot;);
        }
        args[1] = argv[0];

        rb_hash_foreach(hash, any_p_i_pattern, (VALUE)args);
    }
    else {
        if (!rb_block_given_p()) {
            /* yields pairs, never false */
            return Qtrue;
        }
        if (rb_block_pair_yield_optimizable())
            rb_hash_foreach(hash, any_p_i_fast, (VALUE)args);
        else
            rb_hash_foreach(hash, any_p_i, (VALUE)args);
    }
    return args[0];
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-assoc">
            
              <b>hash.assoc(key) &rarr; new_array or nil
</b>
            
            <a href="../classes/Hash.html#method-i-assoc" name="method-i-assoc" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>If the given <code>key</code> is found, returns a 2-element <a href="Array.html"><code>Array</code></a> containing that key and its value:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.assoc(:bar) # =&gt; [:bar, 1]
</code></pre>

<p>Returns <code>nil</code> if key <code>key</code> is not found.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-assoc_source')" id="l_method-i-assoc_source">show</a>
                
              </p>
              <div id="method-i-assoc_source" class="dyn-source">
                <pre>static VALUE
rb_hash_assoc(VALUE hash, VALUE key)
{
    VALUE args[2];

    if (RHASH_EMPTY_P(hash)) return Qnil;

    if (RHASH_ST_TABLE_P(hash) &amp;&amp; !RHASH_IDENTHASH_P(hash)) {
        VALUE value = Qundef;
        st_table assoctable = *RHASH_ST_TABLE(hash);
        assoctable.type = &amp;(struct st_hash_type){
            .compare = assoc_cmp,
            .hash = assoctable.type-&gt;hash,
        };
        VALUE arg = (VALUE)&amp;(struct assoc_arg){
            .tbl = &amp;assoctable,
            .key = (st_data_t)key,
        };

        if (RB_OBJ_FROZEN(hash)) {
            value = assoc_lookup(arg);
        }
        else {
            hash_iter_lev_inc(hash);
            value = rb_ensure(assoc_lookup, arg, hash_foreach_ensure, hash);
        }
        hash_verify(hash);
        if (!UNDEF_P(value)) return rb_assoc_new(key, value);
    }

    args[0] = key;
    args[1] = Qnil;
    rb_hash_foreach(hash, assoc_i, (VALUE)args);
    return args[1];
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-clear">
            
              <b>hash.clear &rarr; self
</b>
            
            <a href="../classes/Hash.html#method-i-clear" name="method-i-clear" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Removes all hash entries; returns <code>self</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-clear_source')" id="l_method-i-clear_source">show</a>
                
              </p>
              <div id="method-i-clear_source" class="dyn-source">
                <pre>VALUE
rb_hash_clear(VALUE hash)
{
    rb_hash_modify_check(hash);

    if (hash_iterating_p(hash)) {
        rb_hash_foreach(hash, clear_i, 0);
    }
    else if (RHASH_AR_TABLE_P(hash)) {
        ar_clear(hash);
    }
    else {
        st_clear(RHASH_ST_TABLE(hash));
        compact_after_delete(hash);
    }

    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-compact">
            
              <b>hash.compact &rarr; new_hash
</b>
            
            <a href="../classes/Hash.html#method-i-compact" name="method-i-compact" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a copy of <code>self</code> with all <code>nil</code>-valued entries removed:</p>

<pre><code>h = {foo: 0, bar: nil, baz: 2, bat: nil}
h1 = h.compact
h1 # =&gt; {:foo=&gt;0, :baz=&gt;2}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-compact_source')" id="l_method-i-compact_source">show</a>
                
              </p>
              <div id="method-i-compact_source" class="dyn-source">
                <pre>static VALUE
rb_hash_compact(VALUE hash)
{
    VALUE result = rb_hash_dup(hash);
    if (!RHASH_EMPTY_P(hash)) {
        rb_hash_foreach(result, delete_if_nil, result);
        compact_after_delete(result);
    }
    else if (rb_hash_compare_by_id_p(hash)) {
        result = rb_hash_compare_by_id(result);
    }
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-compact-21">
            
              <b>hash.compact! &rarr; self or nil
</b>
            
            <a href="../classes/Hash.html#method-i-compact-21" name="method-i-compact-21" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>self</code> with all its <code>nil</code>-valued entries removed (in place):</p>

<pre><code>h = {foo: 0, bar: nil, baz: 2, bat: nil}
h.compact! # =&gt; {:foo=&gt;0, :baz=&gt;2}
</code></pre>

<p>Returns <code>nil</code> if no entries were removed.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-compact-21_source')" id="l_method-i-compact-21_source">show</a>
                
              </p>
              <div id="method-i-compact-21_source" class="dyn-source">
                <pre>static VALUE
rb_hash_compact_bang(VALUE hash)
{
    st_index_t n;
    rb_hash_modify_check(hash);
    n = RHASH_SIZE(hash);
    if (n) {
        rb_hash_foreach(hash, delete_if_nil, hash);
        if (n != RHASH_SIZE(hash))
            return hash;
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-compare_by_identity">
            
              <b>hash.compare_by_identity &rarr; self
</b>
            
            <a href="../classes/Hash.html#method-i-compare_by_identity" name="method-i-compare_by_identity" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets <code>self</code> to consider only identity in comparing keys; two keys are considered the same only if they are the same object; returns <code>self</code>.</p>

<p>By default, these two object are considered to be the same key, so <code>s1</code> will overwrite <code>s0</code>:</p>

<pre><code>s0 = &#39;x&#39;
s1 = &#39;x&#39;
h = {}
h.compare_by_identity? # =&gt; false
h[s0] = 0
h[s1] = 1
h # =&gt; {&quot;x&quot;=&gt;1}
</code></pre>

<p>After calling #compare_by_identity, the keys are considered to be different, and therefore do not overwrite each other:</p>

<pre><code>h = {}
h.compare_by_identity # =&gt; {}
h.compare_by_identity? # =&gt; true
h[s0] = 0
h[s1] = 1
h # =&gt; {&quot;x&quot;=&gt;0, &quot;x&quot;=&gt;1}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-compare_by_identity_source')" id="l_method-i-compare_by_identity_source">show</a>
                
              </p>
              <div id="method-i-compare_by_identity_source" class="dyn-source">
                <pre>VALUE
rb_hash_compare_by_id(VALUE hash)
{
    VALUE tmp;
    st_table *identtable;

    if (rb_hash_compare_by_id_p(hash)) return hash;

    rb_hash_modify_check(hash);
    if (hash_iterating_p(hash)) {
        rb_raise(rb_eRuntimeError, &quot;compare_by_identity during iteration&quot;);
    }

    if (RHASH_TABLE_EMPTY_P(hash)) {
        // Fast path: There&#39;s nothing to rehash, so we don&#39;t need a `tmp` table.
        // We&#39;re most likely an AR table, so this will need an allocation.
        ar_force_convert_table(hash, __FILE__, __LINE__);
        HASH_ASSERT(RHASH_ST_TABLE_P(hash));

        RHASH_ST_TABLE(hash)-&gt;type = &amp;identhash;
    }
    else {
        // Slow path: Need to rehash the members of `self` into a new
        // `tmp` table using the new `identhash` compare/hash functions.
        tmp = hash_alloc(0);
        hash_st_table_init(tmp, &amp;identhash, RHASH_SIZE(hash));
        identtable = RHASH_ST_TABLE(tmp);

        rb_hash_foreach(hash, rb_hash_rehash_i, (VALUE)tmp);
        rb_hash_free(hash);

        // We know for sure `identtable` is an st table,
        // so we can skip `ar_force_convert_table` here.
        RHASH_ST_TABLE_SET(hash, identtable);
        RHASH_ST_CLEAR(tmp);
    }

    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-compare_by_identity-3F">
            
              <b>hash.compare_by_identity? &rarr; true or false
</b>
            
            <a href="../classes/Hash.html#method-i-compare_by_identity-3F" name="method-i-compare_by_identity-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <a href="Hash.html#method-i-compare_by_identity"><code>compare_by_identity</code></a> has been called, <code>false</code> otherwise.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-compare_by_identity-3F_source')" id="l_method-i-compare_by_identity-3F_source">show</a>
                
              </p>
              <div id="method-i-compare_by_identity-3F_source" class="dyn-source">
                <pre>VALUE
rb_hash_compare_by_id_p(VALUE hash)
{
    return RBOOL(RHASH_IDENTHASH_P(hash));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-default">
            
              <b>hash.default &rarr; object<br />hash.default(key) &rarr; object
</b>
            
            <a href="../classes/Hash.html#method-i-default" name="method-i-default" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the default value for the given <code>key</code>. The returned value will be determined either by the default proc or by the default value. See <a href="Hash.html#class-Hash-label-Default+Values">Default Values</a>.</p>

<p>With no argument, returns the current default value:</p>

<pre><code>h = {}
h.default # =&gt; nil
</code></pre>

<p>If <code>key</code> is given, returns the default value for <code>key</code>, regardless of whether that key exists:</p>

<pre><code>h = Hash.new { |hash, key| hash[key] = &quot;No key #{key}&quot;}
h[:foo] = &quot;Hello&quot;
h.default(:foo) # =&gt; &quot;No key foo&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-default_source')" id="l_method-i-default_source">show</a>
                
              </p>
              <div id="method-i-default_source" class="dyn-source">
                <pre>static VALUE
rb_hash_default(int argc, VALUE *argv, VALUE hash)
{
    VALUE ifnone;

    rb_check_arity(argc, 0, 1);
    ifnone = RHASH_IFNONE(hash);
    if (FL_TEST(hash, RHASH_PROC_DEFAULT)) {
        if (argc == 0) return Qnil;
        return call_default_proc(ifnone, hash, argv[0]);
    }
    return ifnone;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-default-3D">
            
              <b>hash.default = value &rarr; object
</b>
            
            <a href="../classes/Hash.html#method-i-default-3D" name="method-i-default-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets the default value to <code>value</code>; returns <code>value</code>:</p>

<pre><code>h = {}
h.default # =&gt; nil
h.default = false # =&gt; false
h.default # =&gt; false
</code></pre>

<p>See <a href="Hash.html#class-Hash-label-Default+Values">Default Values</a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-default-3D_source')" id="l_method-i-default-3D_source">show</a>
                
              </p>
              <div id="method-i-default-3D_source" class="dyn-source">
                <pre>static VALUE
rb_hash_set_default(VALUE hash, VALUE ifnone)
{
    rb_hash_modify_check(hash);
    SET_DEFAULT(hash, ifnone);
    return ifnone;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-default_proc">
            
              <b>hash.default_proc &rarr; proc or nil
</b>
            
            <a href="../classes/Hash.html#method-i-default_proc" name="method-i-default_proc" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the default proc for <code>self</code> (see <a href="Hash.html#class-Hash-label-Default+Values">Default Values</a>):</p>

<pre><code>h = {}
h.default_proc # =&gt; nil
h.default_proc = proc {|hash, key| &quot;Default value for #{key}&quot; }
h.default_proc.class # =&gt; Proc
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-default_proc_source')" id="l_method-i-default_proc_source">show</a>
                
              </p>
              <div id="method-i-default_proc_source" class="dyn-source">
                <pre>static VALUE
rb_hash_default_proc(VALUE hash)
{
    if (FL_TEST(hash, RHASH_PROC_DEFAULT)) {
        return RHASH_IFNONE(hash);
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-default_proc-3D">
            
              <b>hash.default_proc = proc &rarr; proc
</b>
            
            <a href="../classes/Hash.html#method-i-default_proc-3D" name="method-i-default_proc-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets the default proc for <code>self</code> to <code>proc</code>: (see <a href="Hash.html#class-Hash-label-Default+Values">Default Values</a>):</p>

<pre><code>h = {}
h.default_proc # =&gt; nil
h.default_proc = proc { |hash, key| &quot;Default value for #{key}&quot; }
h.default_proc.class # =&gt; Proc
h.default_proc = nil
h.default_proc # =&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-default_proc-3D_source')" id="l_method-i-default_proc-3D_source">show</a>
                
              </p>
              <div id="method-i-default_proc-3D_source" class="dyn-source">
                <pre>VALUE
rb_hash_set_default_proc(VALUE hash, VALUE proc)
{
    VALUE b;

    rb_hash_modify_check(hash);
    if (NIL_P(proc)) {
        SET_DEFAULT(hash, proc);
        return proc;
    }
    b = rb_check_convert_type_with_id(proc, T_DATA, &quot;Proc&quot;, idTo_proc);
    if (NIL_P(b) || !rb_obj_is_proc(b)) {
        rb_raise(rb_eTypeError,
                 &quot;wrong default_proc type %s (expected Proc)&quot;,
                 rb_obj_classname(proc));
    }
    proc = b;
    SET_PROC_DEFAULT(hash, proc);
    return proc;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-delete">
            
              <b>hash.delete(key) &rarr; value or nil<br />hash.delete(key) {|key| ... } &rarr; object
</b>
            
            <a href="../classes/Hash.html#method-i-delete" name="method-i-delete" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Deletes the entry for the given <code>key</code> and returns its associated value.</p>

<p>If no block is given and <code>key</code> is found, deletes the entry and returns the associated value:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.delete(:bar) # =&gt; 1
h # =&gt; {:foo=&gt;0, :baz=&gt;2}
</code></pre>

<p>If no block given and <code>key</code> is not found, returns <code>nil</code>.</p>

<p>If a block is given and <code>key</code> is found, ignores the block, deletes the entry, and returns the associated value:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.delete(:baz) { |key| raise &#39;Will never happen&#39;} # =&gt; 2
h # =&gt; {:foo=&gt;0, :bar=&gt;1}
</code></pre>

<p>If a block is given and <code>key</code> is not found, calls the block and returns the block’s return value:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.delete(:nosuch) { |key| &quot;Key #{key} not found&quot; } # =&gt; &quot;Key nosuch not found&quot;
h # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-delete_source')" id="l_method-i-delete_source">show</a>
                
              </p>
              <div id="method-i-delete_source" class="dyn-source">
                <pre>static VALUE
rb_hash_delete_m(VALUE hash, VALUE key)
{
    VALUE val;

    rb_hash_modify_check(hash);
    val = rb_hash_delete_entry(hash, key);

    if (!UNDEF_P(val)) {
        compact_after_delete(hash);
        return val;
    }
    else {
        if (rb_block_given_p()) {
            return rb_yield(key);
        }
        else {
            return Qnil;
        }
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-delete_if">
            
              <b>hash.delete_if {|key, value| ... } &rarr; self<br />hash.delete_if &rarr; new_enumerator
</b>
            
            <a href="../classes/Hash.html#method-i-delete_if" name="method-i-delete_if" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>If a block given, calls the block with each key-value pair; deletes each entry for which the block returns a truthy value; returns <code>self</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.delete_if {|key, value| value &gt; 0 } # =&gt; {:foo=&gt;0}
</code></pre>

<p>If no block given, returns a new Enumerator:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.delete_if # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:delete_if&gt;
e.each { |key, value| value &gt; 0 } # =&gt; {:foo=&gt;0}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-delete_if_source')" id="l_method-i-delete_if_source">show</a>
                
              </p>
              <div id="method-i-delete_if_source" class="dyn-source">
                <pre>VALUE
rb_hash_delete_if(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify_check(hash);
    if (!RHASH_TABLE_EMPTY_P(hash)) {
        rb_hash_foreach(hash, delete_if_i, hash);
        compact_after_delete(hash);
    }
    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-dig">
            
              <b>hash.dig(key, *identifiers) &rarr; object
</b>
            
            <a href="../classes/Hash.html#method-i-dig" name="method-i-dig" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Finds and returns the object in nested objects that is specified by <code>key</code> and <code>identifiers</code>. The nested objects may be instances of various classes. See <a href="../files/ruby/doc/dig_methods_rdoc.html">Dig Methods</a>.</p>

<p>Nested Hashes:</p>

<pre><code>h = {foo: {bar: {baz: 2}}}
h.dig(:foo) # =&gt; {:bar=&gt;{:baz=&gt;2}}
h.dig(:foo, :bar) # =&gt; {:baz=&gt;2}
h.dig(:foo, :bar, :baz) # =&gt; 2
h.dig(:foo, :bar, :BAZ) # =&gt; nil
</code></pre>

<p>Nested Hashes and Arrays:</p>

<pre><code>h = {foo: {bar: [:a, :b, :c]}}
h.dig(:foo, :bar, 2) # =&gt; :c
</code></pre>

<p>This method will use the <a href="Hash.html#class-Hash-label-Default+Values">default values</a> for keys that are not present:</p>

<pre><code>h = {foo: {bar: [:a, :b, :c]}}
h.dig(:hello) # =&gt; nil
h.default_proc = -&gt; (hash, _key) { hash }
h.dig(:hello, :world) # =&gt; h
h.dig(:hello, :world, :foo, :bar, 2) # =&gt; :c
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-dig_source')" id="l_method-i-dig_source">show</a>
                
              </p>
              <div id="method-i-dig_source" class="dyn-source">
                <pre>static VALUE
rb_hash_dig(int argc, VALUE *argv, VALUE self)
{
    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    self = rb_hash_aref(self, *argv);
    if (!--argc) return self;
    ++argv;
    return rb_obj_dig(argc, argv, self, Qnil);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-each">
            
              <b>hash.each {|key, value| ... } &rarr; self<br />hash.each &rarr; new_enumerator</b>
            
            <a href="../classes/Hash.html#method-i-each" name="method-i-each" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Calls the given block with each key-value pair; returns <code>self</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.each_pair {|key, value| puts &quot;#{key}: #{value}&quot;} # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Output:</p>

<pre><code>foo: 0
bar: 1
baz: 2
</code></pre>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.each_pair # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:each_pair&gt;
h1 = e.each {|key, value| puts &quot;#{key}: #{value}&quot;}
h1 # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Output:</p>

<pre><code>foo: 0
bar: 1
baz: 2
</code></pre>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Hash.html#method-i-each_pair">each_pair</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-each_key">
            
              <b>hash.each_key {|key| ... } &rarr; self<br />hash.each_key &rarr; new_enumerator
</b>
            
            <a href="../classes/Hash.html#method-i-each_key" name="method-i-each_key" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Calls the given block with each key; returns <code>self</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.each_key {|key| puts key }  # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Output:</p>

<pre><code>foo
bar
baz
</code></pre>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.each_key # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:each_key&gt;
h1 = e.each {|key| puts key }
h1 # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Output:</p>

<pre><code>foo
bar
baz
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_key_source')" id="l_method-i-each_key_source">show</a>
                
              </p>
              <div id="method-i-each_key_source" class="dyn-source">
                <pre>static VALUE
rb_hash_each_key(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_foreach(hash, each_key_i, 0);
    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-each_pair">
            
              <b>each_pair</b>()
            
            <a href="../classes/Hash.html#method-i-each_pair" name="method-i-each_pair" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Calls the given block with each key-value pair; returns <code>self</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.each_pair {|key, value| puts &quot;#{key}: #{value}&quot;} # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Output:</p>

<pre><code>foo: 0
bar: 1
baz: 2
</code></pre>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.each_pair # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:each_pair&gt;
h1 = e.each {|key, value| puts &quot;#{key}: #{value}&quot;}
h1 # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Output:</p>

<pre><code>foo: 0
bar: 1
baz: 2
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Hash.html#method-i-each">each</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_pair_source')" id="l_method-i-each_pair_source">show</a>
                
              </p>
              <div id="method-i-each_pair_source" class="dyn-source">
                <pre>static VALUE
rb_hash_each_pair(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    if (rb_block_pair_yield_optimizable())
        rb_hash_foreach(hash, each_pair_i_fast, 0);
    else
        rb_hash_foreach(hash, each_pair_i, 0);
    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-each_value">
            
              <b>hash.each_value {|value| ... } &rarr; self<br />hash.each_value &rarr; new_enumerator
</b>
            
            <a href="../classes/Hash.html#method-i-each_value" name="method-i-each_value" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Calls the given block with each value; returns <code>self</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.each_value {|value| puts value } # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Output:</p>

<pre><code>0
1
2
</code></pre>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.each_value # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:each_value&gt;
h1 = e.each {|value| puts value }
h1 # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Output:</p>

<pre><code>0
1
2
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_value_source')" id="l_method-i-each_value_source">show</a>
                
              </p>
              <div id="method-i-each_value_source" class="dyn-source">
                <pre>static VALUE
rb_hash_each_value(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_foreach(hash, each_value_i, 0);
    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-empty-3F">
            
              <b>hash.empty? &rarr; true or false
</b>
            
            <a href="../classes/Hash.html#method-i-empty-3F" name="method-i-empty-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if there are no hash entries, <code>false</code> otherwise:</p>

<pre><code>{}.empty? # =&gt; true
{foo: 0, bar: 1, baz: 2}.empty? # =&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-empty-3F_source')" id="l_method-i-empty-3F_source">show</a>
                
              </p>
              <div id="method-i-empty-3F_source" class="dyn-source">
                <pre>static VALUE
rb_hash_empty_p(VALUE hash)
{
    return RBOOL(RHASH_EMPTY_P(hash));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-eql-3F">
            
              <b>hash.eql? object &rarr; true or false
</b>
            
            <a href="../classes/Hash.html#method-i-eql-3F" name="method-i-eql-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if all of the following are true:</p>
<ul><li>
<p><code>object</code> is a Hash object.</p>
</li><li>
<p><code>hash</code> and <code>object</code> have the same keys (regardless of order).</p>
</li><li>
<p>For each key <code>key</code>, <code>h[key] eql? object[key]</code>.</p>
</li></ul>

<p>Otherwise, returns <code>false</code>.</p>

<p>Equal:</p>

<pre><code>h1 = {foo: 0, bar: 1, baz: 2}
h2 = {foo: 0, bar: 1, baz: 2}
h1.eql? h2 # =&gt; true
h3 = {baz: 2, bar: 1, foo: 0}
h1.eql? h3 # =&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-eql-3F_source')" id="l_method-i-eql-3F_source">show</a>
                
              </p>
              <div id="method-i-eql-3F_source" class="dyn-source">
                <pre>static VALUE
rb_hash_eql(VALUE hash1, VALUE hash2)
{
    return hash_equal(hash1, hash2, TRUE);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-except">
            
              <b>hsh.except(*keys) &rarr; a_hash
</b>
            
            <a href="../classes/Hash.html#method-i-except" name="method-i-except" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new Hash excluding entries for the given <code>keys</code>:</p>

<pre><code>h = { a: 100, b: 200, c: 300 }
h.except(:a)          #=&gt; {:b=&gt;200, :c=&gt;300}
</code></pre>

<p>Any given <code>keys</code> that are not found are ignored.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-except_source')" id="l_method-i-except_source">show</a>
                
              </p>
              <div id="method-i-except_source" class="dyn-source">
                <pre>static VALUE
rb_hash_except(int argc, VALUE *argv, VALUE hash)
{
    int i;
    VALUE key, result;

    result = hash_dup_with_compare_by_id(hash);

    for (i = 0; i &lt; argc; i++) {
        key = argv[i];
        rb_hash_delete(result, key);
    }
    compact_after_delete(result);

    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-fetch">
            
              <b>hash.fetch(key) &rarr; object<br />hash.fetch(key, default_value) &rarr; object<br />hash.fetch(key) {|key| ... } &rarr; object
</b>
            
            <a href="../classes/Hash.html#method-i-fetch" name="method-i-fetch" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the value for the given <code>key</code>, if found.</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.fetch(:bar) # =&gt; 1
</code></pre>

<p>If <code>key</code> is not found and no block was given, returns <code>default_value</code>:</p>

<pre><code>{}.fetch(:nosuch, :default) # =&gt; :default
</code></pre>

<p>If <code>key</code> is not found and a block was given, yields <code>key</code> to the block and returns the block’s return value:</p>

<pre><code>{}.fetch(:nosuch) {|key| &quot;No key #{key}&quot;} # =&gt; &quot;No key nosuch&quot;
</code></pre>

<p>Raises <a href="KeyError.html"><code>KeyError</code></a> if neither <code>default_value</code> nor a block was given.</p>

<p>Note that this method does not use the values of either <a href="Hash.html#method-i-default"><code>default</code></a> or <a href="Hash.html#method-i-default_proc"><code>default_proc</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-fetch_source')" id="l_method-i-fetch_source">show</a>
                
              </p>
              <div id="method-i-fetch_source" class="dyn-source">
                <pre>static VALUE
rb_hash_fetch_m(int argc, VALUE *argv, VALUE hash)
{
    VALUE key;
    st_data_t val;
    long block_given;

    rb_check_arity(argc, 1, 2);
    key = argv[0];

    block_given = rb_block_given_p();
    if (block_given &amp;&amp; argc == 2) {
        rb_warn(&quot;block supersedes default value argument&quot;);
    }

    if (hash_stlike_lookup(hash, key, &amp;val)) {
        return (VALUE)val;
    }
    else {
        if (block_given) {
            return rb_yield(key);
        }
        else if (argc == 1) {
            VALUE desc = rb_protect(rb_inspect, key, 0);
            if (NIL_P(desc)) {
                desc = rb_any_to_s(key);
            }
            desc = rb_str_ellipsize(desc, 65);
            rb_key_err_raise(rb_sprintf(&quot;key not found: %&quot;PRIsVALUE, desc), hash, key);
        }
        else {
            return argv[1];
        }
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-fetch_values">
            
              <b>hash.fetch_values(*keys) &rarr; new_array<br />hash.fetch_values(*keys) {|key| ... } &rarr; new_array
</b>
            
            <a href="../classes/Hash.html#method-i-fetch_values" name="method-i-fetch_values" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new <a href="Array.html"><code>Array</code></a> containing the values associated with the given keys *keys:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.fetch_values(:baz, :foo) # =&gt; [2, 0]
</code></pre>

<p>Returns a new empty <a href="Array.html"><code>Array</code></a> if no arguments given.</p>

<p>When a block is given, calls the block with each missing key, treating the block’s return value as the value for that key:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
values = h.fetch_values(:bar, :foo, :bad, :bam) {|key| key.to_s}
values # =&gt; [1, 0, &quot;bad&quot;, &quot;bam&quot;]
</code></pre>

<p>When no block is given, raises an exception if any given key is not found.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-fetch_values_source')" id="l_method-i-fetch_values_source">show</a>
                
              </p>
              <div id="method-i-fetch_values_source" class="dyn-source">
                <pre>static VALUE
rb_hash_fetch_values(int argc, VALUE *argv, VALUE hash)
{
    VALUE result = rb_ary_new2(argc);
    long i;

    for (i=0; i&lt;argc; i++) {
        rb_ary_push(result, rb_hash_fetch(hash, argv[i]));
    }
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-filter">
            
              <b>filter</b>()
            
            <a href="../classes/Hash.html#method-i-filter" name="method-i-filter" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new Hash object whose entries are those for which the block returns a truthy value:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.select {|key, value| value &lt; 2 } # =&gt; {:foo=&gt;0, :bar=&gt;1}
</code></pre>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.select # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:select&gt;
e.each {|key, value| value &lt; 2 } # =&gt; {:foo=&gt;0, :bar=&gt;1}
</code></pre>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Hash.html#method-i-select">select</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-filter-21">
            
              <b>filter!</b>()
            
            <a href="../classes/Hash.html#method-i-filter-21" name="method-i-filter-21" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>self</code>, whose entries are those for which the block returns a truthy value:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.select! {|key, value| value &lt; 2 }  =&gt; {:foo=&gt;0, :bar=&gt;1}
</code></pre>

<p>Returns <code>nil</code> if no entries were removed.</p>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.select!  # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:select!&gt;
e.each { |key, value| value &lt; 2 } # =&gt; {:foo=&gt;0, :bar=&gt;1}
</code></pre>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Hash.html#method-i-select-21">select!</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-flatten">
            
              <b>hash.flatten &rarr; new_array<br />hash.flatten(level) &rarr; new_array
</b>
            
            <a href="../classes/Hash.html#method-i-flatten" name="method-i-flatten" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new <a href="Array.html"><code>Array</code></a> object that is a 1-dimensional flattening of <code>self</code>.</p>
<hr>

<p>By default, nested Arrays are not flattened:</p>

<pre><code>h = {foo: 0, bar: [:bat, 3], baz: 2}
h.flatten # =&gt; [:foo, 0, :bar, [:bat, 3], :baz, 2]
</code></pre>

<p>Takes the depth of recursive flattening from <a href="Integer.html"><code>Integer</code></a> argument <code>level</code>:</p>

<pre><code>h = {foo: 0, bar: [:bat, [:baz, [:bat, ]]]}
h.flatten(1) # =&gt; [:foo, 0, :bar, [:bat, [:baz, [:bat]]]]
h.flatten(2) # =&gt; [:foo, 0, :bar, :bat, [:baz, [:bat]]]
h.flatten(3) # =&gt; [:foo, 0, :bar, :bat, :baz, [:bat]]
h.flatten(4) # =&gt; [:foo, 0, :bar, :bat, :baz, :bat]
</code></pre>

<p>When <code>level</code> is negative, flattens all nested Arrays:</p>

<pre><code>h = {foo: 0, bar: [:bat, [:baz, [:bat, ]]]}
h.flatten(-1) # =&gt; [:foo, 0, :bar, :bat, :baz, :bat]
h.flatten(-2) # =&gt; [:foo, 0, :bar, :bat, :baz, :bat]
</code></pre>

<p>When <code>level</code> is zero, returns the equivalent of <a href="Hash.html#method-i-to_a"><code>to_a</code></a> :</p>

<pre><code>h = {foo: 0, bar: [:bat, 3], baz: 2}
h.flatten(0) # =&gt; [[:foo, 0], [:bar, [:bat, 3]], [:baz, 2]]
h.flatten(0) == h.to_a # =&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-flatten_source')" id="l_method-i-flatten_source">show</a>
                
              </p>
              <div id="method-i-flatten_source" class="dyn-source">
                <pre>static VALUE
rb_hash_flatten(int argc, VALUE *argv, VALUE hash)
{
    VALUE ary;

    rb_check_arity(argc, 0, 1);

    if (argc) {
        int level = NUM2INT(argv[0]);

        if (level == 0) return rb_hash_to_a(hash);

        ary = rb_ary_new_capa(RHASH_SIZE(hash) * 2);
        rb_hash_foreach(hash, flatten_i, ary);
        level--;

        if (level &gt; 0) {
            VALUE ary_flatten_level = INT2FIX(level);
            rb_funcallv(ary, id_flatten_bang, 1, &amp;ary_flatten_level);
        }
        else if (level &lt; 0) {
            /* flatten recursively */
            rb_funcallv(ary, id_flatten_bang, 0, 0);
        }
    }
    else {
        ary = rb_ary_new_capa(RHASH_SIZE(hash) * 2);
        rb_hash_foreach(hash, flatten_i, ary);
    }

    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-has_key-3F">
            
              <b>hash.has_key?(key) &rarr; true or false</b>
            
            <a href="../classes/Hash.html#method-i-has_key-3F" name="method-i-has_key-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>key</code> is a key in <code>self</code>, otherwise <code>false</code>.</p>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Hash.html#method-i-include-3F">include?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-has_value-3F">
            
              <b>hash.has_value?(value) &rarr; true or false</b>
            
            <a href="../classes/Hash.html#method-i-has_value-3F" name="method-i-has_value-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>value</code> is a value in <code>self</code>, otherwise <code>false</code>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Hash.html#method-i-value-3F">value?</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-has_value-3F_source')" id="l_method-i-has_value-3F_source">show</a>
                
              </p>
              <div id="method-i-has_value-3F_source" class="dyn-source">
                <pre>static VALUE
rb_hash_has_value(VALUE hash, VALUE val)
{
    VALUE data[2];

    data[0] = Qfalse;
    data[1] = val;
    rb_hash_foreach(hash, rb_hash_search_value, (VALUE)data);
    return data[0];
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-hash">
            
              <b>hash.hash &rarr; an_integer
</b>
            
            <a href="../classes/Hash.html#method-i-hash" name="method-i-hash" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the <a href="Integer.html"><code>Integer</code></a> hash-code for the hash.</p>

<p>Two Hash objects have the same hash-code if their content is the same (regardless of order):</p>

<pre><code>h1 = {foo: 0, bar: 1, baz: 2}
h2 = {baz: 2, bar: 1, foo: 0}
h2.hash == h1.hash # =&gt; true
h2.eql? h1 # =&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-hash_source')" id="l_method-i-hash_source">show</a>
                
              </p>
              <div id="method-i-hash_source" class="dyn-source">
                <pre>static VALUE
rb_hash_hash(VALUE hash)
{
    st_index_t size = RHASH_SIZE(hash);
    st_index_t hval = rb_hash_start(size);
    hval = rb_hash_uint(hval, (st_index_t)rb_hash_hash);
    if (size) {
        rb_hash_foreach(hash, hash_i, (VALUE)&amp;hval);
    }
    hval = rb_hash_end(hval);
    return ST2FIX(hval);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-include-3F">
            
              <b>hash.include?(key) &rarr; true or false</b>
            
            <a href="../classes/Hash.html#method-i-include-3F" name="method-i-include-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>key</code> is a key in <code>self</code>, otherwise <code>false</code>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Hash.html#method-i-member-3F">member?</a>, <a href="Hash.html#method-i-has_key-3F">has_key?</a>, <a href="Hash.html#method-i-key-3F">key?</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-include-3F_source')" id="l_method-i-include-3F_source">show</a>
                
              </p>
              <div id="method-i-include-3F_source" class="dyn-source">
                <pre>VALUE
rb_hash_has_key(VALUE hash, VALUE key)
{
    return RBOOL(hash_stlike_lookup(hash, key, NULL));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-initialize_copy">
            
              <b>initialize_copy</b>(p1)
            
            <a href="../classes/Hash.html#method-i-initialize_copy" name="method-i-initialize_copy" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Replaces the entire contents of <code>self</code> with the contents of <code>other_hash</code>; returns <code>self</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.replace({bat: 3, bam: 4}) # =&gt; {:bat=&gt;3, :bam=&gt;4}
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Hash.html#method-i-replace">replace</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-initialize_copy_source')" id="l_method-i-initialize_copy_source">show</a>
                
              </p>
              <div id="method-i-initialize_copy_source" class="dyn-source">
                <pre>static VALUE
rb_hash_replace(VALUE hash, VALUE hash2)
{
    rb_hash_modify_check(hash);
    if (hash == hash2) return hash;
    if (hash_iterating_p(hash)) {
        rb_raise(rb_eRuntimeError, &quot;can&#39;t replace hash during iteration&quot;);
    }
    hash2 = to_hash(hash2);

    COPY_DEFAULT(hash, hash2);

    if (RHASH_AR_TABLE_P(hash)) {
        hash_ar_free_and_clear_table(hash);
    }
    else {
        hash_st_free_and_clear_table(hash);
    }

    hash_copy(hash, hash2);

    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-inspect">
            
              <b>hash.inspect &rarr; new_string</b>
            
            <a href="../classes/Hash.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new <a href="String.html"><code>String</code></a> containing the hash entries:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.inspect # =&gt; &quot;{:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}&quot;
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Hash.html#method-i-to_s">to_s</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre>static VALUE
rb_hash_inspect(VALUE hash)
{
    if (RHASH_EMPTY_P(hash))
        return rb_usascii_str_new2(&quot;{}&quot;);
    return rb_exec_recursive(inspect_hash, hash, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-invert">
            
              <b>hash.invert &rarr; new_hash
</b>
            
            <a href="../classes/Hash.html#method-i-invert" name="method-i-invert" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new Hash object with the each key-value pair inverted:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h1 = h.invert
h1 # =&gt; {0=&gt;:foo, 1=&gt;:bar, 2=&gt;:baz}
</code></pre>

<p>Overwrites any repeated new keys: (see <a href="Hash.html#class-Hash-label-Entry+Order">Entry Order</a>):</p>

<pre><code>h = {foo: 0, bar: 0, baz: 0}
h.invert # =&gt; {0=&gt;:baz}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-invert_source')" id="l_method-i-invert_source">show</a>
                
              </p>
              <div id="method-i-invert_source" class="dyn-source">
                <pre>static VALUE
rb_hash_invert(VALUE hash)
{
    VALUE h = rb_hash_new_with_size(RHASH_SIZE(hash));

    rb_hash_foreach(hash, rb_hash_invert_i, h);
    return h;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-keep_if">
            
              <b>hash.keep_if {|key, value| ... } &rarr; self<br />hash.keep_if &rarr; new_enumerator
</b>
            
            <a href="../classes/Hash.html#method-i-keep_if" name="method-i-keep_if" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Calls the block for each key-value pair; retains the entry if the block returns a truthy value; otherwise deletes the entry; returns <code>self</code>.</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.keep_if { |key, value| key.start_with?(&#39;b&#39;) } # =&gt; {:bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.keep_if # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:keep_if&gt;
e.each { |key, value| key.start_with?(&#39;b&#39;) } # =&gt; {:bar=&gt;1, :baz=&gt;2}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-keep_if_source')" id="l_method-i-keep_if_source">show</a>
                
              </p>
              <div id="method-i-keep_if_source" class="dyn-source">
                <pre>static VALUE
rb_hash_keep_if(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify_check(hash);
    if (!RHASH_TABLE_EMPTY_P(hash)) {
        rb_hash_foreach(hash, keep_if_i, hash);
    }
    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-key">
            
              <b>hash.key(value) &rarr; key or nil
</b>
            
            <a href="../classes/Hash.html#method-i-key" name="method-i-key" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the key for the first-found entry with the given <code>value</code> (see <a href="Hash.html#class-Hash-label-Entry+Order">Entry Order</a>):</p>

<pre><code>h = {foo: 0, bar: 2, baz: 2}
h.key(0) # =&gt; :foo
h.key(2) # =&gt; :bar
</code></pre>

<p>Returns <code>nil</code> if no such value is found.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-key_source')" id="l_method-i-key_source">show</a>
                
              </p>
              <div id="method-i-key_source" class="dyn-source">
                <pre>static VALUE
rb_hash_key(VALUE hash, VALUE value)
{
    VALUE args[2];

    args[0] = value;
    args[1] = Qnil;

    rb_hash_foreach(hash, key_i, (VALUE)args);

    return args[1];
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-key-3F">
            
              <b>hash.key?(key) &rarr; true or false</b>
            
            <a href="../classes/Hash.html#method-i-key-3F" name="method-i-key-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>key</code> is a key in <code>self</code>, otherwise <code>false</code>.</p>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Hash.html#method-i-include-3F">include?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-keys">
            
              <b>hash.keys &rarr; new_array
</b>
            
            <a href="../classes/Hash.html#method-i-keys" name="method-i-keys" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new <a href="Array.html"><code>Array</code></a> containing all keys in <code>self</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.keys # =&gt; [:foo, :bar, :baz]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-keys_source')" id="l_method-i-keys_source">show</a>
                
              </p>
              <div id="method-i-keys_source" class="dyn-source">
                <pre>VALUE
rb_hash_keys(VALUE hash)
{
    st_index_t size = RHASH_SIZE(hash);
    VALUE keys =  rb_ary_new_capa(size);

    if (size == 0) return keys;

    if (ST_DATA_COMPATIBLE_P(VALUE)) {
        RARRAY_PTR_USE(keys, ptr, {
            if (RHASH_AR_TABLE_P(hash)) {
                size = ar_keys(hash, ptr, size);
            }
            else {
                st_table *table = RHASH_ST_TABLE(hash);
                size = st_keys(table, ptr, size);
            }
        });
        rb_gc_writebarrier_remember(keys);
        rb_ary_set_len(keys, size);
    }
    else {
        rb_hash_foreach(hash, keys_i, keys);
    }

    return keys;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-length">
            
              <b>hash.length &rarr; integer</b>
            
            <a href="../classes/Hash.html#method-i-length" name="method-i-length" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the count of entries in <code>self</code>:</p>

<pre><code>{foo: 0, bar: 1, baz: 2}.length # =&gt; 3
</code></pre>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Hash.html#method-i-size">size</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-member-3F">
            
              <b>hash.member?(key) &rarr; true or false</b>
            
            <a href="../classes/Hash.html#method-i-member-3F" name="method-i-member-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>key</code> is a key in <code>self</code>, otherwise <code>false</code>.</p>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Hash.html#method-i-include-3F">include?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-merge">
            
              <b>hash.merge &rarr; copy_of_self<br />hash.merge(*other_hashes) &rarr; new_hash<br />hash.merge(*other_hashes) { |key, old_value, new_value| ... } &rarr; new_hash
</b>
            
            <a href="../classes/Hash.html#method-i-merge" name="method-i-merge" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the new Hash formed by merging each of <code>other_hashes</code> into a copy of <code>self</code>.</p>

<p>Each argument in <code>other_hashes</code> must be a Hash.</p>
<hr>

<p>With arguments and no block:</p>
<ul><li>
<p>Returns the new Hash object formed by merging each successive Hash in <code>other_hashes</code> into <code>self</code>.</p>
</li><li>
<p>Each new-key entry is added at the end.</p>
</li><li>
<p>Each duplicate-key entry’s value overwrites the previous value.</p>
</li></ul>

<p>Example:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h1 = {bat: 3, bar: 4}
h2 = {bam: 5, bat:6}
h.merge(h1, h2) # =&gt; {:foo=&gt;0, :bar=&gt;4, :baz=&gt;2, :bat=&gt;6, :bam=&gt;5}
</code></pre>

<p>With arguments and a block:</p>
<ul><li>
<p>Returns a new Hash object that is the merge of <code>self</code> and each given hash.</p>
</li><li>
<p>The given hashes are merged left to right.</p>
</li><li>
<p>Each new-key entry is added at the end.</p>
</li><li>
<p>For each duplicate key:</p>
<ul><li>
<p>Calls the block with the key and the old and new values.</p>
</li><li>
<p>The block’s return value becomes the new value for the entry.</p>
</li></ul>
</li></ul>

<p>Example:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h1 = {bat: 3, bar: 4}
h2 = {bam: 5, bat:6}
h3 = h.merge(h1, h2) { |key, old_value, new_value| old_value + new_value }
h3 # =&gt; {:foo=&gt;0, :bar=&gt;5, :baz=&gt;2, :bat=&gt;9, :bam=&gt;5}
</code></pre>

<p>With no arguments:</p>
<ul><li>
<p>Returns a copy of <code>self</code>.</p>
</li><li>
<p>The block, if given, is ignored.</p>
</li></ul>

<p>Example:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.merge # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
h1 = h.merge { |key, old_value, new_value| raise &#39;Cannot happen&#39; }
h1 # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-merge_source')" id="l_method-i-merge_source">show</a>
                
              </p>
              <div id="method-i-merge_source" class="dyn-source">
                <pre>static VALUE
rb_hash_merge(int argc, VALUE *argv, VALUE self)
{
    return rb_hash_update(argc, argv, copy_compare_by_id(rb_hash_dup(self), self));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-merge-21">
            
              <b>hash.merge! &rarr; self<br />hash.merge!(*other_hashes) &rarr; self<br />hash.merge!(*other_hashes) { |key, old_value, new_value| ... } &rarr; self</b>
            
            <a href="../classes/Hash.html#method-i-merge-21" name="method-i-merge-21" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Merges each of <code>other_hashes</code> into <code>self</code>; returns <code>self</code>.</p>

<p>Each argument in <code>other_hashes</code> must be a Hash.</p>

<p>With arguments and no block:</p>
<ul><li>
<p>Returns <code>self</code>, after the given hashes are merged into it.</p>
</li><li>
<p>The given hashes are merged left to right.</p>
</li><li>
<p>Each new entry is added at the end.</p>
</li><li>
<p>Each duplicate-key entry’s value overwrites the previous value.</p>
</li></ul>

<p>Example:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h1 = {bat: 3, bar: 4}
h2 = {bam: 5, bat:6}
h.merge!(h1, h2) # =&gt; {:foo=&gt;0, :bar=&gt;4, :baz=&gt;2, :bat=&gt;6, :bam=&gt;5}
</code></pre>

<p>With arguments and a block:</p>
<ul><li>
<p>Returns <code>self</code>, after the given hashes are merged.</p>
</li><li>
<p>The given hashes are merged left to right.</p>
</li><li>
<p>Each new-key entry is added at the end.</p>
</li><li>
<p>For each duplicate key:</p>
<ul><li>
<p>Calls the block with the key and the old and new values.</p>
</li><li>
<p>The block’s return value becomes the new value for the entry.</p>
</li></ul>
</li></ul>

<p>Example:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h1 = {bat: 3, bar: 4}
h2 = {bam: 5, bat:6}
h3 = h.merge!(h1, h2) { |key, old_value, new_value| old_value + new_value }
h3 # =&gt; {:foo=&gt;0, :bar=&gt;5, :baz=&gt;2, :bat=&gt;9, :bam=&gt;5}
</code></pre>

<p>With no arguments:</p>
<ul><li>
<p>Returns <code>self</code>, unmodified.</p>
</li><li>
<p>The block, if given, is ignored.</p>
</li></ul>

<p>Example:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.merge # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
h1 = h.merge! { |key, old_value, new_value| raise &#39;Cannot happen&#39; }
h1 # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Hash.html#method-i-update">update</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-rassoc">
            
              <b>hash.rassoc(value) &rarr; new_array or nil
</b>
            
            <a href="../classes/Hash.html#method-i-rassoc" name="method-i-rassoc" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new 2-element <a href="Array.html"><code>Array</code></a> consisting of the key and value of the first-found entry whose value is <code>==</code> to value (see <a href="Hash.html#class-Hash-label-Entry+Order">Entry Order</a>):</p>

<pre><code>h = {foo: 0, bar: 1, baz: 1}
h.rassoc(1) # =&gt; [:bar, 1]
</code></pre>

<p>Returns <code>nil</code> if no such value found.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-rassoc_source')" id="l_method-i-rassoc_source">show</a>
                
              </p>
              <div id="method-i-rassoc_source" class="dyn-source">
                <pre>static VALUE
rb_hash_rassoc(VALUE hash, VALUE obj)
{
    VALUE args[2];

    args[0] = obj;
    args[1] = Qnil;
    rb_hash_foreach(hash, rassoc_i, (VALUE)args);
    return args[1];
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-rehash">
            
              <b>hash.rehash &rarr; self
</b>
            
            <a href="../classes/Hash.html#method-i-rehash" name="method-i-rehash" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Rebuilds the hash table by recomputing the hash index for each key; returns <code>self</code>.</p>

<p>The hash table becomes invalid if the hash value of a key has changed after the entry was created. See <a href="Hash.html#class-Hash-label-Modifying+an+Active+Hash+Key">Modifying an Active Hash Key</a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-rehash_source')" id="l_method-i-rehash_source">show</a>
                
              </p>
              <div id="method-i-rehash_source" class="dyn-source">
                <pre>VALUE
rb_hash_rehash(VALUE hash)
{
    VALUE tmp;
    st_table *tbl;

    if (hash_iterating_p(hash)) {
        rb_raise(rb_eRuntimeError, &quot;rehash during iteration&quot;);
    }
    rb_hash_modify_check(hash);
    if (RHASH_AR_TABLE_P(hash)) {
        tmp = hash_alloc(0);
        rb_hash_foreach(hash, rb_hash_rehash_i, (VALUE)tmp);

        hash_ar_free_and_clear_table(hash);
        ar_copy(hash, tmp);
    }
    else if (RHASH_ST_TABLE_P(hash)) {
        st_table *old_tab = RHASH_ST_TABLE(hash);
        tmp = hash_alloc(0);

        hash_st_table_init(tmp, old_tab-&gt;type, old_tab-&gt;num_entries);
        tbl = RHASH_ST_TABLE(tmp);

        rb_hash_foreach(hash, rb_hash_rehash_i, (VALUE)tmp);

        hash_st_free(hash);
        RHASH_ST_TABLE_SET(hash, tbl);
        RHASH_ST_CLEAR(tmp);
    }
    hash_verify(hash);
    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-reject">
            
              <b>hash.reject {|key, value| ... } &rarr; new_hash<br />hash.reject &rarr; new_enumerator
</b>
            
            <a href="../classes/Hash.html#method-i-reject" name="method-i-reject" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new Hash object whose entries are all those from <code>self</code> for which the block returns <code>false</code> or <code>nil</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h1 = h.reject {|key, value| key.start_with?(&#39;b&#39;) }
h1 # =&gt; {:foo=&gt;0}
</code></pre>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.reject # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:reject&gt;
h1 = e.each {|key, value| key.start_with?(&#39;b&#39;) }
h1 # =&gt; {:foo=&gt;0}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-reject_source')" id="l_method-i-reject_source">show</a>
                
              </p>
              <div id="method-i-reject_source" class="dyn-source">
                <pre>static VALUE
rb_hash_reject(VALUE hash)
{
    VALUE result;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    result = hash_dup_with_compare_by_id(hash);
    if (!RHASH_EMPTY_P(hash)) {
        rb_hash_foreach(result, delete_if_i, result);
        compact_after_delete(result);
    }
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-reject-21">
            
              <b>hash.reject! {|key, value| ... } &rarr; self or nil<br />hash.reject! &rarr; new_enumerator
</b>
            
            <a href="../classes/Hash.html#method-i-reject-21" name="method-i-reject-21" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>self</code>, whose remaining entries are those for which the block returns <code>false</code> or <code>nil</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.reject! {|key, value| value &lt; 2 } # =&gt; {:baz=&gt;2}
</code></pre>

<p>Returns <code>nil</code> if no entries are removed.</p>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.reject! # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:reject!&gt;
e.each {|key, value| key.start_with?(&#39;b&#39;) } # =&gt; {:foo=&gt;0}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-reject-21_source')" id="l_method-i-reject-21_source">show</a>
                
              </p>
              <div id="method-i-reject-21_source" class="dyn-source">
                <pre>static VALUE
rb_hash_reject_bang(VALUE hash)
{
    st_index_t n;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify(hash);
    n = RHASH_SIZE(hash);
    if (!n) return Qnil;
    rb_hash_foreach(hash, delete_if_i, hash);
    if (n == RHASH_SIZE(hash)) return Qnil;
    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-replace">
            
              <b>hash.replace(other_hash) &rarr; self</b>
            
            <a href="../classes/Hash.html#method-i-replace" name="method-i-replace" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Replaces the entire contents of <code>self</code> with the contents of <code>other_hash</code>; returns <code>self</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.replace({bat: 3, bam: 4}) # =&gt; {:bat=&gt;3, :bam=&gt;4}
</code></pre>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Hash.html#method-i-initialize_copy">initialize_copy</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-select">
            
              <b>hash.select {|key, value| ... } &rarr; new_hash<br />hash.select &rarr; new_enumerator</b>
            
            <a href="../classes/Hash.html#method-i-select" name="method-i-select" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new Hash object whose entries are those for which the block returns a truthy value:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.select {|key, value| value &lt; 2 } # =&gt; {:foo=&gt;0, :bar=&gt;1}
</code></pre>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.select # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:select&gt;
e.each {|key, value| value &lt; 2 } # =&gt; {:foo=&gt;0, :bar=&gt;1}
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Hash.html#method-i-filter">filter</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-select_source')" id="l_method-i-select_source">show</a>
                
              </p>
              <div id="method-i-select_source" class="dyn-source">
                <pre>static VALUE
rb_hash_select(VALUE hash)
{
    VALUE result;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    result = hash_dup_with_compare_by_id(hash);
    if (!RHASH_EMPTY_P(hash)) {
        rb_hash_foreach(result, keep_if_i, result);
        compact_after_delete(result);
    }
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-select-21">
            
              <b>hash.select! {|key, value| ... } &rarr; self or nil<br />hash.select! &rarr; new_enumerator</b>
            
            <a href="../classes/Hash.html#method-i-select-21" name="method-i-select-21" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>self</code>, whose entries are those for which the block returns a truthy value:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.select! {|key, value| value &lt; 2 }  =&gt; {:foo=&gt;0, :bar=&gt;1}
</code></pre>

<p>Returns <code>nil</code> if no entries were removed.</p>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.select!  # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:select!&gt;
e.each { |key, value| value &lt; 2 } # =&gt; {:foo=&gt;0, :bar=&gt;1}
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Hash.html#method-i-filter-21">filter!</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-select-21_source')" id="l_method-i-select-21_source">show</a>
                
              </p>
              <div id="method-i-select-21_source" class="dyn-source">
                <pre>static VALUE
rb_hash_select_bang(VALUE hash)
{
    st_index_t n;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify_check(hash);
    n = RHASH_SIZE(hash);
    if (!n) return Qnil;
    rb_hash_foreach(hash, keep_if_i, hash);
    if (n == RHASH_SIZE(hash)) return Qnil;
    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-shift">
            
              <b>hash.shift &rarr; [key, value] or nil
</b>
            
            <a href="../classes/Hash.html#method-i-shift" name="method-i-shift" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Removes the first hash entry (see <a href="Hash.html#class-Hash-label-Entry+Order">Entry Order</a>); returns a 2-element <a href="Array.html"><code>Array</code></a> containing the removed key and value:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.shift # =&gt; [:foo, 0]
h # =&gt; {:bar=&gt;1, :baz=&gt;2}
</code></pre>

<p>Returns nil if the hash is empty.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-shift_source')" id="l_method-i-shift_source">show</a>
                
              </p>
              <div id="method-i-shift_source" class="dyn-source">
                <pre>static VALUE
rb_hash_shift(VALUE hash)
{
    struct shift_var var;

    rb_hash_modify_check(hash);
    if (RHASH_AR_TABLE_P(hash)) {
        var.key = Qundef;
        if (!hash_iterating_p(hash)) {
            if (ar_shift(hash, &amp;var.key, &amp;var.val)) {
                return rb_assoc_new(var.key, var.val);
            }
        }
        else {
            rb_hash_foreach(hash, shift_i_safe, (VALUE)&amp;var);
            if (!UNDEF_P(var.key)) {
                rb_hash_delete_entry(hash, var.key);
                return rb_assoc_new(var.key, var.val);
            }
        }
    }
    if (RHASH_ST_TABLE_P(hash)) {
        var.key = Qundef;
        if (!hash_iterating_p(hash)) {
            if (st_shift(RHASH_ST_TABLE(hash), &amp;var.key, &amp;var.val)) {
                return rb_assoc_new(var.key, var.val);
            }
        }
        else {
            rb_hash_foreach(hash, shift_i_safe, (VALUE)&amp;var);
            if (!UNDEF_P(var.key)) {
                rb_hash_delete_entry(hash, var.key);
                return rb_assoc_new(var.key, var.val);
            }
        }
    }
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-size">
            
              <b>hash.size &rarr; integer</b>
            
            <a href="../classes/Hash.html#method-i-size" name="method-i-size" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the count of entries in <code>self</code>:</p>

<pre><code>{foo: 0, bar: 1, baz: 2}.length # =&gt; 3
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Hash.html#method-i-length">length</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-size_source')" id="l_method-i-size_source">show</a>
                
              </p>
              <div id="method-i-size_source" class="dyn-source">
                <pre>VALUE
rb_hash_size(VALUE hash)
{
    return INT2FIX(RHASH_SIZE(hash));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-slice">
            
              <b>hash.slice(*keys) &rarr; new_hash
</b>
            
            <a href="../classes/Hash.html#method-i-slice" name="method-i-slice" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new Hash object containing the entries for the given <code>keys</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.slice(:baz, :foo) # =&gt; {:baz=&gt;2, :foo=&gt;0}
</code></pre>

<p>Any given <code>keys</code> that are not found are ignored.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-slice_source')" id="l_method-i-slice_source">show</a>
                
              </p>
              <div id="method-i-slice_source" class="dyn-source">
                <pre>static VALUE
rb_hash_slice(int argc, VALUE *argv, VALUE hash)
{
    int i;
    VALUE key, value, result;

    if (argc == 0 || RHASH_EMPTY_P(hash)) {
        return copy_compare_by_id(rb_hash_new(), hash);
    }
    result = copy_compare_by_id(rb_hash_new_with_size(argc), hash);

    for (i = 0; i &lt; argc; i++) {
        key = argv[i];
        value = rb_hash_lookup2(hash, key, Qundef);
        if (!UNDEF_P(value))
            rb_hash_aset(result, key, value);
    }

    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-store">
            
              <b>hash.store(key, value)</b>
            
            <a href="../classes/Hash.html#method-i-store" name="method-i-store" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Associates the given <code>value</code> with the given <code>key</code>; returns <code>value</code>.</p>

<p>If the given <code>key</code> exists, replaces its value with the given <code>value</code>; the ordering is not affected (see <a href="Hash.html#class-Hash-label-Entry+Order">Entry Order</a>):</p>

<pre><code>h = {foo: 0, bar: 1}
h[:foo] = 2 # =&gt; 2
h.store(:bar, 3) # =&gt; 3
h # =&gt; {:foo=&gt;2, :bar=&gt;3}
</code></pre>

<p>If <code>key</code> does not exist, adds the <code>key</code> and <code>value</code>; the new entry is last in the order (see <a href="Hash.html#class-Hash-label-Entry+Order">Entry Order</a>):</p>

<pre><code>h = {foo: 0, bar: 1}
h[:baz] = 2 # =&gt; 2
h.store(:bat, 3) # =&gt; 3
h # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2, :bat=&gt;3}
</code></pre>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Hash.html#method-i-5B-5D-3D">[]=</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_a">
            
              <b>hash.to_a &rarr; new_array
</b>
            
            <a href="../classes/Hash.html#method-i-to_a" name="method-i-to_a" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new <a href="Array.html"><code>Array</code></a> of 2-element <a href="Array.html"><code>Array</code></a> objects; each nested <a href="Array.html"><code>Array</code></a> contains a key-value pair from <code>self</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.to_a # =&gt; [[:foo, 0], [:bar, 1], [:baz, 2]]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_a_source')" id="l_method-i-to_a_source">show</a>
                
              </p>
              <div id="method-i-to_a_source" class="dyn-source">
                <pre>static VALUE
rb_hash_to_a(VALUE hash)
{
    VALUE ary;

    ary = rb_ary_new_capa(RHASH_SIZE(hash));
    rb_hash_foreach(hash, to_a_i, ary);

    return ary;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_h">
            
              <b>hash.to_h &rarr; self or new_hash<br />hash.to_h {|key, value| ... } &rarr; new_hash
</b>
            
            <a href="../classes/Hash.html#method-i-to_h" name="method-i-to_h" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>For an instance of Hash, returns <code>self</code>.</p>

<p>For a subclass of Hash, returns a new Hash containing the content of <code>self</code>.</p>

<p>When a block is given, returns a new Hash object whose content is based on the block; the block should return a 2-element <a href="Array.html"><code>Array</code></a> object specifying the key-value pair to be included in the returned Array:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h1 = h.to_h {|key, value| [value, key] }
h1 # =&gt; {0=&gt;:foo, 1=&gt;:bar, 2=&gt;:baz}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_h_source')" id="l_method-i-to_h_source">show</a>
                
              </p>
              <div id="method-i-to_h_source" class="dyn-source">
                <pre>static VALUE
rb_hash_to_h(VALUE hash)
{
    if (rb_block_given_p()) {
        return rb_hash_to_h_block(hash);
    }
    if (rb_obj_class(hash) != rb_cHash) {
        const VALUE flags = RBASIC(hash)-&gt;flags;
        hash = hash_dup(hash, rb_cHash, flags &amp; RHASH_PROC_DEFAULT);
    }
    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_hash">
            
              <b>hash.to_hash &rarr; self
</b>
            
            <a href="../classes/Hash.html#method-i-to_hash" name="method-i-to_hash" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>self</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_hash_source')" id="l_method-i-to_hash_source">show</a>
                
              </p>
              <div id="method-i-to_hash_source" class="dyn-source">
                <pre>static VALUE
rb_hash_to_hash(VALUE hash)
{
    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_proc">
            
              <b>hash.to_proc &rarr; proc
</b>
            
            <a href="../classes/Hash.html#method-i-to_proc" name="method-i-to_proc" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a <a href="Proc.html"><code>Proc</code></a> object that maps a key to its value:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
proc = h.to_proc
proc.class # =&gt; Proc
proc.call(:foo) # =&gt; 0
proc.call(:bar) # =&gt; 1
proc.call(:nosuch) # =&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_proc_source')" id="l_method-i-to_proc_source">show</a>
                
              </p>
              <div id="method-i-to_proc_source" class="dyn-source">
                <pre>static VALUE
rb_hash_to_proc(VALUE hash)
{
    return rb_func_lambda_new(hash_proc_call, hash, 1, 1);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_s">
            
              <b>to_s</b>()
            
            <a href="../classes/Hash.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new <a href="String.html"><code>String</code></a> containing the hash entries:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.inspect # =&gt; &quot;{:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}&quot;
</code></pre>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Hash.html#method-i-inspect">inspect</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-transform_keys">
            
              <b>hash.transform_keys {|key| ... } &rarr; new_hash<br />hash.transform_keys(hash2) &rarr; new_hash<br />hash.transform_keys(hash2) {|other_key| ...} &rarr; new_hash<br />hash.transform_keys &rarr; new_enumerator
</b>
            
            <a href="../classes/Hash.html#method-i-transform_keys" name="method-i-transform_keys" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new Hash object; each entry has:</p>
<ul><li>
<p>A key provided by the block.</p>
</li><li>
<p>The value from <code>self</code>.</p>
</li></ul>

<p>An optional hash argument can be provided to map keys to new keys. Any key not given will be mapped using the provided block, or remain the same if no block is given.</p>

<p>Transform keys:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h1 = h.transform_keys {|key| key.to_s }
h1 # =&gt; {&quot;foo&quot;=&gt;0, &quot;bar&quot;=&gt;1, &quot;baz&quot;=&gt;2}

h.transform_keys(foo: :bar, bar: :foo)
#=&gt; {bar: 0, foo: 1, baz: 2}

h.transform_keys(foo: :hello, &amp;:to_s)
#=&gt; {:hello=&gt;0, &quot;bar&quot;=&gt;1, &quot;baz&quot;=&gt;2}
</code></pre>

<p>Overwrites values for duplicate keys:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h1 = h.transform_keys {|key| :bat }
h1 # =&gt; {:bat=&gt;2}
</code></pre>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.transform_keys # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:transform_keys&gt;
h1 = e.each { |key| key.to_s }
h1 # =&gt; {&quot;foo&quot;=&gt;0, &quot;bar&quot;=&gt;1, &quot;baz&quot;=&gt;2}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-transform_keys_source')" id="l_method-i-transform_keys_source">show</a>
                
              </p>
              <div id="method-i-transform_keys_source" class="dyn-source">
                <pre>static VALUE
rb_hash_transform_keys(int argc, VALUE *argv, VALUE hash)
{
    VALUE result;
    struct transform_keys_args transarg = {0};

    argc = rb_check_arity(argc, 0, 1);
    if (argc &gt; 0) {
        transarg.trans = to_hash(argv[0]);
        transarg.block_given = rb_block_given_p();
    }
    else {
        RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    }
    result = rb_hash_new();
    if (!RHASH_EMPTY_P(hash)) {
        if (transarg.trans) {
            transarg.result = result;
            rb_hash_foreach(hash, transform_keys_hash_i, (VALUE)&amp;transarg);
        }
        else {
            rb_hash_foreach(hash, transform_keys_i, result);
        }
    }

    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-transform_keys-21">
            
              <b>hash.transform_keys! {|key| ... } &rarr; self<br />hash.transform_keys!(hash2) &rarr; self<br />hash.transform_keys!(hash2) {|other_key| ...} &rarr; self<br />hash.transform_keys! &rarr; new_enumerator
</b>
            
            <a href="../classes/Hash.html#method-i-transform_keys-21" name="method-i-transform_keys-21" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Same as <a href="Hash.html#method-i-transform_keys"><code>Hash#transform_keys</code></a> but modifies the receiver in place instead of returning a new hash.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-transform_keys-21_source')" id="l_method-i-transform_keys-21_source">show</a>
                
              </p>
              <div id="method-i-transform_keys-21_source" class="dyn-source">
                <pre>static VALUE
rb_hash_transform_keys_bang(int argc, VALUE *argv, VALUE hash)
{
    VALUE trans = 0;
    int block_given = 0;

    argc = rb_check_arity(argc, 0, 1);
    if (argc &gt; 0) {
        trans = to_hash(argv[0]);
        block_given = rb_block_given_p();
    }
    else {
        RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    }
    rb_hash_modify_check(hash);
    if (!RHASH_TABLE_EMPTY_P(hash)) {
        long i;
        VALUE new_keys = hash_alloc(0);
        VALUE pairs = rb_ary_hidden_new(RHASH_SIZE(hash) * 2);
        rb_hash_foreach(hash, flatten_i, pairs);
        for (i = 0; i &lt; RARRAY_LEN(pairs); i += 2) {
            VALUE key = RARRAY_AREF(pairs, i), new_key, val;

            if (!trans) {
                new_key = rb_yield(key);
            }
            else if (!UNDEF_P(new_key = rb_hash_lookup2(trans, key, Qundef))) {
                /* use the transformed key */
            }
            else if (block_given) {
                new_key = rb_yield(key);
            }
            else {
                new_key = key;
            }
            val = RARRAY_AREF(pairs, i+1);
            if (!hash_stlike_lookup(new_keys, key, NULL)) {
                rb_hash_stlike_delete(hash, &amp;key, NULL);
            }
            rb_hash_aset(hash, new_key, val);
            rb_hash_aset(new_keys, new_key, Qnil);
        }
        rb_ary_clear(pairs);
        rb_hash_clear(new_keys);
    }
    compact_after_delete(hash);
    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-transform_values">
            
              <b>hash.transform_values {|value| ... } &rarr; new_hash<br />hash.transform_values &rarr; new_enumerator
</b>
            
            <a href="../classes/Hash.html#method-i-transform_values" name="method-i-transform_values" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new Hash object; each entry has:</p>
<ul><li>
<p>A key from <code>self</code>.</p>
</li><li>
<p>A value provided by the block.</p>
</li></ul>

<p>Transform values:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h1 = h.transform_values {|value| value * 100}
h1 # =&gt; {:foo=&gt;0, :bar=&gt;100, :baz=&gt;200}
</code></pre>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.transform_values # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:transform_values&gt;
h1 = e.each { |value| value * 100}
h1 # =&gt; {:foo=&gt;0, :bar=&gt;100, :baz=&gt;200}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-transform_values_source')" id="l_method-i-transform_values_source">show</a>
                
              </p>
              <div id="method-i-transform_values_source" class="dyn-source">
                <pre>static VALUE
rb_hash_transform_values(VALUE hash)
{
    VALUE result;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    result = hash_dup_with_compare_by_id(hash);
    SET_DEFAULT(result, Qnil);

    if (!RHASH_EMPTY_P(hash)) {
        rb_hash_stlike_foreach_with_replace(result, transform_values_foreach_func, transform_values_foreach_replace, result);
        compact_after_delete(result);
    }

    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-transform_values-21">
            
              <b>hash.transform_values! {|value| ... } &rarr; self<br />hash.transform_values! &rarr; new_enumerator
</b>
            
            <a href="../classes/Hash.html#method-i-transform_values-21" name="method-i-transform_values-21" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>self</code>, whose keys are unchanged, and whose values are determined by the given block.</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.transform_values! {|value| value * 100} # =&gt; {:foo=&gt;0, :bar=&gt;100, :baz=&gt;200}
</code></pre>

<p>Returns a new <a href="Enumerator.html"><code>Enumerator</code></a> if no block given:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
e = h.transform_values! # =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;100, :baz=&gt;200}:transform_values!&gt;
h1 = e.each {|value| value * 100}
h1 # =&gt; {:foo=&gt;0, :bar=&gt;100, :baz=&gt;200}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-transform_values-21_source')" id="l_method-i-transform_values-21_source">show</a>
                
              </p>
              <div id="method-i-transform_values-21_source" class="dyn-source">
                <pre>static VALUE
rb_hash_transform_values_bang(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify_check(hash);

    if (!RHASH_TABLE_EMPTY_P(hash)) {
        rb_hash_stlike_foreach_with_replace(hash, transform_values_foreach_func, transform_values_foreach_replace, hash);
    }

    return hash;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-update">
            
              <b>update</b>(*args)
            
            <a href="../classes/Hash.html#method-i-update" name="method-i-update" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Merges each of <code>other_hashes</code> into <code>self</code>; returns <code>self</code>.</p>

<p>Each argument in <code>other_hashes</code> must be a Hash.</p>

<p>With arguments and no block:</p>
<ul><li>
<p>Returns <code>self</code>, after the given hashes are merged into it.</p>
</li><li>
<p>The given hashes are merged left to right.</p>
</li><li>
<p>Each new entry is added at the end.</p>
</li><li>
<p>Each duplicate-key entry’s value overwrites the previous value.</p>
</li></ul>

<p>Example:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h1 = {bat: 3, bar: 4}
h2 = {bam: 5, bat:6}
h.merge!(h1, h2) # =&gt; {:foo=&gt;0, :bar=&gt;4, :baz=&gt;2, :bat=&gt;6, :bam=&gt;5}
</code></pre>

<p>With arguments and a block:</p>
<ul><li>
<p>Returns <code>self</code>, after the given hashes are merged.</p>
</li><li>
<p>The given hashes are merged left to right.</p>
</li><li>
<p>Each new-key entry is added at the end.</p>
</li><li>
<p>For each duplicate key:</p>
<ul><li>
<p>Calls the block with the key and the old and new values.</p>
</li><li>
<p>The block’s return value becomes the new value for the entry.</p>
</li></ul>
</li></ul>

<p>Example:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h1 = {bat: 3, bar: 4}
h2 = {bam: 5, bat:6}
h3 = h.merge!(h1, h2) { |key, old_value, new_value| old_value + new_value }
h3 # =&gt; {:foo=&gt;0, :bar=&gt;5, :baz=&gt;2, :bat=&gt;9, :bam=&gt;5}
</code></pre>

<p>With no arguments:</p>
<ul><li>
<p>Returns <code>self</code>, unmodified.</p>
</li><li>
<p>The block, if given, is ignored.</p>
</li></ul>

<p>Example:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.merge # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
h1 = h.merge! { |key, old_value, new_value| raise &#39;Cannot happen&#39; }
h1 # =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Hash.html#method-i-merge-21">merge!</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-update_source')" id="l_method-i-update_source">show</a>
                
              </p>
              <div id="method-i-update_source" class="dyn-source">
                <pre>static VALUE
rb_hash_update(int argc, VALUE *argv, VALUE self)
{
    int i;
    bool block_given = rb_block_given_p();

    rb_hash_modify(self);
    for (i = 0; i &lt; argc; i++){
        VALUE hash = to_hash(argv[i]);
        if (block_given) {
            rb_hash_foreach(hash, rb_hash_update_block_i, self);
        }
        else {
            rb_hash_foreach(hash, rb_hash_update_i, self);
        }
    }
    return self;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-value-3F">
            
              <b>hash.value?(value) &rarr; true or false</b>
            
            <a href="../classes/Hash.html#method-i-value-3F" name="method-i-value-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>value</code> is a value in <code>self</code>, otherwise <code>false</code>.</p>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Hash.html#method-i-has_value-3F">has_value?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-values">
            
              <b>hash.values &rarr; new_array
</b>
            
            <a href="../classes/Hash.html#method-i-values" name="method-i-values" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new <a href="Array.html"><code>Array</code></a> containing all values in <code>self</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.values # =&gt; [0, 1, 2]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-values_source')" id="l_method-i-values_source">show</a>
                
              </p>
              <div id="method-i-values_source" class="dyn-source">
                <pre>VALUE
rb_hash_values(VALUE hash)
{
    VALUE values;
    st_index_t size = RHASH_SIZE(hash);

    values = rb_ary_new_capa(size);
    if (size == 0) return values;

    if (ST_DATA_COMPATIBLE_P(VALUE)) {
        if (RHASH_AR_TABLE_P(hash)) {
            rb_gc_writebarrier_remember(values);
            RARRAY_PTR_USE(values, ptr, {
                size = ar_values(hash, ptr, size);
            });
        }
        else if (RHASH_ST_TABLE_P(hash)) {
            st_table *table = RHASH_ST_TABLE(hash);
            rb_gc_writebarrier_remember(values);
            RARRAY_PTR_USE(values, ptr, {
                size = st_values(table, ptr, size);
            });
        }
        rb_ary_set_len(values, size);
    }

    else {
        rb_hash_foreach(hash, values_i, values);
    }

    return values;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-values_at">
            
              <b>hash.values_at(*keys) &rarr; new_array
</b>
            
            <a href="../classes/Hash.html#method-i-values_at" name="method-i-values_at" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new <a href="Array.html"><code>Array</code></a> containing values for the given <code>keys</code>:</p>

<pre><code>h = {foo: 0, bar: 1, baz: 2}
h.values_at(:baz, :foo) # =&gt; [2, 0]
</code></pre>

<p>The <a href="Hash.html#class-Hash-label-Default+Values">default values</a> are returned for any keys that are not found:</p>

<pre><code>h.values_at(:hello, :foo) # =&gt; [nil, 0]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-values_at_source')" id="l_method-i-values_at_source">show</a>
                
              </p>
              <div id="method-i-values_at_source" class="dyn-source">
                <pre>static VALUE
rb_hash_values_at(int argc, VALUE *argv, VALUE hash)
{
    VALUE result = rb_ary_new2(argc);
    long i;

    for (i=0; i&lt;argc; i++) {
        rb_ary_push(result, rb_hash_aref(hash, argv[i]));
    }
    return result;
}</pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </main>
  </body>
</html>
