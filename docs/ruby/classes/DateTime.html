<!DOCTYPE html>
<html lang="en">
<head>
    <title>DateTime</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='["DateTime"]'>


    <meta property="og:title" value="DateTime">

  
    
    <meta name="description" content="DateTime  A subclass of Date that easily handles date, hour, minute, second, and offset.  DateTime class is considered deprecated. Use Time class.">
    <meta property="og:description" content="DateTime  A subclass of Date that easily handles date, hour, minute, second, and offset.  DateTime class is considered deprecated. Use Time class.">
  

    <meta name="keywords" content="DateTime class, jd, ordinal, civil, new, commercial, now, _strptime, strptime, parse, iso8601, rfc3339, xmlschema, rfc2822, rfc822, httpdate, jisx0301, hour, min, minute, sec, second, sec_fraction, second_fraction, offset, zone, new_offset, to_s, strftime, iso8601, xmlschema, rfc3339, jisx0301, deconstruct_keys, to_time, to_date, to_datetime, json_create, as_json, to_json">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Class</span>
            DateTime
            
                <span class="parent">&lt;
                    
                    <a href="Date.html">Date</a>
                    
                </span>
            
        </h2>
        <ul class="files">
            
            <li><a href="../files/ruby/ext/date/date_core_c.html">ruby/ext/date/date_core.c</a></li>
            
            <li><a href="../files/ruby/ext/json/lib/json/add/date_time_rb.html">ruby/ext/json/lib/json/add/date_time.rb</a></li>
            
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h2 id="class-DateTime-label-DateTime"><a href="DateTime.html"><code>DateTime</code></a></h2>

<p>A subclass of <a href="Date.html"><code>Date</code></a> that easily handles date, hour, minute, second, and offset.</p>

<p><a href="DateTime.html"><code>DateTime</code></a> class is considered deprecated. Use <a href="Time.html"><code>Time</code></a> class.</p>

<p><a href="DateTime.html"><code>DateTime</code></a> does not consider any leap seconds, does not track any summer time rules.</p>

<p>A <a href="DateTime.html"><code>DateTime</code></a> object is created with <a href="DateTime.html#method-c-new"><code>DateTime::new</code></a>, <a href="DateTime.html#method-c-jd"><code>DateTime::jd</code></a>, <a href="DateTime.html#method-c-ordinal"><code>DateTime::ordinal</code></a>, <a href="DateTime.html#method-c-commercial"><code>DateTime::commercial</code></a>, <a href="DateTime.html#method-c-parse"><code>DateTime::parse</code></a>, <a href="DateTime.html#method-c-strptime"><code>DateTime::strptime</code></a>, <a href="DateTime.html#method-c-now"><code>DateTime::now</code></a>, <a href="Time.html#method-i-to_datetime"><code>Time#to_datetime</code></a>, etc.</p>

<pre><code>require &#39;date&#39;

DateTime.new(2001,2,3,4,5,6)
                    #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+00:00 ...&gt;
</code></pre>

<p>The last element of day, hour, minute, or second can be a fractional number. The fractional number’s precision is assumed at most nanosecond.</p>

<pre><code>DateTime.new(2001,2,3.5)
                    #=&gt; #&lt;DateTime: 2001-02-03T12:00:00+00:00 ...&gt;
</code></pre>

<p>An optional argument, the offset, indicates the difference between the local time and UTC. For example, <code>Rational(3,24)</code> represents ahead of 3 hours of UTC, <code>Rational(-5,24)</code> represents behind of 5 hours of UTC. The offset should be -1 to +1, and its precision is assumed at most second. The default value is zero (equals to UTC).</p>

<pre><code>DateTime.new(2001,2,3,4,5,6,Rational(3,24))
                    #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+03:00 ...&gt;
</code></pre>

<p>The offset also accepts string form:</p>

<pre><code>DateTime.new(2001,2,3,4,5,6,&#39;+03:00&#39;)
                    #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+03:00 ...&gt;
</code></pre>

<p>An optional argument, the day of calendar reform (<code>start</code>), denotes a Julian day number, which should be 2298874 to 2426355 or negative/positive infinity. The default value is <code>Date::ITALY</code> (2299161=1582-10-15).</p>

<p>A <a href="DateTime.html"><code>DateTime</code></a> object has various methods. See each reference.</p>

<pre><code>d = DateTime.parse(&#39;3rd Feb 2001 04:05:06+03:30&#39;)
                    #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+03:30 ...&gt;
d.hour              #=&gt; 4
d.min               #=&gt; 5
d.sec               #=&gt; 6
d.offset            #=&gt; (7/48)
d.zone              #=&gt; &quot;+03:30&quot;
d += Rational(&#39;1.5&#39;)
                    #=&gt; #&lt;DateTime: 2001-02-04%16:05:06+03:30 ...&gt;
d = d.new_offset(&#39;+09:00&#39;)
                    #=&gt; #&lt;DateTime: 2001-02-04%21:35:06+09:00 ...&gt;
d.strftime(&#39;%I:%M:%S %p&#39;)
                    #=&gt; &quot;09:35:06 PM&quot;
d &gt; DateTime.new(1999)
                    #=&gt; true
</code></pre>

<h3 id="class-DateTime-label-When+should+you+use+DateTime+and+when+should+you+use+Time-3F">When should you use <a href="DateTime.html"><code>DateTime</code></a> and when should you use <a href="Time.html"><code>Time</code></a>?</h3>

<p>It’s a common misconception that <a href="https://en.wikipedia.org/wiki/William_Shakespeare">William Shakespeare</a> and <a href="https://en.wikipedia.org/wiki/Miguel_de_Cervantes">Miguel de Cervantes</a> died on the same day in history - so much so that UNESCO named April 23 as <a href="https://en.wikipedia.org/wiki/World_Book_Day">World Book Day because of this fact</a>. However, because England hadn’t yet adopted the <a href="https://en.wikipedia.org/wiki/Gregorian_calendar#Gregorian_reform">Gregorian Calendar Reform</a> (and wouldn’t until <a href="https://en.wikipedia.org/wiki/Calendar_(New_Style)_Act_1750">1752</a>) their deaths are actually 10 days apart. Since Ruby’s <a href="Time.html"><code>Time</code></a> class implements a <a href="https://en.wikipedia.org/wiki/Proleptic_Gregorian_calendar">proleptic Gregorian calendar</a> and has no concept of calendar reform there’s no way to express this with <a href="Time.html"><code>Time</code></a> objects. This is where <a href="DateTime.html"><code>DateTime</code></a> steps in:</p>

<pre><code>shakespeare = DateTime.iso8601(&#39;1616-04-23&#39;, Date::ENGLAND)
 #=&gt; Tue, 23 Apr 1616 00:00:00 +0000
cervantes = DateTime.iso8601(&#39;1616-04-23&#39;, Date::ITALY)
 #=&gt; Sat, 23 Apr 1616 00:00:00 +0000
</code></pre>

<p>Already you can see something is weird - the days of the week are different. Taking this further:</p>

<pre><code>cervantes == shakespeare
 #=&gt; false
(shakespeare - cervantes).to_i
 #=&gt; 10
</code></pre>

<p>This shows that in fact they died 10 days apart (in reality 11 days since Cervantes died a day earlier but was buried on the 23rd). We can see the actual date of Shakespeare’s death by using the <a href="Date.html#method-i-gregorian"><code>gregorian</code></a> method to convert it:</p>

<pre><code>shakespeare.gregorian
 #=&gt; Tue, 03 May 1616 00:00:00 +0000
</code></pre>

<p>So there’s an argument that all the celebrations that take place on the 23rd April in Stratford-upon-Avon are actually the wrong date since England is now using the Gregorian calendar. You can see why when we transition across the reform date boundary:</p>

<pre><code># start off with the anniversary of Shakespeare&#39;s birth in 1751
shakespeare = DateTime.iso8601(&#39;1751-04-23&#39;, Date::ENGLAND)
 #=&gt; Tue, 23 Apr 1751 00:00:00 +0000

# add 366 days since 1752 is a leap year and April 23 is after February 29
shakespeare + 366
 #=&gt; Thu, 23 Apr 1752 00:00:00 +0000

# add another 365 days to take us to the anniversary in 1753
shakespeare + 366 + 365
 #=&gt; Fri, 04 May 1753 00:00:00 +0000
</code></pre>

<p>As you can see, if we’re accurately tracking the number of <a href="https://en.wikipedia.org/wiki/Tropical_year">solar years</a> since Shakespeare’s birthday then the correct anniversary date would be the 4th May and not the 23rd April.</p>

<p>So when should you use <a href="DateTime.html"><code>DateTime</code></a> in Ruby and when should you use <a href="Time.html"><code>Time</code></a>? Almost certainly you’ll want to use <a href="Time.html"><code>Time</code></a> since your app is probably dealing with current dates and times. However, if you need to deal with dates and times in a historical context you’ll want to use <a href="DateTime.html"><code>DateTime</code></a> to avoid making the same mistakes as UNESCO. If you also have to deal with timezones then best of luck - just bear in mind that you’ll probably be dealing with <a href="https://en.wikipedia.org/wiki/Solar_time">local solar times</a>, since it wasn’t until the 19th century that the introduction of the railways necessitated the need for <a href="https://en.wikipedia.org/wiki/Standard_time#Great_Britain">Standard Time</a> and eventually timezones.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-_strptime">_strptime</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-as_json">as_json</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-civil">civil</a>,
              </li>
            
              
              <li>
                <a href="#method-c-commercial">commercial</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-deconstruct_keys">deconstruct_keys</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-hour">hour</a>,
              </li>
            
              
              <li>
                <a href="#method-c-httpdate">httpdate</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-iso8601">iso8601</a>,
              </li>
            
              
              <li>
                <a href="#method-c-iso8601">iso8601</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>J</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-jd">jd</a>,
              </li>
            
              
              <li>
                <a href="#method-i-jisx0301">jisx0301</a>,
              </li>
            
              
              <li>
                <a href="#method-c-jisx0301">jisx0301</a>,
              </li>
            
              
              <li>
                <a href="#method-c-json_create">json_create</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-min">min</a>,
              </li>
            
              
              <li>
                <a href="#method-i-minute">minute</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-i-new_offset">new_offset</a>,
              </li>
            
              
              <li>
                <a href="#method-c-now">now</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>O</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-offset">offset</a>,
              </li>
            
              
              <li>
                <a href="#method-c-ordinal">ordinal</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-parse">parse</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-rfc2822">rfc2822</a>,
              </li>
            
              
              <li>
                <a href="#method-c-rfc3339">rfc3339</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rfc3339">rfc3339</a>,
              </li>
            
              
              <li>
                <a href="#method-c-rfc822">rfc822</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-sec">sec</a>,
              </li>
            
              
              <li>
                <a href="#method-i-sec_fraction">sec_fraction</a>,
              </li>
            
              
              <li>
                <a href="#method-i-second">second</a>,
              </li>
            
              
              <li>
                <a href="#method-i-second_fraction">second_fraction</a>,
              </li>
            
              
              <li>
                <a href="#method-i-strftime">strftime</a>,
              </li>
            
              
              <li>
                <a href="#method-c-strptime">strptime</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_date">to_date</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_datetime">to_datetime</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_json">to_json</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_time">to_time</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>X</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-xmlschema">xmlschema</a>,
              </li>
            
              
              <li>
                <a href="#method-c-xmlschema">xmlschema</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>Z</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-zone">zone</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
    
      <h2 class="sectiontitle">Class Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-c-_strptime">
            
              <b>DateTime._strptime(string[, format='%FT%T%z'])  &rarr;  hash
</b>
            
            <a href="../classes/DateTime.html#method-c-_strptime" name="method-c-_strptime" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Parses the given representation of date and time with the given template, and returns a hash of parsed elements.  _strptime does not support specification of flags and width unlike strftime.</p>

<p>See also strptime(3) and <a href="DateTime.html#method-i-strftime"><code>strftime</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-_strptime_source')" id="l_method-c-_strptime_source">show</a>
                
              </p>
              <div id="method-c-_strptime_source" class="dyn-source">
                <pre>static VALUE
datetime_s__strptime(int argc, VALUE *argv, VALUE klass)
{
    return date_s__strptime_internal(argc, argv, klass, &quot;%FT%T%z&quot;);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-civil">
            
              <b>civil</b>(*args)
            
            <a href="../classes/DateTime.html#method-c-civil" name="method-c-civil" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Same as <a href="DateTime.html#method-c-new"><code>DateTime.new</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-civil_source')" id="l_method-c-civil_source">show</a>
                
              </p>
              <div id="method-c-civil_source" class="dyn-source">
                <pre>static VALUE
datetime_s_civil(int argc, VALUE *argv, VALUE klass)
{
    return datetime_initialize(argc, argv, d_lite_s_alloc_complex(klass));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-commercial">
            
              <b>DateTime.commercial([cwyear=-4712[, cweek=1[, cwday=1[, hour=0[, minute=0[, second=0[, offset=0[, start=Date::ITALY]]]]]]]])  &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-commercial" name="method-c-commercial" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates a <a href="DateTime.html"><code>DateTime</code></a> object denoting the given week date.</p>

<pre><code>DateTime.commercial(2001) #=&gt; #&lt;DateTime: 2001-01-01T00:00:00+00:00 ...&gt;
DateTime.commercial(2002) #=&gt; #&lt;DateTime: 2001-12-31T00:00:00+00:00 ...&gt;
DateTime.commercial(2001,5,6,4,5,6,&#39;+7&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-commercial_source')" id="l_method-c-commercial_source">show</a>
                
              </p>
              <div id="method-c-commercial_source" class="dyn-source">
                <pre>static VALUE
datetime_s_commercial(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vw, vd, vh, vmin, vs, vof, vsg, y, fr, fr2, ret;
    int w, d, h, min, s, rof;
    double sg;

    rb_scan_args(argc, argv, &quot;08&quot;, &amp;vy, &amp;vw, &amp;vd, &amp;vh, &amp;vmin, &amp;vs, &amp;vof, &amp;vsg);

    y = INT2FIX(-4712);
    w = 1;
    d = 1;

    h = min = s = 0;
    fr2 = INT2FIX(0);
    rof = 0;
    sg = DEFAULT_SG;

    switch (argc) {
      case 8:
        val2sg(vsg, sg);
      case 7:
        val2off(vof, rof);
      case 6:
        check_numeric(vs, &quot;second&quot;);
        num2int_with_frac(s, positive_inf);
      case 5:
        check_numeric(vmin, &quot;minute&quot;);
        num2int_with_frac(min, 5);
      case 4:
        check_numeric(vh, &quot;hour&quot;);
        num2int_with_frac(h, 4);
      case 3:
        check_numeric(vd, &quot;cwday&quot;);
        num2int_with_frac(d, 3);
      case 2:
        check_numeric(vw, &quot;cweek&quot;);
        w = NUM2INT(vw);
      case 1:
        check_numeric(vy, &quot;year&quot;);
        y = vy;
    }

    {
        VALUE nth;
        int ry, rw, rd, rh, rmin, rs, rjd, rjd2, ns;

        if (!valid_commercial_p(y, w, d, sg,
                                &amp;nth, &amp;ry,
                                &amp;rw, &amp;rd, &amp;rjd,
                                &amp;ns))
            rb_raise(eDateError, &quot;invalid date&quot;);
        if (!c_valid_time_p(h, min, s, &amp;rh, &amp;rmin, &amp;rs))
            rb_raise(eDateError, &quot;invalid date&quot;);
        canon24oc();

        rjd2 = jd_local_to_utc(rjd,
                               time_to_df(rh, rmin, rs),
                               rof);

        ret = d_complex_new_internal(klass,
                                     nth, rjd2,
                                     0, INT2FIX(0),
                                     rof, sg,
                                     0, 0, 0,
                                     rh, rmin, rs,
                                     HAVE_JD | HAVE_TIME);
    }
    add_frac();
    return ret;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-httpdate">
            
              <b>DateTime.httpdate(string='Mon, 01 Jan -4712 00:00:00 GMT'[, start=Date::ITALY])  &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-httpdate" name="method-c-httpdate" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates a new <a href="DateTime.html"><code>DateTime</code></a> object by parsing from a string according to some RFC 2616 format.</p>

<pre><code>DateTime.httpdate(&#39;Sat, 03 Feb 2001 04:05:06 GMT&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+00:00 ...&gt;
</code></pre>

<p>Raise an <a href="ArgumentError.html"><code>ArgumentError</code></a> when the string length is longer than <em>limit</em>. You can stop this check by passing <code>limit: nil</code>, but note that it may take a long time to parse.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-httpdate_source')" id="l_method-c-httpdate_source">show</a>
                
              </p>
              <div id="method-c-httpdate_source" class="dyn-source">
                <pre>static VALUE
datetime_s_httpdate(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg, opt;

    rb_scan_args(argc, argv, &quot;02:&quot;, &amp;str, &amp;sg, &amp;opt);
    if (!NIL_P(opt)) argc--;

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;Mon, 01 Jan -4712 00:00:00 GMT&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        int argc2 = 1;
        VALUE argv2[2], hash;
        argv2[0] = str;
        argv2[1] = opt;
        if (!NIL_P(opt)) argc2++;
        hash = date_s__httpdate(argc2, argv2, klass);
        return dt_new_by_frags(klass, hash, sg);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-iso8601">
            
              <b>DateTime.iso8601(string='-4712-01-01T00:00:00+00:00'[, start=Date::ITALY], limit: 128)  &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-iso8601" name="method-c-iso8601" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates a new <a href="DateTime.html"><code>DateTime</code></a> object by parsing from a string according to some typical ISO 8601 formats.</p>

<pre><code>DateTime.iso8601(&#39;2001-02-03T04:05:06+07:00&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
DateTime.iso8601(&#39;20010203T040506+0700&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
DateTime.iso8601(&#39;2001-W05-6T04:05:06+07:00&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
</code></pre>

<p>Raise an <a href="ArgumentError.html"><code>ArgumentError</code></a> when the string length is longer than <em>limit</em>. You can stop this check by passing <code>limit: nil</code>, but note that it may take a long time to parse.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-iso8601_source')" id="l_method-c-iso8601_source">show</a>
                
              </p>
              <div id="method-c-iso8601_source" class="dyn-source">
                <pre>static VALUE
datetime_s_iso8601(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg, opt;

    rb_scan_args(argc, argv, &quot;02:&quot;, &amp;str, &amp;sg, &amp;opt);
    if (!NIL_P(opt)) argc--;

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;-4712-01-01T00:00:00+00:00&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        int argc2 = 1;
        VALUE argv2[2], hash;
        argv2[0] = str;
        argv2[1] = opt;
        if (!NIL_P(opt)) argc2--;
        hash = date_s__iso8601(argc2, argv2, klass);
        return dt_new_by_frags(klass, hash, sg);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-jd">
            
              <b>DateTime.jd([jd=0[, hour=0[, minute=0[, second=0[, offset=0[, start=Date::ITALY]]]]]])  &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-jd" name="method-c-jd" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates a <a href="DateTime.html"><code>DateTime</code></a> object denoting the given chronological Julian day number.</p>

<pre><code>DateTime.jd(2451944)      #=&gt; #&lt;DateTime: 2001-02-03T00:00:00+00:00 ...&gt;
DateTime.jd(2451945)      #=&gt; #&lt;DateTime: 2001-02-04T00:00:00+00:00 ...&gt;
DateTime.jd(Rational(&#39;0.5&#39;))
                          #=&gt; #&lt;DateTime: -4712-01-01T12:00:00+00:00 ...&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-jd_source')" id="l_method-c-jd_source">show</a>
                
              </p>
              <div id="method-c-jd_source" class="dyn-source">
                <pre>static VALUE
datetime_s_jd(int argc, VALUE *argv, VALUE klass)
{
    VALUE vjd, vh, vmin, vs, vof, vsg, jd, fr, fr2, ret;
    int h, min, s, rof;
    double sg;

    rb_scan_args(argc, argv, &quot;06&quot;, &amp;vjd, &amp;vh, &amp;vmin, &amp;vs, &amp;vof, &amp;vsg);

    jd = INT2FIX(0);

    h = min = s = 0;
    fr2 = INT2FIX(0);
    rof = 0;
    sg = DEFAULT_SG;

    switch (argc) {
      case 6:
        val2sg(vsg, sg);
      case 5:
        val2off(vof, rof);
      case 4:
        check_numeric(vs, &quot;second&quot;);
        num2int_with_frac(s, positive_inf);
      case 3:
        check_numeric(vmin, &quot;minute&quot;);
        num2int_with_frac(min, 3);
      case 2:
        check_numeric(vh, &quot;hour&quot;);
        num2int_with_frac(h, 2);
      case 1:
        check_numeric(vjd, &quot;jd&quot;);
        num2num_with_frac(jd, 1);
    }

    {
        VALUE nth;
        int rh, rmin, rs, rjd, rjd2;

        if (!c_valid_time_p(h, min, s, &amp;rh, &amp;rmin, &amp;rs))
            rb_raise(eDateError, &quot;invalid date&quot;);
        canon24oc();

        decode_jd(jd, &amp;nth, &amp;rjd);
        rjd2 = jd_local_to_utc(rjd,
                               time_to_df(rh, rmin, rs),
                               rof);

        ret = d_complex_new_internal(klass,
                                     nth, rjd2,
                                     0, INT2FIX(0),
                                     rof, sg,
                                     0, 0, 0,
                                     rh, rmin, rs,
                                     HAVE_JD | HAVE_TIME);
    }
    add_frac();
    return ret;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-jisx0301">
            
              <b>DateTime.jisx0301(string='-4712-01-01T00:00:00+00:00'[, start=Date::ITALY], limit: 128)  &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-jisx0301" name="method-c-jisx0301" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates a new <a href="DateTime.html"><code>DateTime</code></a> object by parsing from a string according to some typical JIS X 0301 formats.</p>

<pre><code>DateTime.jisx0301(&#39;H13.02.03T04:05:06+07:00&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
</code></pre>

<p>For no-era year, legacy format, Heisei is assumed.</p>

<pre><code>DateTime.jisx0301(&#39;13.02.03T04:05:06+07:00&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
</code></pre>

<p>Raise an <a href="ArgumentError.html"><code>ArgumentError</code></a> when the string length is longer than <em>limit</em>. You can stop this check by passing <code>limit: nil</code>, but note that it may take a long time to parse.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-jisx0301_source')" id="l_method-c-jisx0301_source">show</a>
                
              </p>
              <div id="method-c-jisx0301_source" class="dyn-source">
                <pre>static VALUE
datetime_s_jisx0301(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg, opt;

    rb_scan_args(argc, argv, &quot;02:&quot;, &amp;str, &amp;sg, &amp;opt);
    if (!NIL_P(opt)) argc--;

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;-4712-01-01T00:00:00+00:00&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        int argc2 = 1;
        VALUE argv2[2], hash;
        argv2[0] = str;
        argv2[1] = opt;
        if (!NIL_P(opt)) argc2++;
        hash = date_s__jisx0301(argc2, argv2, klass);
        return dt_new_by_frags(klass, hash, sg);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-json_create">
            
              <b>json_create</b>(object)
            
            <a href="../classes/DateTime.html#method-c-json_create" name="method-c-json_create" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>See <a href="DateTime.html#method-i-as_json"><code>as_json</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-json_create_source')" id="l_method-c-json_create_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/ext/json/lib/json/add/date_time.rb#L10" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-json_create_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/ext/json/lib/json/add/date_time.rb, line 10</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">json_create</span>(<span class="ruby-identifier">object</span>)
  <span class="ruby-identifier">args</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-string">&#39;y&#39;</span>, <span class="ruby-string">&#39;m&#39;</span>, <span class="ruby-string">&#39;d&#39;</span>, <span class="ruby-string">&#39;H&#39;</span>, <span class="ruby-string">&#39;M&#39;</span>, <span class="ruby-string">&#39;S&#39;</span>)
  <span class="ruby-identifier">of_a</span>, <span class="ruby-identifier">of_b</span> = <span class="ruby-identifier">object</span>[<span class="ruby-string">&#39;of&#39;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;/&#39;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">of_b</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">of_b</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&#39;0&#39;</span>
    <span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Rational</span>(<span class="ruby-identifier">of_a</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">of_b</span>.<span class="ruby-identifier">to_i</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">of_a</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">object</span>[<span class="ruby-string">&#39;sg&#39;</span>]
  <span class="ruby-identifier">civil</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-new">
            
              <b>new</b>(*args)
            
            <a href="../classes/DateTime.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Same as <a href="DateTime.html#method-c-new"><code>DateTime.new</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre>static VALUE
datetime_s_civil(int argc, VALUE *argv, VALUE klass)
{
    return datetime_initialize(argc, argv, d_lite_s_alloc_complex(klass));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-now">
            
              <b>DateTime.now([start=Date::ITALY])  &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-now" name="method-c-now" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates a <a href="DateTime.html"><code>DateTime</code></a> object denoting the present time.</p>

<pre><code>DateTime.now              #=&gt; #&lt;DateTime: 2011-06-11T21:20:44+09:00 ...&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-now_source')" id="l_method-c-now_source">show</a>
                
              </p>
              <div id="method-c-now_source" class="dyn-source">
                <pre>static VALUE
datetime_s_now(int argc, VALUE *argv, VALUE klass)
{
    VALUE vsg, nth, ret;
    double sg;
#ifdef HAVE_CLOCK_GETTIME
    struct timespec ts;
#else
    struct timeval tv;
#endif
    time_t sec;
    struct tm tm;
    long sf, of;
    int y, ry, m, d, h, min, s;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;vsg);

    if (argc &lt; 1)
        sg = DEFAULT_SG;
    else
        sg = NUM2DBL(vsg);

#ifdef HAVE_CLOCK_GETTIME
    if (clock_gettime(CLOCK_REALTIME, &amp;ts) == -1)
        rb_sys_fail(&quot;clock_gettime&quot;);
    sec = ts.tv_sec;
#else
    if (gettimeofday(&amp;tv, NULL) == -1)
        rb_sys_fail(&quot;gettimeofday&quot;);
    sec = tv.tv_sec;
#endif
    tzset();
    if (!localtime_r(&amp;sec, &amp;tm))
        rb_sys_fail(&quot;localtime&quot;);

    y = tm.tm_year + 1900;
    m = tm.tm_mon + 1;
    d = tm.tm_mday;
    h = tm.tm_hour;
    min = tm.tm_min;
    s = tm.tm_sec;
    if (s == 60)
        s = 59;
#ifdef HAVE_STRUCT_TM_TM_GMTOFF
    of = tm.tm_gmtoff;
#elif defined(HAVE_TIMEZONE)
#if defined(HAVE_ALTZONE) &amp;&amp; !defined(_AIX)
    of = (long)-((tm.tm_isdst &gt; 0) ? altzone : timezone);
#else
    of = (long)-timezone;
    if (tm.tm_isdst) {
        time_t sec2;

        tm.tm_isdst = 0;
        sec2 = mktime(&amp;tm);
        of += (long)difftime(sec2, sec);
    }
#endif
#elif defined(HAVE_TIMEGM)
    {
        time_t sec2;

        sec2 = timegm(&amp;tm);
        of = (long)difftime(sec2, sec);
    }
#else
    {
        struct tm tm2;
        time_t sec2;

        if (!gmtime_r(&amp;sec, &amp;tm2))
            rb_sys_fail(&quot;gmtime&quot;);
        tm2.tm_isdst = tm.tm_isdst;
        sec2 = mktime(&amp;tm2);
        of = (long)difftime(sec, sec2);
    }
#endif
#ifdef HAVE_CLOCK_GETTIME
    sf = ts.tv_nsec;
#else
    sf = tv.tv_usec * 1000;
#endif

    if (of &lt; -DAY_IN_SECONDS || of &gt; DAY_IN_SECONDS) {
        of = 0;
        rb_warning(&quot;invalid offset is ignored&quot;);
    }

    decode_year(INT2FIX(y), -1, &amp;nth, &amp;ry);

    ret = d_complex_new_internal(klass,
                                 nth, 0,
                                 0, LONG2NUM(sf),
                                 (int)of, GREGORIAN,
                                 ry, m, d,
                                 h, min, s,
                                 HAVE_CIVIL | HAVE_TIME);
    {
        get_d1(ret);
        set_sg(dat, sg);
    }
    return ret;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-ordinal">
            
              <b>DateTime.ordinal([year=-4712[, yday=1[, hour=0[, minute=0[, second=0[, offset=0[, start=Date::ITALY]]]]]]])  &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-ordinal" name="method-c-ordinal" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates a <a href="DateTime.html"><code>DateTime</code></a> object denoting the given ordinal date.</p>

<pre><code>DateTime.ordinal(2001,34) #=&gt; #&lt;DateTime: 2001-02-03T00:00:00+00:00 ...&gt;
DateTime.ordinal(2001,34,4,5,6,&#39;+7&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
DateTime.ordinal(2001,-332,-20,-55,-54,&#39;+7&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-ordinal_source')" id="l_method-c-ordinal_source">show</a>
                
              </p>
              <div id="method-c-ordinal_source" class="dyn-source">
                <pre>static VALUE
datetime_s_ordinal(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vd, vh, vmin, vs, vof, vsg, y, fr, fr2, ret;
    int d, h, min, s, rof;
    double sg;

    rb_scan_args(argc, argv, &quot;07&quot;, &amp;vy, &amp;vd, &amp;vh, &amp;vmin, &amp;vs, &amp;vof, &amp;vsg);

    y = INT2FIX(-4712);
    d = 1;

    h = min = s = 0;
    fr2 = INT2FIX(0);
    rof = 0;
    sg = DEFAULT_SG;

    switch (argc) {
      case 7:
        val2sg(vsg, sg);
      case 6:
        val2off(vof, rof);
      case 5:
        check_numeric(vs, &quot;second&quot;);
        num2int_with_frac(s, positive_inf);
      case 4:
        check_numeric(vmin, &quot;minute&quot;);
        num2int_with_frac(min, 4);
      case 3:
        check_numeric(vh, &quot;hour&quot;);
        num2int_with_frac(h, 3);
      case 2:
        check_numeric(vd, &quot;yday&quot;);
        num2int_with_frac(d, 2);
      case 1:
        check_numeric(vy, &quot;year&quot;);
        y = vy;
    }

    {
        VALUE nth;
        int ry, rd, rh, rmin, rs, rjd, rjd2, ns;

        if (!valid_ordinal_p(y, d, sg,
                             &amp;nth, &amp;ry,
                             &amp;rd, &amp;rjd,
                             &amp;ns))
            rb_raise(eDateError, &quot;invalid date&quot;);
        if (!c_valid_time_p(h, min, s, &amp;rh, &amp;rmin, &amp;rs))
            rb_raise(eDateError, &quot;invalid date&quot;);
        canon24oc();

        rjd2 = jd_local_to_utc(rjd,
                               time_to_df(rh, rmin, rs),
                               rof);

        ret = d_complex_new_internal(klass,
                                     nth, rjd2,
                                     0, INT2FIX(0),
                                     rof, sg,
                                     0, 0, 0,
                                     rh, rmin, rs,
                                     HAVE_JD | HAVE_TIME);
    }
    add_frac();
    return ret;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-parse">
            
              <b>DateTime.parse(string='-4712-01-01T00:00:00+00:00'[, comp=true[, start=Date::ITALY]], limit: 128)  &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-parse" name="method-c-parse" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Parses the given representation of date and time, and creates a <a href="DateTime.html"><code>DateTime</code></a> object.</p>

<p>This method <strong>does</strong> <strong>not</strong> function as a validator.  If the input string does not match valid formats strictly, you may get a cryptic result.  Should consider to use <a href="DateTime.html#method-c-strptime"><code>DateTime.strptime</code></a> instead of this method as possible.</p>

<p>If the optional second argument is true and the detected year is in the range “00” to “99”, makes it full.</p>

<pre><code>DateTime.parse(&#39;2001-02-03T04:05:06+07:00&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
DateTime.parse(&#39;20010203T040506+0700&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
DateTime.parse(&#39;3rd Feb 2001 04:05:06 PM&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T16:05:06+00:00 ...&gt;
</code></pre>

<p>Raise an <a href="ArgumentError.html"><code>ArgumentError</code></a> when the string length is longer than <em>limit</em>. You can stop this check by passing <code>limit: nil</code>, but note that it may take a long time to parse.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_source')" id="l_method-c-parse_source">show</a>
                
              </p>
              <div id="method-c-parse_source" class="dyn-source">
                <pre>static VALUE
datetime_s_parse(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, comp, sg, opt;

    rb_scan_args(argc, argv, &quot;03:&quot;, &amp;str, &amp;comp, &amp;sg, &amp;opt);
    if (!NIL_P(opt)) argc--;

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;-4712-01-01T00:00:00+00:00&quot;);
      case 1:
        comp = Qtrue;
      case 2:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        int argc2 = 2;
        VALUE argv2[3], hash;
        argv2[0] = str;
        argv2[1] = comp;
        argv2[2] = opt;
        if (!NIL_P(opt)) argc2++;
        hash = date_s__parse(argc2, argv2, klass);
        return dt_new_by_frags(klass, hash, sg);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-rfc2822">
            
              <b>DateTime.rfc2822(string='Mon, 1 Jan -4712 00:00:00 +0000'[, start=Date::ITALY], limit: 128)  &rarr;  datetime<br />DateTime.rfc822(string='Mon, 1 Jan -4712 00:00:00 +0000'[, start=Date::ITALY], limit: 128)   &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-rfc2822" name="method-c-rfc2822" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates a new <a href="DateTime.html"><code>DateTime</code></a> object by parsing from a string according to some typical RFC 2822 formats.</p>

<pre><code>DateTime.rfc2822(&#39;Sat, 3 Feb 2001 04:05:06 +0700&#39;)
                         #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
</code></pre>

<p>Raise an <a href="ArgumentError.html"><code>ArgumentError</code></a> when the string length is longer than <em>limit</em>. You can stop this check by passing <code>limit: nil</code>, but note that it may take a long time to parse.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-rfc2822_source')" id="l_method-c-rfc2822_source">show</a>
                
              </p>
              <div id="method-c-rfc2822_source" class="dyn-source">
                <pre>static VALUE
datetime_s_rfc2822(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg, opt;

    rb_scan_args(argc, argv, &quot;02:&quot;, &amp;str, &amp;sg, &amp;opt);
    if (!NIL_P(opt)) argc--;

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;Mon, 1 Jan -4712 00:00:00 +0000&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        int argc2 = 1;
        VALUE argv2[2], hash;
        argv2[0] = str;
        argv2[1] = opt;
        if (!NIL_P(opt)) argc2++;
        hash = date_s__rfc2822(argc2, argv2, klass);
        return dt_new_by_frags(klass, hash, sg);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-rfc3339">
            
              <b>DateTime.rfc3339(string='-4712-01-01T00:00:00+00:00'[, start=Date::ITALY], limit: 128)  &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-rfc3339" name="method-c-rfc3339" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates a new <a href="DateTime.html"><code>DateTime</code></a> object by parsing from a string according to some typical RFC 3339 formats.</p>

<pre><code>DateTime.rfc3339(&#39;2001-02-03T04:05:06+07:00&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
</code></pre>

<p>Raise an <a href="ArgumentError.html"><code>ArgumentError</code></a> when the string length is longer than <em>limit</em>. You can stop this check by passing <code>limit: nil</code>, but note that it may take a long time to parse.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-rfc3339_source')" id="l_method-c-rfc3339_source">show</a>
                
              </p>
              <div id="method-c-rfc3339_source" class="dyn-source">
                <pre>static VALUE
datetime_s_rfc3339(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg, opt;

    rb_scan_args(argc, argv, &quot;02:&quot;, &amp;str, &amp;sg, &amp;opt);
    if (!NIL_P(opt)) argc--;

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;-4712-01-01T00:00:00+00:00&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        int argc2 = 1;
        VALUE argv2[2], hash;
        argv2[0] = str;
        argv2[1] = opt;
        if (!NIL_P(opt)) argc2++;
        hash = date_s__rfc3339(argc2, argv2, klass);
        return dt_new_by_frags(klass, hash, sg);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-rfc822">
            
              <b>DateTime.rfc2822(string='Mon, 1 Jan -4712 00:00:00 +0000'[, start=Date::ITALY], limit: 128)  &rarr;  datetime<br />DateTime.rfc822(string='Mon, 1 Jan -4712 00:00:00 +0000'[, start=Date::ITALY], limit: 128)   &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-rfc822" name="method-c-rfc822" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates a new <a href="DateTime.html"><code>DateTime</code></a> object by parsing from a string according to some typical RFC 2822 formats.</p>

<pre><code>DateTime.rfc2822(&#39;Sat, 3 Feb 2001 04:05:06 +0700&#39;)
                         #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
</code></pre>

<p>Raise an <a href="ArgumentError.html"><code>ArgumentError</code></a> when the string length is longer than <em>limit</em>. You can stop this check by passing <code>limit: nil</code>, but note that it may take a long time to parse.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-rfc822_source')" id="l_method-c-rfc822_source">show</a>
                
              </p>
              <div id="method-c-rfc822_source" class="dyn-source">
                <pre>static VALUE
datetime_s_rfc2822(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg, opt;

    rb_scan_args(argc, argv, &quot;02:&quot;, &amp;str, &amp;sg, &amp;opt);
    if (!NIL_P(opt)) argc--;

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;Mon, 1 Jan -4712 00:00:00 +0000&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        int argc2 = 1;
        VALUE argv2[2], hash;
        argv2[0] = str;
        argv2[1] = opt;
        if (!NIL_P(opt)) argc2++;
        hash = date_s__rfc2822(argc2, argv2, klass);
        return dt_new_by_frags(klass, hash, sg);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-strptime">
            
              <b>DateTime.strptime([string='-4712-01-01T00:00:00+00:00'[, format='%FT%T%z'[ ,start=Date::ITALY]]])  &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-strptime" name="method-c-strptime" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Parses the given representation of date and time with the given template, and creates a <a href="DateTime.html"><code>DateTime</code></a> object.  strptime does not support specification of flags and width unlike strftime.</p>

<pre><code>DateTime.strptime(&#39;2001-02-03T04:05:06+07:00&#39;, &#39;%Y-%m-%dT%H:%M:%S%z&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
DateTime.strptime(&#39;03-02-2001 04:05:06 PM&#39;, &#39;%d-%m-%Y %I:%M:%S %p&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T16:05:06+00:00 ...&gt;
DateTime.strptime(&#39;2001-W05-6T04:05:06+07:00&#39;, &#39;%G-W%V-%uT%H:%M:%S%z&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
DateTime.strptime(&#39;2001 04 6 04 05 06 +7&#39;, &#39;%Y %U %w %H %M %S %z&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
DateTime.strptime(&#39;2001 05 6 04 05 06 +7&#39;, &#39;%Y %W %u %H %M %S %z&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
DateTime.strptime(&#39;-1&#39;, &#39;%s&#39;)
                          #=&gt; #&lt;DateTime: 1969-12-31T23:59:59+00:00 ...&gt;
DateTime.strptime(&#39;-1000&#39;, &#39;%Q&#39;)
                          #=&gt; #&lt;DateTime: 1969-12-31T23:59:59+00:00 ...&gt;
DateTime.strptime(&#39;sat3feb014pm+7&#39;, &#39;%a%d%b%y%H%p%z&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T16:00:00+07:00 ...&gt;
</code></pre>

<p>See also strptime(3) and <a href="DateTime.html#method-i-strftime"><code>strftime</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-strptime_source')" id="l_method-c-strptime_source">show</a>
                
              </p>
              <div id="method-c-strptime_source" class="dyn-source">
                <pre>static VALUE
datetime_s_strptime(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, fmt, sg;

    rb_scan_args(argc, argv, &quot;03&quot;, &amp;str, &amp;fmt, &amp;sg);

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;-4712-01-01T00:00:00+00:00&quot;);
      case 1:
        fmt = rb_str_new2(&quot;%FT%T%z&quot;);
      case 2:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        VALUE argv2[2], hash;

        argv2[0] = str;
        argv2[1] = fmt;
        hash = date_s__strptime(2, argv2, klass);
        return dt_new_by_frags(klass, hash, sg);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-xmlschema">
            
              <b>DateTime.xmlschema(string='-4712-01-01T00:00:00+00:00'[, start=Date::ITALY], limit: 128)  &rarr;  datetime
</b>
            
            <a href="../classes/DateTime.html#method-c-xmlschema" name="method-c-xmlschema" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates a new <a href="DateTime.html"><code>DateTime</code></a> object by parsing from a string according to some typical XML Schema formats.</p>

<pre><code>DateTime.xmlschema(&#39;2001-02-03T04:05:06+07:00&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+07:00 ...&gt;
</code></pre>

<p>Raise an <a href="ArgumentError.html"><code>ArgumentError</code></a> when the string length is longer than <em>limit</em>. You can stop this check by passing <code>limit: nil</code>, but note that it may take a long time to parse.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-xmlschema_source')" id="l_method-c-xmlschema_source">show</a>
                
              </p>
              <div id="method-c-xmlschema_source" class="dyn-source">
                <pre>static VALUE
datetime_s_xmlschema(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg, opt;

    rb_scan_args(argc, argv, &quot;02:&quot;, &amp;str, &amp;sg, &amp;opt);
    if (!NIL_P(opt)) argc--;

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;-4712-01-01T00:00:00+00:00&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        int argc2 = 1;
        VALUE argv2[2], hash;
        argv2[0] = str;
        argv2[1] = opt;
        if (!NIL_P(opt)) argc2++;
        hash = date_s__xmlschema(argc2, argv2, klass);
        return dt_new_by_frags(klass, hash, sg);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
      
    
      <h2 class="sectiontitle">Instance Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-i-as_json">
            
              <b>as_json</b>(*)
            
            <a href="../classes/DateTime.html#method-i-as_json" name="method-i-as_json" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Methods <code>DateTime#as_json</code> and <code>DateTime.json_create</code> may be used to serialize and deserialize a DateTime object; see <a href="Marshal.html"><code>Marshal</code></a>.</p>

<p>Method <code>DateTime#as_json</code> serializes <code>self</code>, returning a 2-element hash representing <code>self</code>:</p>

<pre><code>require &#39;json/add/datetime&#39;
x = DateTime.now.as_json
# =&gt; {&quot;json_class&quot;=&gt;&quot;DateTime&quot;, &quot;y&quot;=&gt;2023, &quot;m&quot;=&gt;11, &quot;d&quot;=&gt;21, &quot;sg&quot;=&gt;2299161.0}
</code></pre>

<p>Method <code>JSON.create</code> deserializes such a hash, returning a DateTime object:</p>

<pre><code>DateTime.json_create(x) # BUG? Raises Date::Error &quot;invalid date&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-as_json_source')" id="l_method-i-as_json_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/ext/json/lib/json/add/date_time.rb#L39" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-as_json_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/ext/json/lib/json/add/date_time.rb, line 39</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">as_json</span>(<span class="ruby-operator">*</span>)
  {
    <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">create_id</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>,
    <span class="ruby-string">&#39;y&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">year</span>,
    <span class="ruby-string">&#39;m&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">month</span>,
    <span class="ruby-string">&#39;d&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">day</span>,
    <span class="ruby-string">&#39;H&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">hour</span>,
    <span class="ruby-string">&#39;M&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">min</span>,
    <span class="ruby-string">&#39;S&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">sec</span>,
    <span class="ruby-string">&#39;of&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">offset</span>.<span class="ruby-identifier">to_s</span>,
    <span class="ruby-string">&#39;sg&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">start</span>,
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-deconstruct_keys">
            
              <b>deconstruct_keys(array_of_names_or_nil) &rarr; hash
</b>
            
            <a href="../classes/DateTime.html#method-i-deconstruct_keys" name="method-i-deconstruct_keys" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a hash of the name/value pairs, to use in pattern matching. Possible keys are: <code>:year</code>, <code>:month</code>, <code>:day</code>, <code>:wday</code>, <code>:yday</code>, <code>:hour</code>, <code>:min</code>, <code>:sec</code>, <code>:sec_fraction</code>, <code>:zone</code>.</p>

<p>Possible usages:</p>

<pre><code>dt = DateTime.new(2022, 10, 5, 13, 30)

if d in wday: 1..5, hour: 10..18  # uses deconstruct_keys underneath
  puts &quot;Working time&quot;
end
#=&gt; prints &quot;Working time&quot;

case dt
in year: ...2022
  puts &quot;too old&quot;
in month: ..9
  puts &quot;quarter 1-3&quot;
in wday: 1..5, month:
  puts &quot;working day in month #{month}&quot;
end
#=&gt; prints &quot;working day in month 10&quot;
</code></pre>

<p>Note that deconstruction by pattern can also be combined with class check:</p>

<pre><code>if d in DateTime(wday: 1..5, hour: 10..18, day: ..7)
  puts &quot;Working time, first week of the month&quot;
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-deconstruct_keys_source')" id="l_method-i-deconstruct_keys_source">show</a>
                
              </p>
              <div id="method-i-deconstruct_keys_source" class="dyn-source">
                <pre>static VALUE
dt_lite_deconstruct_keys(VALUE self, VALUE keys)
{
    return deconstruct_keys(self, keys, /* is_datetime=true */ 1);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-hour">
            
              <b>hour &rarr; integer
</b>
            
            <a href="../classes/DateTime.html#method-i-hour" name="method-i-hour" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the hour in range (0..23):</p>

<pre><code>DateTime.new(2001, 2, 3, 4, 5, 6).hour # =&gt; 4
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-hour_source')" id="l_method-i-hour_source">show</a>
                
              </p>
              <div id="method-i-hour_source" class="dyn-source">
                <pre>static VALUE
d_lite_hour(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_hour(dat));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-iso8601">
            
              <b>dt.iso8601([n=0])    &rarr;  string</b>
            
            <a href="../classes/DateTime.html#method-i-iso8601" name="method-i-iso8601" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>This method is equivalent to strftime(‘%FT%T%:z’). The optional argument <code>n</code> is the number of digits for fractional seconds.</p>

<pre><code>DateTime.parse(&#39;2001-02-03T04:05:06.123456789+07:00&#39;).iso8601(9)
                          #=&gt; &quot;2001-02-03T04:05:06.123456789+07:00&quot;
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="DateTime.html#method-i-xmlschema">xmlschema</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-iso8601_source')" id="l_method-i-iso8601_source">show</a>
                
              </p>
              <div id="method-i-iso8601_source" class="dyn-source">
                <pre>static VALUE
dt_lite_iso8601(int argc, VALUE *argv, VALUE self)
{
    long n = 0;

    rb_check_arity(argc, 0, 1);
    if (argc &gt;= 1)
        n = NUM2LONG(argv[0]);

    return rb_str_append(strftimev(&quot;%Y-%m-%d&quot;, self, set_tmx),
                         iso8601_timediv(self, n));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-jisx0301">
            
              <b>dt.jisx0301([n=0])  &rarr;  string
</b>
            
            <a href="../classes/DateTime.html#method-i-jisx0301" name="method-i-jisx0301" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a string in a JIS X 0301 format. The optional argument <code>n</code> is the number of digits for fractional seconds.</p>

<pre><code>DateTime.parse(&#39;2001-02-03T04:05:06.123456789+07:00&#39;).jisx0301(9)
                          #=&gt; &quot;H13.02.03T04:05:06.123456789+07:00&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-jisx0301_source')" id="l_method-i-jisx0301_source">show</a>
                
              </p>
              <div id="method-i-jisx0301_source" class="dyn-source">
                <pre>static VALUE
dt_lite_jisx0301(int argc, VALUE *argv, VALUE self)
{
    long n = 0;

    rb_check_arity(argc, 0, 1);
    if (argc &gt;= 1)
        n = NUM2LONG(argv[0]);

    return rb_str_append(d_lite_jisx0301(self),
                         iso8601_timediv(self, n));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-min">
            
              <b>min &rarr; integer</b>
            
            <a href="../classes/DateTime.html#method-i-min" name="method-i-min" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the minute in range (0..59):</p>

<pre><code>DateTime.new(2001, 2, 3, 4, 5, 6).min # =&gt; 5
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="DateTime.html#method-i-minute">minute</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-min_source')" id="l_method-i-min_source">show</a>
                
              </p>
              <div id="method-i-min_source" class="dyn-source">
                <pre>static VALUE
d_lite_min(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_min(dat));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-minute">
            
              <b>minute</b>()
            
            <a href="../classes/DateTime.html#method-i-minute" name="method-i-minute" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the minute in range (0..59):</p>

<pre><code>DateTime.new(2001, 2, 3, 4, 5, 6).min # =&gt; 5
</code></pre>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="DateTime.html#method-i-min">min</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-new_offset">
            
              <b>d.new_offset([offset=0])  &rarr;  date
</b>
            
            <a href="../classes/DateTime.html#method-i-new_offset" name="method-i-new_offset" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Duplicates self and resets its offset.</p>

<pre><code>d = DateTime.new(2001,2,3,4,5,6,&#39;-02:00&#39;)
                          #=&gt; #&lt;DateTime: 2001-02-03T04:05:06-02:00 ...&gt;
d.new_offset(&#39;+09:00&#39;)    #=&gt; #&lt;DateTime: 2001-02-03T15:05:06+09:00 ...&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-new_offset_source')" id="l_method-i-new_offset_source">show</a>
                
              </p>
              <div id="method-i-new_offset_source" class="dyn-source">
                <pre>static VALUE
d_lite_new_offset(int argc, VALUE *argv, VALUE self)
{
    VALUE vof;
    int rof;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;vof);

    rof = 0;
    if (argc &gt;= 1)
        val2off(vof, rof);

    return dup_obj_with_new_offset(self, rof);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-offset">
            
              <b>d.offset  &rarr;  rational
</b>
            
            <a href="../classes/DateTime.html#method-i-offset" name="method-i-offset" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the offset.</p>

<pre><code>DateTime.parse(&#39;04pm+0730&#39;).offset        #=&gt; (5/16)
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-offset_source')" id="l_method-i-offset_source">show</a>
                
              </p>
              <div id="method-i-offset_source" class="dyn-source">
                <pre>static VALUE
d_lite_offset(VALUE self)
{
    get_d1(self);
    return m_of_in_day(dat);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-rfc3339">
            
              <b>dt.rfc3339([n=0])  &rarr;  string
</b>
            
            <a href="../classes/DateTime.html#method-i-rfc3339" name="method-i-rfc3339" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>This method is equivalent to strftime(‘%FT%T%:z’). The optional argument <code>n</code> is the number of digits for fractional seconds.</p>

<pre><code>DateTime.parse(&#39;2001-02-03T04:05:06.123456789+07:00&#39;).rfc3339(9)
                          #=&gt; &quot;2001-02-03T04:05:06.123456789+07:00&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-rfc3339_source')" id="l_method-i-rfc3339_source">show</a>
                
              </p>
              <div id="method-i-rfc3339_source" class="dyn-source">
                <pre>static VALUE
dt_lite_rfc3339(int argc, VALUE *argv, VALUE self)
{
    return dt_lite_iso8601(argc, argv, self);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-sec">
            
              <b>sec &rarr; integer</b>
            
            <a href="../classes/DateTime.html#method-i-sec" name="method-i-sec" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the second in range (0..59):</p>

<pre><code>DateTime.new(2001, 2, 3, 4, 5, 6).sec # =&gt; 6
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="DateTime.html#method-i-second">second</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-sec_source')" id="l_method-i-sec_source">show</a>
                
              </p>
              <div id="method-i-sec_source" class="dyn-source">
                <pre>static VALUE
d_lite_sec(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_sec(dat));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-sec_fraction">
            
              <b>sec_fraction &rarr; rational</b>
            
            <a href="../classes/DateTime.html#method-i-sec_fraction" name="method-i-sec_fraction" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the fractional part of the second in range (Rational(0, 1)…Rational(1, 1)):</p>

<pre><code>DateTime.new(2001, 2, 3, 4, 5, 6.5).sec_fraction # =&gt; (1/2)
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="DateTime.html#method-i-second_fraction">second_fraction</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-sec_fraction_source')" id="l_method-i-sec_fraction_source">show</a>
                
              </p>
              <div id="method-i-sec_fraction_source" class="dyn-source">
                <pre>static VALUE
d_lite_sec_fraction(VALUE self)
{
    get_d1(self);
    return m_sf_in_sec(dat);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-second">
            
              <b>second</b>()
            
            <a href="../classes/DateTime.html#method-i-second" name="method-i-second" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the second in range (0..59):</p>

<pre><code>DateTime.new(2001, 2, 3, 4, 5, 6).sec # =&gt; 6
</code></pre>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="DateTime.html#method-i-sec">sec</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-second_fraction">
            
              <b>second_fraction</b>()
            
            <a href="../classes/DateTime.html#method-i-second_fraction" name="method-i-second_fraction" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the fractional part of the second in range (Rational(0, 1)…Rational(1, 1)):</p>

<pre><code>DateTime.new(2001, 2, 3, 4, 5, 6.5).sec_fraction # =&gt; (1/2)
</code></pre>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="DateTime.html#method-i-sec_fraction">sec_fraction</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-strftime">
            
              <b>strftime(format = '%FT%T%:z') &rarr; string
</b>
            
            <a href="../classes/DateTime.html#method-i-strftime" name="method-i-strftime" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a string representation of <code>self</code>, formatted according the given +format:</p>

<pre><code>DateTime.now.strftime # =&gt; &quot;2022-07-01T11:03:19-05:00&quot;
</code></pre>

<p>For other formats, see <a href="../files/ruby/doc/strftime_formatting_rdoc.html">Formats for Dates and Times</a>:</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-strftime_source')" id="l_method-i-strftime_source">show</a>
                
              </p>
              <div id="method-i-strftime_source" class="dyn-source">
                <pre>static VALUE
dt_lite_strftime(int argc, VALUE *argv, VALUE self)
{
    return date_strftime_internal(argc, argv, self,
                                  &quot;%Y-%m-%dT%H:%M:%S%:z&quot;, set_tmx);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_date">
            
              <b>dt.to_date  &rarr;  date
</b>
            
            <a href="../classes/DateTime.html#method-i-to_date" name="method-i-to_date" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a <a href="Date.html"><code>Date</code></a> object which denotes self.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_date_source')" id="l_method-i-to_date_source">show</a>
                
              </p>
              <div id="method-i-to_date_source" class="dyn-source">
                <pre>static VALUE
datetime_to_date(VALUE self)
{
    get_d1a(self);

    if (simple_dat_p(adat)) {
        VALUE new = d_lite_s_alloc_simple(cDate);
        {
            get_d1b(new);
            bdat-&gt;s = adat-&gt;s;
            bdat-&gt;s.jd = m_local_jd(adat);
            return new;
        }
    }
    else {
        VALUE new = d_lite_s_alloc_simple(cDate);
        {
            get_d1b(new);
            copy_complex_to_simple(new, &amp;bdat-&gt;s, &amp;adat-&gt;c);
            bdat-&gt;s.jd = m_local_jd(adat);
            bdat-&gt;s.flags &amp;= ~(HAVE_DF | HAVE_TIME | COMPLEX_DAT);
            return new;
        }
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_datetime">
            
              <b>dt.to_datetime  &rarr;  self
</b>
            
            <a href="../classes/DateTime.html#method-i-to_datetime" name="method-i-to_datetime" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns self.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_datetime_source')" id="l_method-i-to_datetime_source">show</a>
                
              </p>
              <div id="method-i-to_datetime_source" class="dyn-source">
                <pre>static VALUE
datetime_to_datetime(VALUE self)
{
    return self;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_json">
            
              <b>to_json</b>(*args)
            
            <a href="../classes/DateTime.html#method-i-to_json" name="method-i-to_json" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a <a href="JSON.html"><code>JSON</code></a> string representing <code>self</code>:</p>

<pre><code>require &#39;json/add/datetime&#39;
puts DateTime.now.to_json
</code></pre>

<p>Output:</p>

<pre><code>{&quot;json_class&quot;:&quot;DateTime&quot;,&quot;y&quot;:2023,&quot;m&quot;:11,&quot;d&quot;:21,&quot;sg&quot;:2299161.0}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_json_source')" id="l_method-i-to_json_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/ext/json/lib/json/add/date_time.rb#L62" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_json_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/ext/json/lib/json/add/date_time.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">as_json</span>.<span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_s">
            
              <b>dt.to_s  &rarr;  string
</b>
            
            <a href="../classes/DateTime.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a string in an ISO 8601 format. (This method doesn’t use the expanded representations.)</p>

<pre><code>DateTime.new(2001,2,3,4,5,6,&#39;-7&#39;).to_s
                         #=&gt; &quot;2001-02-03T04:05:06-07:00&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre>static VALUE
dt_lite_to_s(VALUE self)
{
    return strftimev(&quot;%Y-%m-%dT%H:%M:%S%:z&quot;, self, set_tmx);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_time">
            
              <b>dt.to_time  &rarr;  time
</b>
            
            <a href="../classes/DateTime.html#method-i-to_time" name="method-i-to_time" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a <a href="Time.html"><code>Time</code></a> object which denotes self.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_time_source')" id="l_method-i-to_time_source">show</a>
                
              </p>
              <div id="method-i-to_time_source" class="dyn-source">
                <pre>static VALUE
datetime_to_time(VALUE self)
{
    get_d1(self);

    if (m_julian_p(dat)) {
        self = d_lite_gregorian(self);
        get_d1a(self);
        dat = adat;
    }

    {
        VALUE t;

        t = rb_funcall(rb_cTime,
                   rb_intern(&quot;new&quot;),
                   7,
                   m_real_year(dat),
                   INT2FIX(m_mon(dat)),
                   INT2FIX(m_mday(dat)),
                   INT2FIX(m_hour(dat)),
                   INT2FIX(m_min(dat)),
                   f_add(INT2FIX(m_sec(dat)),
                         m_sf_in_sec(dat)),
                   INT2FIX(m_of(dat)));
        return t;
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-xmlschema">
            
              <b>dt.xmlschema([n=0])  &rarr;  string</b>
            
            <a href="../classes/DateTime.html#method-i-xmlschema" name="method-i-xmlschema" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>This method is equivalent to strftime(‘%FT%T%:z’). The optional argument <code>n</code> is the number of digits for fractional seconds.</p>

<pre><code>DateTime.parse(&#39;2001-02-03T04:05:06.123456789+07:00&#39;).iso8601(9)
                          #=&gt; &quot;2001-02-03T04:05:06.123456789+07:00&quot;
</code></pre>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="DateTime.html#method-i-iso8601">iso8601</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-zone">
            
              <b>d.zone  &rarr;  string
</b>
            
            <a href="../classes/DateTime.html#method-i-zone" name="method-i-zone" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the timezone.</p>

<pre><code>DateTime.parse(&#39;04pm+0730&#39;).zone          #=&gt; &quot;+07:30&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-zone_source')" id="l_method-i-zone_source">show</a>
                
              </p>
              <div id="method-i-zone_source" class="dyn-source">
                <pre>static VALUE
d_lite_zone(VALUE self)
{
    get_d1(self);
    return m_zone(dat);
}</pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </main>
  </body>
</html>
