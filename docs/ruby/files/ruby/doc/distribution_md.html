<!DOCTYPE html>
<html lang="en">
<head>
    <title>distribution.md</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='[]'>

</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            distribution.md
        </h2>
        <ul class="files">
            
            <li>
                ruby/doc/distribution.md
                
                    <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/doc/distribution.md" target="_blank" class="github_url">on GitHub</a>
                
            </li>
            <li>Last modified: 2024-05-24 23:57:53 +0300</li>
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="label-Distribution">Distribution</h1>

<p>This document outlines the expected way to distribute Ruby, with a specific focus on building Ruby packages.</p>

<h2 id="label-Getting+the+Ruby+Tarball">Getting the Ruby Tarball</h2>

<h3 id="label-Official+Releases">Official Releases</h3>

<p>The tarball for official releases is created by the release manager. The release manager uploads the tarball to the <a href="https://www.ruby-lang.org/en/downloads/">Ruby website</a>.</p>

<p>Downstream distributors should use the official release tarballs as part of their build process. This ensures that the tarball is created in a consistent way, and that the tarball is crytographically verified.</p>

<h3 id="label-Using+the+nightly+tarball+for+testing">Using the nightly tarball for testing</h3>

<p>See the Snapshots section of the <a href="https://www.ruby-lang.org/en/downloads/">Ruby website</a>.</p>

<h3 id="label-Building+a+manual+snapshot+tarball+for+testing">Building a manual snapshot tarball for testing</h3>

<p>This can be useful if the nightly tarball does not have all changes yet.</p>

<p>At Ruby source tree cloned using git:</p>

<pre><code>$ ./autogen.sh
$ ./configure -C
$ make
$ make dist
</code></pre>

<p>This will create several tarball in the <code>tmp</code> directory. The tarball will be named e.g. <code>ruby-&lt;version&gt;.tar.gz</code> (several different compression formats will be generated).</p>

<h2 id="label-Building+the+Tarball">Building the Tarball</h2>

<p>See <a href="contributing/building_ruby_md.html">Building Ruby</a>.</p>

<h2 id="label-Updating+the+Ruby+Standard+Library">Updating the Ruby Standard Library</h2>

<p>The Ruby standard library is a collection of Ruby files that are included with Ruby. These files are used to provide the basic functionality of Ruby. The standard library is located in the <code>lib</code> directory and is distributed as part of the Ruby tarball.</p>

<p>Occasionally, the standard library needs to be updated, for example a security issue might be found in a default gem or standard gem. There are two main ways that Ruby would update this code.</p>

<h3 id="label-Releasing+an+Updated+Ruby+Gem">Releasing an Updated Ruby Gem</h3>

<p>Normally, the Ruby gem maintainer will release an updated gem. This gem can be installed alongside the default gem. This allows the user to update the gem without having to update Ruby.</p>

<h3 id="label-Releasing+a+New+Ruby+Version">Releasing a New Ruby Version</h3>

<p>If the update is critical, then the Ruby maintainers may decide to release a new version of Ruby. This new version will include the updated standard library.</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </main>
  </body>
</html>
