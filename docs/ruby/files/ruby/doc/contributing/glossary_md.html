<!DOCTYPE html>
<html lang="en">
<head>
    <title>glossary.md</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='[]'>

</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            glossary.md
        </h2>
        <ul class="files">
            
            <li>
                ruby/doc/contributing/glossary.md
                
                    <a href="https://github.com/ruby/ruby/blob/7b55c452b7d9a295d148ff882e0197cd139a9f8f/doc/contributing/glossary.md" target="_blank" class="github_url">on GitHub</a>
                
            </li>
            <li>Last modified: 2024-05-24 23:57:53 +0300</li>
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="label-Ruby+Internals+Glossary">Ruby Internals Glossary</h1>

<p>Just a list of acronyms I’ve run across in the Ruby source code and their meanings.</p>

<p>| Term | Definition | | — | ———–| | <code>BIN</code> | Basic Instruction Name. Used as a macro to reference the YARV instruction. Converts pop into YARVINSN_pop. | | <code>bop</code> | Basic Operator. Relates to methods like <code>Integer</code> plus and minus which can be optimized as long as they haven’t been redefined. | | <code>cc</code> | Call Cache. An inline cache structure for the call site. Stored in the <code>cd</code> | | <code>cd</code> | Call <a href="../../../../classes/Data.html"><code>Data</code></a>. A data structure that points at the <code>ci</code> and the <code>cc</code>. <code>iseq</code> objects points at the <code>cd</code>, and access call information and call caches via this structure | | <code>cfp</code>| Control Frame Pointer. Represents a Ruby stack frame. Calling a method pushes a new frame (cfp), returning pops a frame. Points at the <code>pc</code>, <code>sp</code>, <code>ep</code>, and the corresponding <code>iseq</code>| | <code>ci</code> | Call Information. Refers to an <code>rb_callinfo</code> struct. Contains call information about the call site, including number of parameters to be passed, whether it they are keyword arguments or not, etc. Used in conjunction with the <code>cc</code> and <code>cd</code>. | | <code>cref</code> | <a href="../../../../classes/Class.html"><code>Class</code></a> reference. A structure pointing to the class reference where <code>klass_or_self</code>, visibility scope, and refinements are stored. It also stores a pointer to the next class in the hierarchy referenced by <code>rb_cref_struct * next</code>. The <a href="../../../../classes/Class.html"><code>Class</code></a> reference is lexically scoped. | | CRuby | Implementation of Ruby written in C | | <code>cvar</code> | <a href="../../../../classes/Class.html"><code>Class</code></a> Variable. Refers to a Ruby class variable like <code>@@foo</code> | | <code>dvar</code> | Dynamic Variable. Used by the parser to refer to local variables that are defined outside of the current lexical scope. For example <code>def foo; bar = 1; -&gt; { p bar }; end</code> the “bar” inside the block is a <code>dvar</code> | | <code>ec</code> | Execution Context. The top level VM context, points at the current <code>cfp</code> | | <code>ep</code> | Environment Pointer. Local variables, including method parameters are stored in the <code>ep</code> array. The <code>ep</code> is pointed to by the <code>cfp</code> | | <a href="../../../../classes/GC.html"><code>GC</code></a> | Garbage Collector | | <code>gvar</code> | Global Variable. Refers to a Ruby global variable like <code>$$</code>, etc | | <code>ICLASS</code> | Internal <a href="../../../../classes/Class.html"><code>Class</code></a>. When a module is included, the target class gets a new superclass which is an instance of an <code>ICLASS</code>. The <code>ICLASS</code> represents the module in the inheritance chain. | | <code>ifunc</code> | Internal FUNCtion. A block implemented in C. | | <code>iseq</code> | Instruction Sequence. Usually “iseq” in the C code will refer to an <code>rb_iseq_t</code> object that holds a reference to the actual instruction sequences which are executed by the VM. The object also holds information about the code, like the method name associated with the code. | | <code>insn</code> | Instruction. Refers to a YARV instruction. | | <code>insns</code> | Instructions. Usually an array of YARV instructions. | | <code>ivar</code> | Instance Variable. Refers to a Ruby instance variable like <code>@foo</code> | | <code>imemo</code> | Internal Memo. A tagged struct whose memory is managed by Ruby’s <a href="../../../../classes/GC.html"><code>GC</code></a>, but contains internal information and isn’t meant to be exposed to Ruby programs. Contains various information depending on the type. See the <code>imemo_type</code> enum for different types. | | JIT | Just In <a href="../../../../classes/Time.html"><code>Time</code></a> compiler | | <code>lep</code> | Local Environment Pointer. An <code>ep</code> which is tagged <code>VM_ENV_FLAG_LOCAL</code>. Usually this is the <code>ep</code> of a method (rather than a block, whose <code>ep</code> isn’t “local”) | | <code>local</code> | Local. Refers to a local variable. | | <code>me</code> | <a href="../../../../classes/Method.html"><code>Method</code></a> Entry. Refers to an <code>rb_method_entry_t</code> struct, the internal representation of a Ruby method. | MRI | Matz’s Ruby Implementation | | <code>pc</code> | Program Counter. Usually the instruction that will be executed <em>next</em> by the VM. Pointed to by the <code>cfp</code> and incremented by the VM | | <code>sp</code> | Stack Pointer. The top of the stack. The VM executes instructions in the <code>iseq</code> and instructions will push and pop values on the stack. The VM updates the <code>sp</code> on the <code>cfp</code> to point at the top of the stack| | <code>svar</code> | Special Variable. Refers to special local variables like <code>$~</code> and <code>$_</code>. See the <code>getspecial</code> instruction in <code>insns.def</code> | | <code>VALUE</code> | VALUE is a pointer to a ruby object from the Ruby C code. | | VM | Virtual Machine. In MRI’s case YARV (Yet Another Ruby VM) | WB | Write Barrier. To do with <a href="../../../../classes/GC.html"><code>GC</code></a> write barriers | | WC | Wild Card. As seen in instructions like <code>getlocal_WC_0</code>. It means this instruction takes a “wild card” for the parameter (in this case an index for a local) | | YARV | Yet Another Ruby VM. The virtual machine that CRuby uses | | ZOMBIE | A zombie object. An object that has a finalizer which hasn’t been executed yet. The object has been collected, so is “dead”, but the finalizer hasn’t run yet so it’s still somewhat alive. |</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </main>
  </body>
</html>
