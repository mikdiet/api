<!DOCTYPE html>
<html lang="en">
<head>
    <title>URI</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='["URI"]'>


    <meta property="og:title" value="URI">

  
    
    <meta name="description" content="URI is a module providing classes to handle Uniform Resource Identifiers (RFC2396).  Features  Uniform way of handling URIs.  Flexibility to introduce custom URI schemes.">
    <meta property="og:description" content="URI is a module providing classes to handle Uniform Resource Identifiers (RFC2396).  Features  Uniform way of handling URIs.  Flexibility to introduce custom URI schemes.">
  

    <meta name="keywords" content="URI class, open, scheme_list, split, parse, join, extract, regexp, encode_www_form_component, decode_www_form_component, encode_www_form, decode_www_form">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Module</span>
            URI
            
        </h2>
        <ul class="files">
            
            <li><a href="../files/ruby/lib/open-uri_rb.html">ruby/lib/open-uri.rb</a></li>
            
            <li><a href="../files/ruby/lib/rss/parser_rb.html">ruby/lib/rss/parser.rb</a></li>
            
            <li><a href="../files/ruby/lib/rubygems/local_remote_options_rb.html">ruby/lib/rubygems/local_remote_options.rb</a></li>
            
            <li><a href="../files/ruby/lib/rubygems/request_rb.html">ruby/lib/rubygems/request.rb</a></li>
            
            <li><a href="../files/ruby/lib/rubygems/server_rb.html">ruby/lib/rubygems/server.rb</a></li>
            
            <li><a href="../files/ruby/lib/rubygems/specification_policy_rb.html">ruby/lib/rubygems/specification_policy.rb</a></li>
            
            <li><a href="../files/ruby/lib/rubygems/uri_parser_rb.html">ruby/lib/rubygems/uri_parser.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri_rb.html">ruby/lib/uri.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri/common_rb.html">ruby/lib/uri/common.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri/file_rb.html">ruby/lib/uri/file.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri/ftp_rb.html">ruby/lib/uri/ftp.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri/generic_rb.html">ruby/lib/uri/generic.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri/http_rb.html">ruby/lib/uri/http.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri/https_rb.html">ruby/lib/uri/https.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri/ldap_rb.html">ruby/lib/uri/ldap.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri/ldaps_rb.html">ruby/lib/uri/ldaps.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri/mailto_rb.html">ruby/lib/uri/mailto.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri/rfc2396_parser_rb.html">ruby/lib/uri/rfc2396_parser.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri/rfc3986_parser_rb.html">ruby/lib/uri/rfc3986_parser.rb</a></li>
            
            <li><a href="../files/ruby/lib/uri/version_rb.html">ruby/lib/uri/version.rb</a></li>
            
            <li><a href="../files/ruby/lib/webrick/httprequest_rb.html">ruby/lib/webrick/httprequest.rb</a></li>
            
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p><a href="URI.html"><code>URI</code></a> is a module providing classes to handle Uniform Resource Identifiers (<a href="http://tools.ietf.org/html/rfc2396">RFC2396</a>).</p>

<h2 id="module-URI-label-Features">Features</h2>
<ul><li>
<p>Uniform way of handling URIs.</p>
</li><li>
<p>Flexibility to introduce custom <a href="URI.html"><code>URI</code></a> schemes.</p>
</li><li>
<p>Flexibility to have an alternate <a href="URI/RFC2396_Parser.html"><code>URI::Parser</code></a> (or just different patterns and regexp’s).</p>
</li></ul>

<h2 id="module-URI-label-Basic+example">Basic example</h2>

<pre><code>require &#39;uri&#39;

uri = URI(&quot;http://foo.com/posts?id=30&amp;limit=5#time=1305298413&quot;)
#=&gt; #&lt;URI::HTTP http://foo.com/posts?id=30&amp;limit=5#time=1305298413&gt;

uri.scheme    #=&gt; &quot;http&quot;
uri.host      #=&gt; &quot;foo.com&quot;
uri.path      #=&gt; &quot;/posts&quot;
uri.query     #=&gt; &quot;id=30&amp;limit=5&quot;
uri.fragment  #=&gt; &quot;time=1305298413&quot;

uri.to_s      #=&gt; &quot;http://foo.com/posts?id=30&amp;limit=5#time=1305298413&quot;
</code></pre>

<h2 id="module-URI-label-Adding+custom+URIs">Adding custom URIs</h2>

<pre><code>module URI
  class RSYNC &lt; Generic
    DEFAULT_PORT = 873
  end
  @@schemes[&#39;RSYNC&#39;] = RSYNC
end
#=&gt; URI::RSYNC

URI.scheme_list
#=&gt; {&quot;FILE&quot;=&gt;URI::File, &quot;FTP&quot;=&gt;URI::FTP, &quot;HTTP&quot;=&gt;URI::HTTP,
#    &quot;HTTPS&quot;=&gt;URI::HTTPS, &quot;LDAP&quot;=&gt;URI::LDAP, &quot;LDAPS&quot;=&gt;URI::LDAPS,
#    &quot;MAILTO&quot;=&gt;URI::MailTo, &quot;RSYNC&quot;=&gt;URI::RSYNC}

uri = URI(&quot;rsync://rsync.foo.com&quot;)
#=&gt; #&lt;URI::RSYNC rsync://rsync.foo.com&gt;
</code></pre>

<h2 id="module-URI-label-RFC+References">RFC References</h2>

<p>A good place to view an RFC spec is <a href="http://www.ietf.org/rfc.html">www.ietf.org/rfc.html</a>.</p>

<p>Here is a list of all related RFC’s:</p>
<ul><li>
<p><a href="http://tools.ietf.org/html/rfc822">RFC822</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc1738">RFC1738</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc2255">RFC2255</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc2368">RFC2368</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc2373">RFC2373</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc2396">RFC2396</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc2732">RFC2732</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc3986">RFC3986</a></p>
</li></ul>

<h2 id="module-URI-label-Class+tree"><a href="Class.html"><code>Class</code></a> tree</h2>
<ul><li>
<p><a href="URI/Generic.html"><code>URI::Generic</code></a> (in uri/generic.rb)</p>
<ul><li>
<p><a href="URI/File.html"><code>URI::File</code></a> - (in uri/file.rb)</p>
</li><li>
<p><a href="URI/FTP.html"><code>URI::FTP</code></a> - (in uri/ftp.rb)</p>
</li><li>
<p><a href="URI/HTTP.html"><code>URI::HTTP</code></a> - (in uri/http.rb)</p>
<ul><li>
<p><a href="URI/HTTPS.html"><code>URI::HTTPS</code></a> - (in uri/https.rb)</p>
</li></ul>
</li><li>
<p><a href="URI/LDAP.html"><code>URI::LDAP</code></a> - (in uri/ldap.rb)</p>
<ul><li>
<p><a href="URI/LDAPS.html"><code>URI::LDAPS</code></a> - (in uri/ldaps.rb)</p>
</li></ul>
</li><li>
<p><a href="URI/MailTo.html"><code>URI::MailTo</code></a> - (in uri/mailto.rb)</p>
</li></ul>
</li><li>
<p><a href="URI/RFC2396_Parser.html"><code>URI::Parser</code></a> - (in uri/common.rb)</p>
</li><li>
<p><a href="URI/RFC2396_REGEXP.html"><code>URI::REGEXP</code></a> - (in uri/common.rb)</p>
<ul><li>
<p>URI::REGEXP::PATTERN - (in uri/common.rb)</p>
</li></ul>
</li><li>
<p>URI::Util - (in uri/common.rb)</p>
</li><li>
<p><a href="URI/Escape.html"><code>URI::Escape</code></a> - (in uri/common.rb)</p>
</li><li>
<p><a href="URI/Error.html"><code>URI::Error</code></a> - (in uri/common.rb)</p>
<ul><li>
<p><a href="URI/InvalidURIError.html"><code>URI::InvalidURIError</code></a> - (in uri/common.rb)</p>
</li><li>
<p><a href="URI/InvalidComponentError.html"><code>URI::InvalidComponentError</code></a> - (in uri/common.rb)</p>
</li><li>
<p><a href="URI/BadURIError.html"><code>URI::BadURIError</code></a> - (in uri/common.rb)</p>
</li></ul>
</li></ul>

<h2 id="module-URI-label-Copyright+Info">Copyright Info</h2>
<dl class="rdoc-list note-list"><dt>Author
<dd>
<p>Akira Yamada &lt;akira@ruby-lang.org&gt;</p>
</dd><dt>Documentation
<dd>
<p>Akira Yamada &lt;akira@ruby-lang.org&gt; Dmitry V. Sabanin &lt;sdmitry@lrn.ru&gt; Vincent Batts &lt;vbatts@hashbangbash.com&gt;</p>
</dd><dt>License
<dd>
<p>Copyright © 2001 akira yamada &lt;akira@ruby-lang.org&gt; You can redistribute it and/or modify it under the same term as Ruby.</p>
</dd><dt>Revision
<dd>
<p>$Id$</p>
</dd></dl>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">MODULE</span>
          <a href="URI/Escape.html">URI::Escape</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="URI/RFC2396_REGEXP.html">URI::REGEXP</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="URI/RFC2396_REGEXP.html">URI::RFC2396_REGEXP</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/BadURIError.html">URI::BadURIError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/Error.html">URI::Error</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/FTP.html">URI::FTP</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/File.html">URI::File</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/Generic.html">URI::Generic</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/HTTP.html">URI::HTTP</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/HTTPS.html">URI::HTTPS</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/InvalidComponentError.html">URI::InvalidComponentError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/InvalidURIError.html">URI::InvalidURIError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/LDAP.html">URI::LDAP</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/LDAPS.html">URI::LDAPS</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/MailTo.html">URI::MailTo</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/RFC2396_Parser.html">URI::Parser</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="URI/RFC2396_Parser.html">URI::RFC2396_Parser</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-decode_www_form">decode_www_form</a>,
              </li>
            
              
              <li>
                <a href="#method-c-decode_www_form_component">decode_www_form_component</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-encode_www_form">encode_www_form</a>,
              </li>
            
              
              <li>
                <a href="#method-c-encode_www_form_component">encode_www_form_component</a>,
              </li>
            
              
              <li>
                <a href="#method-c-extract">extract</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>J</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-join">join</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>O</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-open">open</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-parse">parse</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-regexp">regexp</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-scheme_list">scheme_list</a>,
              </li>
            
              
              <li>
                <a href="#method-c-split">split</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="URI/REGEXP.html">
              URI::REGEXP
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    
      <!-- Section constants -->
      <h2 class="sectiontitle">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">DEFAULT_PARSER</td>
            <td>=</td>
            <td class="attr-value">Parser.new</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p><a href="URI/RFC2396_Parser.html#method-c-new"><code>URI::Parser.new</code></a></p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">Parser</td>
            <td>=</td>
            <td class="attr-value">RFC2396_Parser</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">REGEXP</td>
            <td>=</td>
            <td class="attr-value">RFC2396_REGEXP</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">RFC3986_PARSER</td>
            <td>=</td>
            <td class="attr-value">RFC3986_Parser.new</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
    
      <h2 class="sectiontitle">Class Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-c-decode_www_form">
            
              <b>decode_www_form</b>(str, enc=Encoding::UTF_8, separator: &#39;&amp;&#39;, use__charset_: false, isindex: false)
            
            <a href="../classes/URI.html#method-c-decode_www_form" name="method-c-decode_www_form" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Decodes URL-encoded form data from given <code>str</code>.</p>

<p>This decodes application/x-www-form-urlencoded data and returns an array of key-value arrays.</p>

<p>This refers <a href="http://url.spec.whatwg.org/#concept-urlencoded-parser">url.spec.whatwg.org/#concept-urlencoded-parser</a>, so this supports only &amp;-separator, and doesn’t support ;-separator.</p>

<pre><code>ary = URI.decode_www_form(&quot;a=1&amp;a=2&amp;b=3&quot;)
ary                   #=&gt; [[&#39;a&#39;, &#39;1&#39;], [&#39;a&#39;, &#39;2&#39;], [&#39;b&#39;, &#39;3&#39;]]
ary.assoc(&#39;a&#39;).last   #=&gt; &#39;1&#39;
ary.assoc(&#39;b&#39;).last   #=&gt; &#39;3&#39;
ary.rassoc(&#39;a&#39;).last  #=&gt; &#39;2&#39;
Hash[ary]             #=&gt; {&quot;a&quot;=&gt;&quot;2&quot;, &quot;b&quot;=&gt;&quot;3&quot;}
</code></pre>

<p>See <a href="URI.html#method-c-decode_www_form_component"><code>URI.decode_www_form_component</code></a>, <a href="URI.html#method-c-encode_www_form"><code>URI.encode_www_form</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-decode_www_form_source')" id="l_method-c-decode_www_form_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/uri/common.rb#L454" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-decode_www_form_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/common.rb, line 454</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">decode_www_form</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">enc</span>=<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_8</span>, <span class="ruby-value">separator:</span> <span class="ruby-string">&#39;&amp;&#39;</span>, <span class="ruby-value">use__charset_:</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">isindex:</span> <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;the input of #{self.name}.#{__method__} must be ASCII only string&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">ascii_only?</span>
  <span class="ruby-identifier">ary</span> = []
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ary</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">enc</span> = <span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">enc</span>)
  <span class="ruby-identifier">str</span>.<span class="ruby-identifier">b</span>.<span class="ruby-identifier">each_line</span>(<span class="ruby-identifier">separator</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">string</span>.<span class="ruby-identifier">chomp!</span>(<span class="ruby-identifier">separator</span>)
    <span class="ruby-identifier">key</span>, <span class="ruby-identifier">sep</span>, <span class="ruby-identifier">val</span> = <span class="ruby-identifier">string</span>.<span class="ruby-identifier">partition</span>(<span class="ruby-string">&#39;=&#39;</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">isindex</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">sep</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-identifier">val</span> = <span class="ruby-identifier">key</span>
        <span class="ruby-identifier">key</span> = <span class="ruby-string">+&#39;&#39;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">isindex</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">use__charset_</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;_charset_&#39;</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">e</span> = <span class="ruby-identifier">get_encoding</span>(<span class="ruby-identifier">val</span>)
      <span class="ruby-identifier">enc</span> = <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">use__charset_</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">key</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/\+|%\h\h/</span>, <span class="ruby-constant">TBLDECWWWCOMP_</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">val</span>
      <span class="ruby-identifier">val</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/\+|%\h\h/</span>, <span class="ruby-constant">TBLDECWWWCOMP_</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">val</span> = <span class="ruby-string">+&#39;&#39;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">ary</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span>]
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ary</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">k</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">enc</span>)
    <span class="ruby-identifier">k</span>.<span class="ruby-identifier">scrub!</span>
    <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">enc</span>)
    <span class="ruby-identifier">v</span>.<span class="ruby-identifier">scrub!</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ary</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-decode_www_form_component">
            
              <b>decode_www_form_component</b>(str, enc=Encoding::UTF_8)
            
            <a href="../classes/URI.html#method-c-decode_www_form_component" name="method-c-decode_www_form_component" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Decodes given <code>str</code> of URL-encoded form data.</p>

<p>This decodes + to SP.</p>

<p>See <a href="URI.html#method-c-encode_www_form_component"><code>URI.encode_www_form_component</code></a>, <a href="URI.html#method-c-decode_www_form"><code>URI.decode_www_form</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-decode_www_form_component_source')" id="l_method-c-decode_www_form_component_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/uri/common.rb#L386" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-decode_www_form_component_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/common.rb, line 386</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">decode_www_form_component</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">enc</span>=<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_8</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;invalid %-encoding (#{str})&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-regexp">/%(?!\h\h)/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">str</span>
  <span class="ruby-identifier">str</span>.<span class="ruby-identifier">b</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\+|%\h\h/</span>, <span class="ruby-constant">TBLDECWWWCOMP_</span>).<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">enc</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-encode_www_form">
            
              <b>encode_www_form</b>(enum, enc=nil)
            
            <a href="../classes/URI.html#method-c-encode_www_form" name="method-c-encode_www_form" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Generates URL-encoded form data from given <code>enum</code>.</p>

<p>This generates application/x-www-form-urlencoded data defined in HTML5 from given an <a href="Enumerable.html"><code>Enumerable</code></a> object.</p>

<p>This internally uses <a href="URI.html#method-c-encode_www_form_component"><code>URI.encode_www_form_component(str)</code></a>.</p>

<p>This method doesn’t convert the encoding of given items, so convert them before calling this method if you want to send data as other than original encoding or mixed encoding data. (Strings which are encoded in an HTML5 ASCII incompatible encoding are converted to UTF-8.)</p>

<p>This method doesn’t handle files.  When you send a file, use multipart/form-data.</p>

<p>This refers <a href="http://url.spec.whatwg.org/#concept-urlencoded-serializer">url.spec.whatwg.org/#concept-urlencoded-serializer</a></p>

<pre><code>URI.encode_www_form([[&quot;q&quot;, &quot;ruby&quot;], [&quot;lang&quot;, &quot;en&quot;]])
#=&gt; &quot;q=ruby&amp;lang=en&quot;
URI.encode_www_form(&quot;q&quot; =&gt; &quot;ruby&quot;, &quot;lang&quot; =&gt; &quot;en&quot;)
#=&gt; &quot;q=ruby&amp;lang=en&quot;
URI.encode_www_form(&quot;q&quot; =&gt; [&quot;ruby&quot;, &quot;perl&quot;], &quot;lang&quot; =&gt; &quot;en&quot;)
#=&gt; &quot;q=ruby&amp;q=perl&amp;lang=en&quot;
URI.encode_www_form([[&quot;q&quot;, &quot;ruby&quot;], [&quot;q&quot;, &quot;perl&quot;], [&quot;lang&quot;, &quot;en&quot;]])
#=&gt; &quot;q=ruby&amp;q=perl&amp;lang=en&quot;
</code></pre>

<p>See <a href="URI.html#method-c-encode_www_form_component"><code>URI.encode_www_form_component</code></a>, <a href="URI.html#method-c-decode_www_form"><code>URI.decode_www_form</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-encode_www_form_source')" id="l_method-c-encode_www_form_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/uri/common.rb#L418" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-encode_www_form_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/common.rb, line 418</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">encode_www_form</span>(<span class="ruby-identifier">enum</span>, <span class="ruby-identifier">enc</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">encode_www_form_component</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">enc</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:to_ary</span>)
      <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_ary</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">str</span> = <span class="ruby-identifier">encode_www_form_component</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">enc</span>)
        <span class="ruby-keyword">unless</span> <span class="ruby-identifier">w</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;=&#39;</span>
          <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">encode_www_form_component</span>(<span class="ruby-identifier">w</span>, <span class="ruby-identifier">enc</span>)
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;&amp;&#39;</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">str</span> = <span class="ruby-identifier">encode_www_form_component</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">enc</span>)
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;=&#39;</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">encode_www_form_component</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">enc</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;&amp;&#39;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-encode_www_form_component">
            
              <b>encode_www_form_component</b>(str, enc=nil)
            
            <a href="../classes/URI.html#method-c-encode_www_form_component" name="method-c-encode_www_form_component" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Encodes given <code>str</code> to URL-encoded form data.</p>

<p>This method doesn’t convert *, -, ., 0-9, A-Z, _, a-z, but does convert SP (ASCII space) to + and converts others to %XX.</p>

<p>If <code>enc</code> is given, convert <code>str</code> to the encoding before percent encoding.</p>

<p>This is an implementation of <a href="http://www.w3.org/TR/2013/CR-html5-20130806/forms.html#url-encoded-form-data">www.w3.org/TR/2013/CR-html5-20130806/forms.html#url-encoded-form-data</a>.</p>

<p>See <a href="URI.html#method-c-decode_www_form_component"><code>URI.decode_www_form_component</code></a>, <a href="URI.html#method-c-encode_www_form"><code>URI.encode_www_form</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-encode_www_form_component_source')" id="l_method-c-encode_www_form_component_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/uri/common.rb#L368" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-encode_www_form_component_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/common.rb, line 368</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">encode_www_form_component</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">enc</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">str</span> = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">encoding</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">ASCII_8BIT</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">enc</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">enc</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">ASCII_8BIT</span>
      <span class="ruby-identifier">str</span>.<span class="ruby-identifier">encode!</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_8</span>, <span class="ruby-value">invalid:</span> <span class="ruby-value">:replace</span>, <span class="ruby-value">undef:</span> <span class="ruby-value">:replace</span>)
      <span class="ruby-identifier">str</span>.<span class="ruby-identifier">encode!</span>(<span class="ruby-identifier">enc</span>, <span class="ruby-value">fallback:</span> <span class="ruby-operator">-&gt;</span>(<span class="ruby-identifier">x</span>){<span class="ruby-node">&quot;&amp;##{x.ord};&quot;</span>})
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">ASCII_8BIT</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">str</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/[^*\-.0-9A-Z_a-z]/</span>, <span class="ruby-constant">TBLENCWWWCOMP_</span>)
  <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">US_ASCII</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-extract">
            
              <b>extract</b>(str, schemes = nil, &amp;block)
            
            <a href="../classes/URI.html#method-c-extract" name="method-c-extract" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-c-extract-label-Synopsis">Synopsis</h2>

<pre><code>URI::extract(str[, schemes][,&amp;blk])
</code></pre>

<h2 id="method-c-extract-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>str</code>
<dd>
<p><a href="String.html"><code>String</code></a> to extract URIs from.</p>
</dd><dt><code>schemes</code>
<dd>
<p>Limit <a href="URI.html"><code>URI</code></a> matching to specific schemes.</p>
</dd></dl>

<h2 id="method-c-extract-label-Description">Description</h2>

<p>Extracts URIs from a string. If block given, iterates through all matched URIs. Returns nil if block given or array with matches.</p>

<h2 id="method-c-extract-label-Usage">Usage</h2>

<pre><code>require &quot;uri&quot;

URI.extract(&quot;text here http://foo.example.org/bla and here mailto:test@example.com and here also.&quot;)
# =&gt; [&quot;http://foo.example.com/bla&quot;, &quot;mailto:test@example.com&quot;]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-extract_source')" id="l_method-c-extract_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/uri/common.rb#L298" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-extract_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/common.rb, line 298</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">extract</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">schemes</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">warn</span> <span class="ruby-string">&quot;URI.extract is obsolete&quot;</span>, <span class="ruby-value">uplevel:</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
  <span class="ruby-constant">DEFAULT_PARSER</span>.<span class="ruby-identifier">extract</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">schemes</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-join">
            
              <b>join</b>(*str)
            
            <a href="../classes/URI.html#method-c-join" name="method-c-join" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-c-join-label-Synopsis">Synopsis</h2>

<pre><code>URI::join(str[, str, ...])
</code></pre>

<h2 id="method-c-join-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>str</code>
<dd>
<p>String(s) to work with, will be converted to RFC3986 URIs before merging.</p>
</dd></dl>

<h2 id="method-c-join-label-Description">Description</h2>

<p>Joins URIs.</p>

<h2 id="method-c-join-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

URI.join(&quot;http://example.com/&quot;,&quot;main.rbx&quot;)
# =&gt; #&lt;URI::HTTP http://example.com/main.rbx&gt;

URI.join(&#39;http://example.com&#39;, &#39;foo&#39;)
# =&gt; #&lt;URI::HTTP http://example.com/foo&gt;

URI.join(&#39;http://example.com&#39;, &#39;/foo&#39;, &#39;/bar&#39;)
# =&gt; #&lt;URI::HTTP http://example.com/bar&gt;

URI.join(&#39;http://example.com&#39;, &#39;/foo&#39;, &#39;bar&#39;)
# =&gt; #&lt;URI::HTTP http://example.com/bar&gt;

URI.join(&#39;http://example.com&#39;, &#39;/foo/&#39;, &#39;bar&#39;)
# =&gt; #&lt;URI::HTTP http://example.com/foo/bar&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-join_source')" id="l_method-c-join_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/uri/common.rb#L270" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-join_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/common.rb, line 270</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">join</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">str</span>)
  <span class="ruby-constant">RFC3986_PARSER</span>.<span class="ruby-identifier">join</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">str</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-open">
            
              <b>open</b>(name, *rest, &amp;block)
            
            <a href="../classes/URI.html#method-c-open" name="method-c-open" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Allows the opening of various resources including URIs.</p>

<p>If the first argument responds to the ‘open’ method, ‘open’ is called on it with the rest of the arguments.</p>

<p>If the first argument is a string that begins with &lt;code&gt;(protocol)://&lt;code&gt;, it is parsed by <a href="URI.html#method-c-parse"><code>URI.parse</code></a>.  If the parsed object responds to the ‘open’ method, ‘open’ is called on it with the rest of the arguments.</p>

<p>Otherwise, Kernel#open is called.</p>

<p><a href="OpenURI/OpenRead.html#method-i-open"><code>OpenURI::OpenRead#open</code></a> provides <a href="OpenURI/OpenRead.html#method-i-open"><code>URI::HTTP#open</code></a>, <a href="OpenURI/OpenRead.html#method-i-open"><code>URI::HTTPS#open</code></a> and <a href="OpenURI/OpenRead.html#method-i-open"><code>URI::FTP#open</code></a>, Kernel#open.</p>

<p>We can accept URIs and strings that begin with http://, https:// and ftp://. In these cases, the opened file object is extended by <a href="OpenURI/Meta.html"><code>OpenURI::Meta</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-open_source')" id="l_method-c-open_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/open-uri.rb#L44" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-open_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/open-uri.rb, line 44</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">open</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">rest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:open</span>)
    <span class="ruby-identifier">name</span>.<span class="ruby-identifier">open</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">rest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:to_str</span>) <span class="ruby-operator">&amp;&amp;</span>
        <span class="ruby-regexp">%r{\A[A-Za-z][A-Za-z0-9+\-\.]*://}</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">&amp;&amp;</span>
        (<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">name</span>)).<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:open</span>)
    <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">open</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">rest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">open_uri_original_open</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">rest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-comment"># After Kernel#open override is removed:</span>
    <span class="ruby-comment">#super</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-parse">
            
              <b>parse</b>(uri)
            
            <a href="../classes/URI.html#method-c-parse" name="method-c-parse" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-c-parse-label-Synopsis">Synopsis</h2>

<pre><code>URI::parse(uri_str)
</code></pre>

<h2 id="method-c-parse-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>uri_str</code>
<dd>
<p><a href="String.html"><code>String</code></a> with <a href="URI.html"><code>URI</code></a>.</p>
</dd></dl>

<h2 id="method-c-parse-label-Description">Description</h2>

<p>Creates one of the URI’s subclasses instance from the string.</p>

<h2 id="method-c-parse-label-Raises">Raises</h2>
<dl class="rdoc-list note-list"><dt><a href="URI/InvalidURIError.html"><code>URI::InvalidURIError</code></a>
<dd>
<p>Raised if <a href="URI.html"><code>URI</code></a> given is not a correct one.</p>
</dd></dl>

<h2 id="method-c-parse-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://www.ruby-lang.org/&quot;)
# =&gt; #&lt;URI::HTTP http://www.ruby-lang.org/&gt;
uri.scheme
# =&gt; &quot;http&quot;
uri.host
# =&gt; &quot;www.ruby-lang.org&quot;
</code></pre>

<p>It’s recommended to first ::escape the provided <code>uri_str</code> if there are any invalid <a href="URI.html"><code>URI</code></a> characters.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-parse_source')" id="l_method-c-parse_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/uri/common.rb#L233" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-parse_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/common.rb, line 233</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">parse</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-constant">RFC3986_PARSER</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">uri</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-regexp">
            
              <b>regexp</b>(schemes = nil)
            
            <a href="../classes/URI.html#method-c-regexp" name="method-c-regexp" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-c-regexp-label-Synopsis">Synopsis</h2>

<pre><code>URI::regexp([match_schemes])
</code></pre>

<h2 id="method-c-regexp-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>match_schemes</code>
<dd>
<p><a href="Array.html"><code>Array</code></a> of schemes. If given, resulting regexp matches to URIs whose scheme is one of the match_schemes.</p>
</dd></dl>

<h2 id="method-c-regexp-label-Description">Description</h2>

<p>Returns a <a href="Regexp.html"><code>Regexp</code></a> object which matches to URI-like strings. The <a href="Regexp.html"><code>Regexp</code></a> object returned by this method includes arbitrary number of capture group (parentheses).  Never rely on it’s number.</p>

<h2 id="method-c-regexp-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

# extract first URI from html_string
html_string.slice(URI.regexp)

# remove ftp URIs
html_string.sub(URI.regexp([&#39;ftp&#39;]), &#39;&#39;)

# You should not rely on the number of parentheses
html_string.scan(URI.regexp) do |*matches|
  p $&amp;
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-regexp_source')" id="l_method-c-regexp_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/uri/common.rb#L335" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-regexp_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/common.rb, line 335</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">regexp</span>(<span class="ruby-identifier">schemes</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">warn</span> <span class="ruby-string">&quot;URI.regexp is obsolete&quot;</span>, <span class="ruby-value">uplevel:</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
  <span class="ruby-constant">DEFAULT_PARSER</span>.<span class="ruby-identifier">make_regexp</span>(<span class="ruby-identifier">schemes</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-scheme_list">
            
              <b>scheme_list</b>()
            
            <a href="../classes/URI.html#method-c-scheme_list" name="method-c-scheme_list" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a <a href="Hash.html"><code>Hash</code></a> of the defined schemes.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-scheme_list_source')" id="l_method-c-scheme_list_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/uri/common.rb#L144" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-scheme_list_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/common.rb, line 144</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">scheme_list</span>
  <span class="ruby-identifier">@@schemes</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-split">
            
              <b>split</b>(uri)
            
            <a href="../classes/URI.html#method-c-split" name="method-c-split" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-c-split-label-Synopsis">Synopsis</h2>

<pre><code>URI::split(uri)
</code></pre>

<h2 id="method-c-split-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>uri</code>
<dd>
<p><a href="String.html"><code>String</code></a> with <a href="URI.html"><code>URI</code></a>.</p>
</dd></dl>

<h2 id="method-c-split-label-Description">Description</h2>

<p>Splits the string on following parts and returns array with result:</p>
<ul><li>
<p>Scheme</p>
</li><li>
<p>Userinfo</p>
</li><li>
<p>Host</p>
</li><li>
<p>Port</p>
</li><li>
<p>Registry</p>
</li><li>
<p>Path</p>
</li><li>
<p>Opaque</p>
</li><li>
<p>Query</p>
</li><li>
<p>Fragment</p>
</li></ul>

<h2 id="method-c-split-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

URI.split(&quot;http://www.ruby-lang.org/&quot;)
# =&gt; [&quot;http&quot;, nil, &quot;www.ruby-lang.org&quot;, nil, nil, &quot;/&quot;, nil, nil, nil]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-split_source')" id="l_method-c-split_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/uri/common.rb#L196" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-split_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/common.rb, line 196</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">split</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-constant">RFC3986_PARSER</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">uri</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
    
  
</div>

    </main>
  </body>
</html>
