<!DOCTYPE html>
<html lang="en">
<head>
    <title>URI::Generic</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='["URI", "Generic"]'>


    <meta property="og:title" value="URI::Generic">

  
    
    <meta name="description" content="Base class for all URI classes. Implements generic URI syntax as per RFC 2396.">
    <meta property="og:description" content="Base class for all URI classes. Implements generic URI syntax as per RFC 2396.">
  

    <meta name="keywords" content="URI::Generic class, default_port, default_port, component, build2, build, new, parser, component, set_scheme, scheme=, userinfo=, user=, password=, set_userinfo, set_user, set_password, userinfo, user, password, set_host, host=, hostname, hostname=, set_port, port=, registry=, set_path, path=, query=, set_opaque, opaque=, fragment=, hierarchical?, absolute?, absolute, relative?, merge!, merge, +, route_from, -, route_to, normalize, normalize!, to_s, ==, hash, eql?, component_ary, select, inspect, coerce, find_proxy">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Class</span>
            URI::Generic
            
                <span class="parent">&lt;
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h2>
        <ul class="files">
            
            <li><a href="../../files/ruby/lib/uri/generic_rb.html">ruby/lib/uri/generic.rb</a></li>
            
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Base class for all <a href="../URI.html"><code>URI</code></a> classes. Implements generic <a href="../URI.html"><code>URI</code></a> syntax as per RFC 2396.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-2B">+</a>,
              </li>
            
              
              <li>
                <a href="#method-i-2D">-</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3D-3D">==</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-absolute">absolute</a>,
              </li>
            
              
              <li>
                <a href="#method-i-absolute-3F">absolute?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-build">build</a>,
              </li>
            
              
              <li>
                <a href="#method-c-build2">build2</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-coerce">coerce</a>,
              </li>
            
              
              <li>
                <a href="#method-c-component">component</a>,
              </li>
            
              
              <li>
                <a href="#method-i-component">component</a>,
              </li>
            
              
              <li>
                <a href="#method-i-component_ary">component_ary</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-default_port">default_port</a>,
              </li>
            
              
              <li>
                <a href="#method-i-default_port">default_port</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-eql-3F">eql?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-find_proxy">find_proxy</a>,
              </li>
            
              
              <li>
                <a href="#method-i-fragment-3D">fragment=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-hash">hash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-hierarchical-3F">hierarchical?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-host-3D">host=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-hostname">hostname</a>,
              </li>
            
              
              <li>
                <a href="#method-i-hostname-3D">hostname=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-merge">merge</a>,
              </li>
            
              
              <li>
                <a href="#method-i-merge-21">merge!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-i-normalize">normalize</a>,
              </li>
            
              
              <li>
                <a href="#method-i-normalize-21">normalize!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>O</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-opaque-3D">opaque=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-parser">parser</a>,
              </li>
            
              
              <li>
                <a href="#method-i-password">password</a>,
              </li>
            
              
              <li>
                <a href="#method-i-password-3D">password=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-path-3D">path=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-port-3D">port=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>Q</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-query-3D">query=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-registry-3D">registry=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-relative-3F">relative?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-route_from">route_from</a>,
              </li>
            
              
              <li>
                <a href="#method-i-route_to">route_to</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-scheme-3D">scheme=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-select">select</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_host">set_host</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_opaque">set_opaque</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_password">set_password</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_path">set_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_port">set_port</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_scheme">set_scheme</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_user">set_user</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_userinfo">set_userinfo</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-user">user</a>,
              </li>
            
              
              <li>
                <a href="#method-i-user-3D">user=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-userinfo">userinfo</a>,
              </li>
            
              
              <li>
                <a href="#method-i-userinfo-3D">userinfo=</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="../URI.html">
              URI
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    
      <!-- Section constants -->
      <h2 class="sectiontitle">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">COMPONENT</td>
            <td>=</td>
            <td class="attr-value">[
:scheme,
:userinfo, :host, :port, :registry,
:path, :opaque,
:query,
:fragment
].freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>An <a href="../Array.html"><code>Array</code></a> of the available components for <a href="Generic.html"><code>URI::Generic</code></a>.</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">DEFAULT_PORT</td>
            <td>=</td>
            <td class="attr-value">nil</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>A Default port of nil for <a href="Generic.html"><code>URI::Generic</code></a>.</p></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <h2 class="sectiontitle">Attributes</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>fragment</td>
            <td class='attr-desc'><p>Returns the fragment component of the <a href="../URI.html"><code>URI</code></a>.</p>

<pre><code>URI(&quot;http://foo/bar/baz?search=FooBar#ponies&quot;).fragment #=&gt; &quot;ponies&quot;
</code></pre></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>host</td>
            <td class='attr-desc'><p>Returns the host component of the <a href="../URI.html"><code>URI</code></a>.</p>

<pre><code>URI(&quot;http://foo/bar/baz&quot;).host #=&gt; &quot;foo&quot;
</code></pre>

<p>It returns nil if no host component exists.</p>

<pre><code>URI(&quot;mailto:foo@example.org&quot;).host #=&gt; nil
</code></pre>

<p>The component does not contain the port number.</p>

<pre><code>URI(&quot;http://foo:8080/bar/baz&quot;).host #=&gt; &quot;foo&quot;
</code></pre>

<p>Since IPv6 addresses are wrapped with brackets in URIs, this method returns IPv6 addresses wrapped with brackets. This form is not appropriate to pass to socket methods such as <a href="../IO.html#method-c-open"><code>TCPSocket.open</code></a>. If unwrapped host names are required, use the <a href="Generic.html#method-i-hostname"><code>hostname</code></a> method.</p>

<pre><code>URI(&quot;http://[::1]/bar/baz&quot;).host     #=&gt; &quot;[::1]&quot;
URI(&quot;http://[::1]/bar/baz&quot;).hostname #=&gt; &quot;::1&quot;
</code></pre></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>opaque</td>
            <td class='attr-desc'><p>Returns the opaque part of the <a href="../URI.html"><code>URI</code></a>.</p>

<pre><code>URI(&quot;mailto:foo@example.org&quot;).opaque #=&gt; &quot;foo@example.org&quot;
URI(&quot;http://foo/bar/baz&quot;).opaque     #=&gt; nil
</code></pre>

<p>The portion of the path that does not make use of the slash ‘/’. The path typically refers to an absolute path or an opaque part. (See RFC2396 Section 3 and 5.2.)</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>path</td>
            <td class='attr-desc'><p>Returns the path component of the <a href="../URI.html"><code>URI</code></a>.</p>

<pre><code>URI(&quot;http://foo/bar/baz&quot;).path #=&gt; &quot;/bar/baz&quot;
</code></pre></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>port</td>
            <td class='attr-desc'><p>Returns the port component of the <a href="../URI.html"><code>URI</code></a>.</p>

<pre><code>URI(&quot;http://foo/bar/baz&quot;).port      #=&gt; 80
URI(&quot;http://foo:8080/bar/baz&quot;).port #=&gt; 8080
</code></pre></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>query</td>
            <td class='attr-desc'><p>Returns the query component of the <a href="../URI.html"><code>URI</code></a>.</p>

<pre><code>URI(&quot;http://foo/bar/baz?search=FooBar&quot;).query #=&gt; &quot;search=FooBar&quot;
</code></pre></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>scheme</td>
            <td class='attr-desc'><p>Returns the scheme component of the <a href="../URI.html"><code>URI</code></a>.</p>

<pre><code>URI(&quot;http://foo/bar/baz&quot;).scheme #=&gt; &quot;http&quot;
</code></pre></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <h2 class="sectiontitle">Class Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-c-build">
            
              <b>build</b>(args)
            
            <a href="../../classes/URI/Generic.html#method-c-build" name="method-c-build" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-c-build-label-Synopsis">Synopsis</h2>

<p>See <a href="Generic.html#method-c-new"><code>::new</code></a>.</p>

<h2 id="method-c-build-label-Description">Description</h2>

<p>Creates a new <a href="Generic.html"><code>URI::Generic</code></a> instance from components of <a href="Generic.html"><code>URI::Generic</code></a> with check.  Components are: scheme, userinfo, host, port, registry, path, opaque, query, and fragment. You can provide arguments either by an <a href="../Array.html"><code>Array</code></a> or a <a href="../Hash.html"><code>Hash</code></a>. See <a href="Generic.html#method-c-new"><code>::new</code></a> for hash keys to use or for order of array items.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-build_source')" id="l_method-c-build_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L116" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-build_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 116</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">build</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">&amp;&amp;</span>
      <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-identifier">tmp</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
    <span class="ruby-identifier">tmp</span> = <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">c</span>)
        <span class="ruby-identifier">args</span>[<span class="ruby-identifier">c</span>]
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">component</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">component</span> <span class="ruby-keyword">rescue</span> <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
    <span class="ruby-node">&quot;expected Array of or Hash of components of #{self.class} (#{component.join(&#39;, &#39;)})&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">tmp</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">tmp</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tmp</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-build2">
            
              <b>build2</b>(args)
            
            <a href="../../classes/URI/Generic.html#method-c-build2" name="method-c-build2" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-c-build2-label-Synopsis">Synopsis</h2>

<p>See <a href="Generic.html#method-c-new"><code>::new</code></a>.</p>

<h2 id="method-c-build2-label-Description">Description</h2>

<p>At first, tries to create a new <a href="Generic.html"><code>URI::Generic</code></a> instance using <a href="Generic.html#method-c-build"><code>URI::Generic::build</code></a>. But, if exception <a href="InvalidComponentError.html"><code>URI::InvalidComponentError</code></a> is raised, then it does URI::Escape.escape all <a href="../URI.html"><code>URI</code></a> components and tries again.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-build2_source')" id="l_method-c-build2_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L78" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-build2_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 78</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">build2</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">InvalidComponentError</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
          <span class="ruby-constant">DEFAULT_PARSER</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">x</span>)
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">x</span>
        <span class="ruby-keyword">end</span>
      })
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
      <span class="ruby-identifier">tmp</span> = {}
      <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">tmp</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>
            <span class="ruby-constant">DEFAULT_PARSER</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">value</span>)
          <span class="ruby-keyword">else</span>
            <span class="ruby-identifier">value</span>
          <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">tmp</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-component">
            
              <b>component</b>()
            
            <a href="../../classes/URI/Generic.html#method-c-component" name="method-c-component" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Components of the <a href="../URI.html"><code>URI</code></a> in the order.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-component_source')" id="l_method-c-component_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L57" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-component_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 57</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">component</span>
  <span class="ruby-keyword">self</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-default_port">
            
              <b>default_port</b>()
            
            <a href="../../classes/URI/Generic.html#method-c-default_port" name="method-c-default_port" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns default port.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-default_port_source')" id="l_method-c-default_port_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L32" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-default_port_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 32</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">default_port</span>
  <span class="ruby-keyword">self</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_PORT</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-new">
            
              <b>new</b>(scheme, userinfo, host, port, registry, path, opaque, query, fragment, parser = DEFAULT_PARSER, arg_check = false)
            
            <a href="../../classes/URI/Generic.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-c-new-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>scheme</code>
<dd>
<p>Protocol scheme, i.e. ‘http’,‘ftp’,‘mailto’ and so on.</p>
</dd><dt><code>userinfo</code>
<dd>
<p>User name and password, i.e. ‘sdmitry:bla’.</p>
</dd><dt><code>host</code>
<dd>
<p>Server host name.</p>
</dd><dt><code>port</code>
<dd>
<p>Server port.</p>
</dd><dt><code>registry</code>
<dd>
<p>Registry of naming authorities.</p>
</dd><dt><code>path</code>
<dd>
<p>Path on server.</p>
</dd><dt><code>opaque</code>
<dd>
<p>Opaque part.</p>
</dd><dt><code>query</code>
<dd>
<p>Query data.</p>
</dd><dt><code>fragment</code>
<dd>
<p>Part of the <a href="../URI.html"><code>URI</code></a> after ‘#’ character.</p>
</dd><dt><code>parser</code>
<dd>
<p><a href="RFC2396_Parser.html"><code>Parser</code></a> for internal use [URI::DEFAULT_PARSER by default].</p>
</dd><dt><code>arg_check</code>
<dd>
<p>Check arguments [false by default].</p>
</dd></dl>

<h2 id="method-c-new-label-Description">Description</h2>

<p>Creates a new <a href="Generic.html"><code>URI::Generic</code></a> instance from “generic” components without check.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L169" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">scheme</span>,
               <span class="ruby-identifier">userinfo</span>, <span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">registry</span>,
               <span class="ruby-identifier">path</span>, <span class="ruby-identifier">opaque</span>,
               <span class="ruby-identifier">query</span>,
               <span class="ruby-identifier">fragment</span>,
               <span class="ruby-identifier">parser</span> = <span class="ruby-constant">DEFAULT_PARSER</span>,
               <span class="ruby-identifier">arg_check</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-ivar">@scheme</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@user</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@password</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@host</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@port</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@path</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@query</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@opaque</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@fragment</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@parser</span> = <span class="ruby-identifier">parser</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DEFAULT_PARSER</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">parser</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg_check</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">scheme</span> = <span class="ruby-identifier">scheme</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">userinfo</span> = <span class="ruby-identifier">userinfo</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">hostname</span> = <span class="ruby-identifier">host</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">port</span> = <span class="ruby-identifier">port</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">query</span> = <span class="ruby-identifier">query</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">opaque</span> = <span class="ruby-identifier">opaque</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">fragment</span> = <span class="ruby-identifier">fragment</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">scheme</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">userinfo</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">host</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">port</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">query</span> = <span class="ruby-identifier">query</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">opaque</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">fragment</span>=(<span class="ruby-identifier">fragment</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">registry</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
      <span class="ruby-node">&quot;the scheme #{@scheme} does not accept registry part: #{registry} (or bad hostname?)&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@scheme</span>&amp;.<span class="ruby-identifier">freeze</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-string">&#39;&#39;</span>) <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@opaque</span> <span class="ruby-comment"># (see RFC2396 Section 5.2)</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_port</span>) <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@port</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
      <h2 class="sectiontitle">Instance Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-i-2B">
            
              <b>+</b>(oth)
            
            <a href="../../classes/URI/Generic.html#method-i-2B" name="method-i-2B" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Generic.html#method-i-merge">merge</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-2D">
            
              <b>-</b>(oth)
            
            <a href="../../classes/URI/Generic.html#method-i-2D" name="method-i-2D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Generic.html#method-i-route_from">route_from</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-3D-3D">
            
              <b>==</b>(oth)
            
            <a href="../../classes/URI/Generic.html#method-i-3D-3D" name="method-i-3D-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Compares two URIs.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3D-3D_source')" id="l_method-i-3D-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1373" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-3D-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1373</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">==</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">class</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">normalize</span>.<span class="ruby-identifier">component_ary</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">normalize</span>.<span class="ruby-identifier">component_ary</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-absolute">
            
              <b>absolute</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-absolute" name="method-i-absolute" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Generic.html#method-i-absolute-3F">absolute?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-absolute-3F">
            
              <b>absolute?</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-absolute-3F" name="method-i-absolute-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns true if <a href="../URI.html"><code>URI</code></a> has a scheme (e.g. http:// or https://) specified.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Generic.html#method-i-absolute">absolute</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-absolute-3F_source')" id="l_method-i-absolute-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L962" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-absolute-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 962</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">absolute?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@scheme</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-coerce">
            
              <b>coerce</b>(oth)
            
            <a href="../../classes/URI/Generic.html#method-i-coerce" name="method-i-coerce" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-coerce-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p><a href="../URI.html"><code>URI</code></a> or <a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-coerce-label-Description">Description</h2>

<p>Attempts to parse other <a href="../URI.html"><code>URI</code></a> <code>oth</code>, returns [parsed_oth, self].</p>

<h2 id="method-i-coerce-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://my.example.com&quot;)
uri.coerce(&quot;http://foo.com&quot;)
#=&gt; [#&lt;URI::HTTP http://foo.com&gt;, #&lt;URI::HTTP http://my.example.com&gt;]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-coerce_source')" id="l_method-i-coerce_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1463" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-coerce_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1463</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">coerce</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">oth</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>
    <span class="ruby-identifier">oth</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">oth</span>, <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-component">
            
              <b>component</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-component" name="method-i-component" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Components of the <a href="../URI.html"><code>URI</code></a> in the order.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-component_source')" id="l_method-i-component_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L313" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-component_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 313</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">component</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">component</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-default_port">
            
              <b>default_port</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-default_port" name="method-i-default_port" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns default port.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-default_port_source')" id="l_method-i-default_port_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L39" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-default_port_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 39</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">default_port</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">default_port</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-eql-3F">
            
              <b>eql?</b>(oth)
            
            <a href="../../classes/URI/Generic.html#method-i-eql-3F" name="method-i-eql-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-eql-3F_source')" id="l_method-i-eql-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1385" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-eql-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1385</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">eql?</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">&amp;&amp;</span>
  <span class="ruby-identifier">parser</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">parser</span> <span class="ruby-operator">&amp;&amp;</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">component_ary</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">oth</span>.<span class="ruby-identifier">component_ary</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-find_proxy">
            
              <b>find_proxy</b>(env=ENV)
            
            <a href="../../classes/URI/Generic.html#method-i-find_proxy" name="method-i-find_proxy" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a proxy <a href="../URI.html"><code>URI</code></a>. The proxy <a href="../URI.html"><code>URI</code></a> is obtained from environment variables such as http_proxy, ftp_proxy, no_proxy, etc. If there is no proper proxy, nil is returned.</p>

<p>If the optional parameter <code>env</code> is specified, it is used instead of <a href="../ENV.html"><code>ENV</code></a>.</p>

<p>Note that capitalized variables (HTTP_PROXY, FTP_PROXY, NO_PROXY, etc.) are examined, too.</p>

<p>But http_proxy and HTTP_PROXY is treated specially under <a href="../CGI.html"><code>CGI</code></a> environment. It’s because HTTP_PROXY may be set by Proxy: header. So HTTP_PROXY is not used. http_proxy is not used too if the variable is case insensitive. CGI_HTTP_PROXY can be used instead.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-find_proxy_source')" id="l_method-i-find_proxy_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1489" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-find_proxy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1489</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">find_proxy</span>(<span class="ruby-identifier">env</span>=<span class="ruby-constant">ENV</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">BadURIError</span>, <span class="ruby-node">&quot;relative URI: #{self}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">relative?</span>
  <span class="ruby-identifier">name</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;_proxy&#39;</span>
  <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;http_proxy&#39;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">env</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;REQUEST_METHOD&#39;</span>) <span class="ruby-comment"># CGI?</span>
    <span class="ruby-comment"># HTTP_PROXY conflicts with *_proxy for proxy settings and</span>
    <span class="ruby-comment"># HTTP_* for header information in CGI.</span>
    <span class="ruby-comment"># So it should be careful to use it.</span>
    <span class="ruby-identifier">pairs</span> = <span class="ruby-identifier">env</span>.<span class="ruby-identifier">reject</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-regexp">/\Ahttp_proxy\z/i</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">k</span> }
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">pairs</span>.<span class="ruby-identifier">length</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">0</span> <span class="ruby-comment"># no proxy setting anyway.</span>
      <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">1</span>
      <span class="ruby-identifier">k</span>, <span class="ruby-identifier">_</span> = <span class="ruby-identifier">pairs</span>.<span class="ruby-identifier">shift</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;http_proxy&#39;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">env</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">upcase</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-comment"># http_proxy is safe to use because ENV is case sensitive.</span>
        <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>]
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span> <span class="ruby-comment"># http_proxy is safe to use because ENV is case sensitive.</span>
      <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-identifier">env</span>.<span class="ruby-identifier">to_hash</span>[<span class="ruby-identifier">name</span>]
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">proxy_uri</span>
      <span class="ruby-comment"># Use CGI_HTTP_PROXY.  cf. libwww-perl.</span>
      <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-identifier">env</span>[<span class="ruby-node">&quot;CGI_#{name.upcase}&quot;</span>]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;http_proxy&#39;</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">RUBY_ENGINE</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;jruby&#39;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">p_addr</span> = <span class="ruby-constant">ENV_JAVA</span>[<span class="ruby-string">&#39;http.proxyHost&#39;</span>]
      <span class="ruby-identifier">p_port</span> = <span class="ruby-constant">ENV_JAVA</span>[<span class="ruby-string">&#39;http.proxyPort&#39;</span>]
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">p_user</span> = <span class="ruby-constant">ENV_JAVA</span>[<span class="ruby-string">&#39;http.proxyUser&#39;</span>]
        <span class="ruby-identifier">p_pass</span> = <span class="ruby-constant">ENV_JAVA</span>[<span class="ruby-string">&#39;http.proxyPass&#39;</span>]
        <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-node">&quot;http://#{p_user}:#{p_pass}@#{p_addr}:#{p_port}&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-node">&quot;http://#{p_addr}:#{p_port}&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>]
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
          <span class="ruby-identifier">warn</span> <span class="ruby-string">&#39;The environment variable HTTP_PROXY is discouraged.  Use http_proxy.&#39;</span>, <span class="ruby-value">uplevel:</span> <span class="ruby-value">1</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_uri</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">proxy_uri</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">hostname</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">addr</span> = <span class="ruby-constant">IPSocket</span>.<span class="ruby-identifier">getaddress</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">hostname</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-regexp">/\A127\.|\A::1\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">addr</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">SocketError</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">name</span> = <span class="ruby-string">&#39;no_proxy&#39;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">no_proxy</span> = <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span>.<span class="ruby-identifier">use_proxy?</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">addr</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">port</span>, <span class="ruby-identifier">no_proxy</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">proxy_uri</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-fragment-3D">
            
              <b>fragment=</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-fragment-3D" name="method-i-fragment-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Checks the fragment <code>v</code> component against the <a href="RFC2396_Parser.html"><code>URI::Parser</code></a> <a href="../Regexp.html"><code>Regexp</code></a> for :FRAGMENT.</p>

<h2 id="method-i-fragment-3D-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p><a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-fragment-3D-label-Description">Description</h2>

<p>Public setter for the fragment component <code>v</code> (with validation).</p>

<h2 id="method-i-fragment-3D-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://my.example.com/?id=25#time=1305212049&quot;)
uri.fragment = &quot;time=1305212086&quot;
uri.to_s  #=&gt; &quot;http://my.example.com/?id=25#time=1305212086&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-fragment-3D_source')" id="l_method-i-fragment-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L919" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-fragment-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 919</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">fragment=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@fragment</span> = <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">v</span>

  <span class="ruby-identifier">x</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_str</span>
  <span class="ruby-identifier">v</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">equal?</span> <span class="ruby-identifier">v</span>
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">encode!</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_8</span>) <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">delete!</span>(<span class="ruby-string">&quot;\t\r\n&quot;</span>)
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">ASCII_8BIT</span>)
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/(?!%\h\h|[!-~])./n</span>){<span class="ruby-string">&#39;%%%02X&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-node">$&amp;</span>.<span class="ruby-identifier">ord</span>}
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">US_ASCII</span>)
  <span class="ruby-ivar">@fragment</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-hash">
            
              <b>hash</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-hash" name="method-i-hash" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-hash_source')" id="l_method-i-hash_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1381" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1381</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hash</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">component_ary</span>.<span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-hierarchical-3F">
            
              <b>hierarchical?</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-hierarchical-3F" name="method-i-hierarchical-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns true if <a href="../URI.html"><code>URI</code></a> is hierarchical.</p>

<h2 id="method-i-hierarchical-3F-label-Description">Description</h2>

<p><a href="../URI.html"><code>URI</code></a> has components listed in order of decreasing significance from left to right, see RFC3986 <a href="https://tools.ietf.org/html/rfc3986">tools.ietf.org/html/rfc3986</a> 1.2.3.</p>

<h2 id="method-i-hierarchical-3F-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://my.example.com/&quot;)
uri.hierarchical?
#=&gt; true
uri = URI.parse(&quot;mailto:joe@example.com&quot;)
uri.hierarchical?
#=&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-hierarchical-3F_source')" id="l_method-i-hierarchical-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L951" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-hierarchical-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 951</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hierarchical?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@path</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-host-3D">
            
              <b>host=</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-host-3D" name="method-i-host-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-host-3D-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p><a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-host-3D-label-Description">Description</h2>

<p>Public setter for the host component <code>v</code> (with validation).</p>

<p>See also URI::Generic.check_host.</p>

<h2 id="method-i-host-3D-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://my.example.com&quot;)
uri.host = &quot;foo.com&quot;
uri.to_s  #=&gt; &quot;http://foo.com&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-host-3D_source')" id="l_method-i-host-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L629" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-host-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 629</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">host=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_host</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-hostname">
            
              <b>hostname</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-hostname" name="method-i-hostname" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Extract the host part of the <a href="../URI.html"><code>URI</code></a> and unwrap brackets for IPv6 addresses.</p>

<p>This method is the same as <a href="Generic.html#attribute-i-host"><code>URI::Generic#host</code></a> except brackets for IPv6 (and future IP) addresses are removed.</p>

<pre><code>uri = URI(&quot;http://[::1]/bar&quot;)
uri.hostname      #=&gt; &quot;::1&quot;
uri.host          #=&gt; &quot;[::1]&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-hostname_source')" id="l_method-i-hostname_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L644" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-hostname_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 644</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hostname</span>
  <span class="ruby-identifier">v</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">host</span>
  <span class="ruby-identifier">v</span>&amp;.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&#39;[&#39;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">end_with?</span>(<span class="ruby-string">&#39;]&#39;</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">v</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-2</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-hostname-3D">
            
              <b>hostname=</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-hostname-3D" name="method-i-hostname-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets the host part of the <a href="../URI.html"><code>URI</code></a> as the argument with brackets for IPv6 addresses.</p>

<p>This method is the same as <a href="Generic.html#method-i-host-3D"><code>URI::Generic#host=</code></a> except the argument can be a bare IPv6 address.</p>

<pre><code>uri = URI(&quot;http://foo/bar&quot;)
uri.hostname = &quot;::1&quot;
uri.to_s  #=&gt; &quot;http://[::1]/bar&quot;
</code></pre>

<p>If the argument seems to be an IPv6 address, it is wrapped with brackets.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-hostname-3D_source')" id="l_method-i-hostname-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L661" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-hostname-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 661</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hostname=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span> = <span class="ruby-node">&quot;[#{v}]&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">v</span>&amp;.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&#39;[&#39;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span>&amp;.<span class="ruby-identifier">end_with?</span>(<span class="ruby-string">&#39;]&#39;</span>)) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span>&amp;.<span class="ruby-identifier">index</span>(<span class="ruby-string">&#39;:&#39;</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">host</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-inspect">
            
              <b>inspect</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1440" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1440</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inspect</span>
  <span class="ruby-node">&quot;#&lt;#{self.class} #{self}&gt;&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-merge">
            
              <b>merge</b>(oth)
            
            <a href="../../classes/URI/Generic.html#method-i-merge" name="method-i-merge" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-merge-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p><a href="../URI.html"><code>URI</code></a> or <a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-merge-label-Description">Description</h2>

<p>Merges two URIs.</p>

<h2 id="method-i-merge-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://my.example.com&quot;)
uri.merge(&quot;/main.rbx?page=1&quot;)
# =&gt; &quot;http://my.example.com/main.rbx?page=1&quot;
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Generic.html#method-i-2B">+</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-merge_source')" id="l_method-i-merge_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1099" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-merge_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1099</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">merge</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-identifier">rel</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-value">:convert_to_uri</span>, <span class="ruby-identifier">oth</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">absolute?</span>
    <span class="ruby-comment">#raise BadURIError, &quot;both URI are absolute&quot; if absolute?</span>
    <span class="ruby-comment"># hmm... should return oth for usability?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">rel</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">absolute?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">BadURIError</span>, <span class="ruby-string">&quot;both URI are relative&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">base</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">dup</span>

  <span class="ruby-identifier">authority</span> = <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>

  <span class="ruby-comment"># RFC2396, Section 5.2, 2)</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">empty?</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authority</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>
    <span class="ruby-identifier">base</span>.<span class="ruby-identifier">fragment</span>=(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">base</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">query</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">fragment</span>=(<span class="ruby-keyword">nil</span>)

  <span class="ruby-comment"># RFC2396, Section 5.2, 4)</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authority</span>
    <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">merge_path</span>(<span class="ruby-identifier">base</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">base</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># RFC2396, Section 5.2, 4)</span>
    <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># RFC2396, Section 5.2, 7)</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span>)         <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>)         <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">query</span> = <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>       <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">fragment</span>=(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">base</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-merge-21">
            
              <b>merge!</b>(oth)
            
            <a href="../../classes/URI/Generic.html#method-i-merge-21" name="method-i-merge-21" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-merge-21-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p><a href="../URI.html"><code>URI</code></a> or <a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-merge-21-label-Description">Description</h2>

<p>Destructive form of <a href="Generic.html#method-i-merge"><code>merge</code></a>.</p>

<h2 id="method-i-merge-21-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://my.example.com&quot;)
uri.merge!(&quot;/main.rbx?page=1&quot;)
uri.to_s  # =&gt; &quot;http://my.example.com/main.rbx?page=1&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-merge-21_source')" id="l_method-i-merge-21_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1071" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-merge-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1071</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">merge!</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-identifier">t</span> = <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">t</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">replace!</span>(<span class="ruby-identifier">t</span>)
    <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-normalize">
            
              <b>normalize</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-normalize" name="method-i-normalize" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns normalized <a href="../URI.html"><code>URI</code></a>.</p>

<pre><code>require &#39;uri&#39;

URI(&quot;HTTP://my.EXAMPLE.com&quot;).normalize
#=&gt; #&lt;URI::HTTP http://my.example.com/&gt;
</code></pre>

<p>Normalization here means:</p>
<ul><li>
<p>scheme and host are converted to lowercase,</p>
</li><li>
<p>an empty path component is set to “/”.</p>
</li></ul>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-normalize_source')" id="l_method-i-normalize_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1309" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-normalize_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1309</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">normalize</span>
  <span class="ruby-identifier">uri</span> = <span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">normalize!</span>
  <span class="ruby-identifier">uri</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-normalize-21">
            
              <b>normalize!</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-normalize-21" name="method-i-normalize-21" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Destructive version of <a href="Generic.html#method-i-normalize"><code>normalize</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-normalize-21_source')" id="l_method-i-normalize-21_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1318" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-normalize-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1318</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">normalize!</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span>&amp;.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">set_path</span>(<span class="ruby-string">&#39;/&#39;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">scheme</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">scheme</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span>
    <span class="ruby-identifier">set_scheme</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">downcase</span>
    <span class="ruby-identifier">set_host</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">host</span>.<span class="ruby-identifier">downcase</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-opaque-3D">
            
              <b>opaque=</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-opaque-3D" name="method-i-opaque-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-opaque-3D-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p><a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-opaque-3D-label-Description">Description</h2>

<p>Public setter for the opaque component <code>v</code> (with validation).</p>

<p>See also URI::Generic.check_opaque.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-opaque-3D_source')" id="l_method-i-opaque-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L891" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-opaque-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 891</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">opaque=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_opaque</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-parser">
            
              <b>parser</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-parser" name="method-i-parser" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the parser to be used.</p>

<p>Unless a <a href="RFC2396_Parser.html"><code>URI::Parser</code></a> is defined, DEFAULT_PARSER is used.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-parser_source')" id="l_method-i-parser_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L289" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-parser_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 289</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parser</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@parser</span>) <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@parser</span>
    <span class="ruby-constant">DEFAULT_PARSER</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@parser</span> <span class="ruby-operator">||</span> <span class="ruby-constant">DEFAULT_PARSER</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-password">
            
              <b>password</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-password" name="method-i-password" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the password component.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-password_source')" id="l_method-i-password_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L573" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-password_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 573</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">password</span>
  <span class="ruby-ivar">@password</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-password-3D">
            
              <b>password=</b>(password)
            
            <a href="../../classes/URI/Generic.html#method-i-password-3D" name="method-i-password-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-password-3D-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p><a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-password-3D-label-Description">Description</h2>

<p>Public setter for the <code>password</code> component (with validation).</p>

<p>See also URI::Generic.check_password.</p>

<h2 id="method-i-password-3D-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://john:S3nsit1ve@my.example.com&quot;)
uri.password = &quot;V3ry_S3nsit1ve&quot;
uri.to_s  #=&gt; &quot;http://john:V3ry_S3nsit1ve@my.example.com&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-password-3D_source')" id="l_method-i-password-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L498" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-password-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 498</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">password=</span>(<span class="ruby-identifier">password</span>)
  <span class="ruby-identifier">check_password</span>(<span class="ruby-identifier">password</span>)
  <span class="ruby-identifier">set_password</span>(<span class="ruby-identifier">password</span>)
  <span class="ruby-comment"># returns password</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-path-3D">
            
              <b>path=</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-path-3D" name="method-i-path-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-path-3D-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p><a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-path-3D-label-Description">Description</h2>

<p>Public setter for the path component <code>v</code> (with validation).</p>

<p>See also URI::Generic.check_path.</p>

<h2 id="method-i-path-3D-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://my.example.com/pub/files&quot;)
uri.path = &quot;/faq/&quot;
uri.to_s  #=&gt; &quot;http://my.example.com/faq/&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-path-3D_source')" id="l_method-i-path-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L805" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-path-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 805</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_path</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-port-3D">
            
              <b>port=</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-port-3D" name="method-i-port-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-port-3D-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p><a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-port-3D-label-Description">Description</h2>

<p>Public setter for the port component <code>v</code> (with validation).</p>

<p>See also URI::Generic.check_port.</p>

<h2 id="method-i-port-3D-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://my.example.com&quot;)
uri.port = 8080
uri.to_s  #=&gt; &quot;http://my.example.com:8080&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-port-3D_source')" id="l_method-i-port-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L719" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-port-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 719</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">port=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_port</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">port</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-query-3D">
            
              <b>query=</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-query-3D" name="method-i-query-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-query-3D-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p><a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-query-3D-label-Description">Description</h2>

<p>Public setter for the query component <code>v</code>.</p>

<h2 id="method-i-query-3D-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://my.example.com/?id=25&quot;)
uri.query = &quot;id=1&quot;
uri.to_s  #=&gt; &quot;http://my.example.com/?id=1&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-query-3D_source')" id="l_method-i-query-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L829" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-query-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 829</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">query=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@query</span> = <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">v</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, <span class="ruby-string">&quot;query conflicts with opaque&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@opaque</span>

  <span class="ruby-identifier">x</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_str</span>
  <span class="ruby-identifier">v</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">equal?</span> <span class="ruby-identifier">v</span>
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">encode!</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_8</span>) <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">delete!</span>(<span class="ruby-string">&quot;\t\r\n&quot;</span>)
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">ASCII_8BIT</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, <span class="ruby-node">&quot;invalid percent escape: #{$1}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-regexp">/(%\H\H)/n</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/(?!%\h\h|[!$-&amp;(-;=?-_a-~])./n</span>.<span class="ruby-identifier">freeze</span>){<span class="ruby-string">&#39;%%%02X&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-node">$&amp;</span>.<span class="ruby-identifier">ord</span>}
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">US_ASCII</span>)
  <span class="ruby-ivar">@query</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-registry-3D">
            
              <b>registry=</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-registry-3D" name="method-i-registry-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-registry-3D_source')" id="l_method-i-registry-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L735" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-registry-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 735</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">registry=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, <span class="ruby-string">&quot;can not set registry&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-relative-3F">
            
              <b>relative?</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-relative-3F" name="method-i-relative-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns true if <a href="../URI.html"><code>URI</code></a> does not have a scheme (e.g. http:// or https://) specified.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-relative-3F_source')" id="l_method-i-relative-3F_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L974" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-relative-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 974</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">relative?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">absolute?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-route_from">
            
              <b>route_from</b>(oth)
            
            <a href="../../classes/URI/Generic.html#method-i-route_from" name="method-i-route_from" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-route_from-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p><a href="../URI.html"><code>URI</code></a> or <a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-route_from-label-Description">Description</h2>

<p>Calculates relative path from oth to self.</p>

<h2 id="method-i-route_from-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&#39;http://my.example.com/main.rbx?page=1&#39;)
uri.route_from(&#39;http://my.example.com&#39;)
#=&gt; #&lt;URI::Generic /main.rbx?page=1&gt;
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Generic.html#method-i-2D">-</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-route_from_source')" id="l_method-i-route_from_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1252" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-route_from_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1252</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">route_from</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-comment"># you can modify `rel&#39;, but can not `oth&#39;.</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">oth</span>, <span class="ruby-identifier">rel</span> = <span class="ruby-identifier">route_from0</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">rescue</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">class</span>, <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">oth</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">rel</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">rel</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">route_from_path</span>(<span class="ruby-identifier">oth</span>.<span class="ruby-identifier">path</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">path</span>))
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;./&#39;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">query</span>
    <span class="ruby-comment"># &quot;./?foo&quot; -&gt; &quot;?foo&quot;</span>
    <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-string">&#39;&#39;</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">rel</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-route_to">
            
              <b>route_to</b>(oth)
            
            <a href="../../classes/URI/Generic.html#method-i-route_to" name="method-i-route_to" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-route_to-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p><a href="../URI.html"><code>URI</code></a> or <a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-route_to-label-Description">Description</h2>

<p>Calculates relative path to oth from self.</p>

<h2 id="method-i-route_to-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&#39;http://my.example.com&#39;)
uri.route_to(&#39;http://my.example.com/main.rbx?page=1&#39;)
#=&gt; #&lt;URI::Generic /main.rbx?page=1&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-route_to_source')" id="l_method-i-route_to_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1292" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-route_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1292</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">route_to</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-value">:convert_to_uri</span>, <span class="ruby-identifier">oth</span>).<span class="ruby-identifier">route_from</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-scheme-3D">
            
              <b>scheme=</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-scheme-3D" name="method-i-scheme-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-scheme-3D-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p><a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-scheme-3D-label-Description">Description</h2>

<p>Public setter for the scheme component <code>v</code> (with validation).</p>

<p>See also URI::Generic.check_scheme.</p>

<h2 id="method-i-scheme-3D-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://my.example.com&quot;)
uri.scheme = &quot;https&quot;
uri.to_s  #=&gt; &quot;https://my.example.com&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-scheme-3D_source')" id="l_method-i-scheme-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L360" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-scheme-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 360</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">scheme=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_scheme</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-select">
            
              <b>select</b>(*components)
            
            <a href="../../classes/URI/Generic.html#method-i-select" name="method-i-select" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-select-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>components</code>
<dd>
<p>Multiple <a href="../Symbol.html"><code>Symbol</code></a> arguments defined in <a href="HTTP.html"><code>URI::HTTP</code></a>.</p>
</dd></dl>

<h2 id="method-i-select-label-Description">Description</h2>

<p>Selects specified components from <a href="../URI.html"><code>URI</code></a>.</p>

<h2 id="method-i-select-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&#39;http://myuser:mypass@my.example.com/test.rbx&#39;)
uri.select(:userinfo, :host, :path)
# =&gt; [&quot;myuser:mypass&quot;, &quot;my.example.com&quot;, &quot;/test.rbx&quot;]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-select_source')" id="l_method-i-select_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1429" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-select_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1429</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">select</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">components</span>)
  <span class="ruby-identifier">components</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">component</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">c</span>)
      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">c</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
        <span class="ruby-node">&quot;expected of components of #{self.class} (#{self.class.component.join(&#39;, &#39;)})&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_s">
            
              <b>to_s</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Constructs <a href="../String.html"><code>String</code></a> from <a href="../URI.html"><code>URI</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1333" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1333</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_s</span>
  <span class="ruby-identifier">str</span> = <span class="ruby-string">&#39;&#39;</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@scheme</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@scheme</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;:&#39;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@opaque</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@opaque</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@host</span> <span class="ruby-operator">||</span> <span class="ruby-node">%w[file postgres]</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@scheme</span>)
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;//&#39;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">userinfo</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">userinfo</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;@&#39;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@host</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@host</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_port</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;:&#39;</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@port</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@path</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@query</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;?&#39;</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@query</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@fragment</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;#&#39;</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@fragment</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">str</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-user">
            
              <b>user</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-user" name="method-i-user" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the user component.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-user_source')" id="l_method-i-user_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L568" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-user_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 568</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">user</span>
  <span class="ruby-ivar">@user</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-user-3D">
            
              <b>user=</b>(user)
            
            <a href="../../classes/URI/Generic.html#method-i-user-3D" name="method-i-user-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h2 id="method-i-user-3D-label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p><a href="../String.html"><code>String</code></a></p>
</dd></dl>

<h2 id="method-i-user-3D-label-Description">Description</h2>

<p>Public setter for the <code>user</code> component (with validation).</p>

<p>See also URI::Generic.check_user.</p>

<h2 id="method-i-user-3D-label-Usage">Usage</h2>

<pre><code>require &#39;uri&#39;

uri = URI.parse(&quot;http://john:S3nsit1ve@my.example.com&quot;)
uri.user = &quot;sam&quot;
uri.to_s  #=&gt; &quot;http://sam:V3ry_S3nsit1ve@my.example.com&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-user-3D_source')" id="l_method-i-user-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L471" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-user-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 471</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">user=</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-identifier">check_user</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-identifier">set_user</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-comment"># returns user</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-userinfo">
            
              <b>userinfo</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-userinfo" name="method-i-userinfo" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the userinfo, either as ‘user’ or ‘user:password’.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-userinfo_source')" id="l_method-i-userinfo_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L557" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-userinfo_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 557</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">userinfo</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@password</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@user</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@user</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;:&#39;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@password</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-userinfo-3D">
            
              <b>userinfo=</b>(userinfo)
            
            <a href="../../classes/URI/Generic.html#method-i-userinfo-3D" name="method-i-userinfo-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets userinfo, argument is string like ‘name:pass’.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-userinfo-3D_source')" id="l_method-i-userinfo-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L441" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-userinfo-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 441</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">userinfo=</span>(<span class="ruby-identifier">userinfo</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">userinfo</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">check_userinfo</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">userinfo</span>)
  <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">userinfo</span>)
  <span class="ruby-comment"># returns userinfo</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
      <h2 class="sectiontitle">Instance Protected methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-i-component_ary">
            
              <b>component_ary</b>()
            
            <a href="../../classes/URI/Generic.html#method-i-component_ary" name="method-i-component_ary" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns an <a href="../Array.html"><code>Array</code></a> of the components defined from the <a href="Generic.html#COMPONENT"><code>COMPONENT</code></a> <a href="../Array.html"><code>Array</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-component_ary_source')" id="l_method-i-component_ary_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L1405" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-component_ary_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 1405</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">component_ary</span>
  <span class="ruby-identifier">component</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">x</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_host">
            
              <b>set_host</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-set_host" name="method-i-set_host" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Protected setter for the host component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-host-3D"><code>URI::Generic.host=</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_host_source')" id="l_method-i-set_host_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L603" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_host_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 603</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_host</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@host</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_opaque">
            
              <b>set_opaque</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-set_opaque" name="method-i-set_opaque" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Protected setter for the opaque component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-opaque-3D"><code>URI::Generic.opaque=</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_opaque_source')" id="l_method-i-set_opaque_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L873" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_opaque_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 873</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_opaque</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@opaque</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_password">
            
              <b>set_password</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-set_password" name="method-i-set_password" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Protected setter for the password component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-password-3D"><code>URI::Generic.password=</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_password_source')" id="l_method-i-set_password_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L534" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_password_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 534</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_password</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">v</span>
  <span class="ruby-comment"># returns v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_path">
            
              <b>set_path</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-set_path" name="method-i-set_path" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Protected setter for the path component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-path-3D"><code>URI::Generic.path=</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_path_source')" id="l_method-i-set_path_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L779" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 779</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_path</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@path</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_port">
            
              <b>set_port</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-set_port" name="method-i-set_port" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Protected setter for the port component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-port-3D"><code>URI::Generic.port=</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_port_source')" id="l_method-i-set_port_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L692" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_port_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 692</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_port</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-keyword">unless</span> <span class="ruby-operator">!</span><span class="ruby-identifier">v</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Integer</span>)
  <span class="ruby-ivar">@port</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_scheme">
            
              <b>set_scheme</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-set_scheme" name="method-i-set_scheme" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Protected setter for the scheme component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-scheme-3D"><code>URI::Generic.scheme=</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_scheme_source')" id="l_method-i-set_scheme_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L334" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_scheme_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 334</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_scheme</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@scheme</span> = <span class="ruby-identifier">v</span>&amp;.<span class="ruby-identifier">downcase</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_user">
            
              <b>set_user</b>(v)
            
            <a href="../../classes/URI/Generic.html#method-i-set_user" name="method-i-set_user" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Protected setter for the user component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-user-3D"><code>URI::Generic.user=</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_user_source')" id="l_method-i-set_user_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L524" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_user_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 524</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_user</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">v</span>, <span class="ruby-ivar">@password</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_userinfo">
            
              <b>set_userinfo</b>(user, password = nil)
            
            <a href="../../classes/URI/Generic.html#method-i-set_userinfo" name="method-i-set_userinfo" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Protected setter for the <code>user</code> component, and <code>password</code> if available (with validation).</p>

<p>See also <a href="Generic.html#method-i-userinfo-3D"><code>URI::Generic.userinfo=</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_userinfo_source')" id="l_method-i-set_userinfo_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/lib/uri/generic.rb#L509" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_userinfo_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/uri/generic.rb, line 509</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_userinfo</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">password</span>
    <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-identifier">split_userinfo</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@user</span>     = <span class="ruby-identifier">user</span>
  <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">password</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">password</span>

  [<span class="ruby-ivar">@user</span>, <span class="ruby-ivar">@password</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </main>
  </body>
</html>
