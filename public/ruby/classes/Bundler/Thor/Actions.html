<!DOCTYPE html>
<html lang="en">
<head>
    <title>Bundler::Thor::Actions</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='["Bundler", "Thor", "Actions"]'>


    <meta property="og:title" value="Bundler::Thor::Actions">

  

    <meta name="keywords" content="Bundler::Thor::Actions class, new, destination_root, destination_root=, relative_to_original_destination_root, source_paths, find_in_source_paths, inside, in_root, apply, run, run_ruby_script, thor, create_file, add_file, create_link, add_link, directory, empty_directory, copy_file, link_file, get, template, chmod, prepend_to_file, prepend_file, append_to_file, append_file, inject_into_class, inject_into_module, gsub_file, uncomment_lines, comment_lines, remove_file, remove_dir, insert_into_file, inject_into_file">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Module</span>
            Bundler::Thor::Actions
            
        </h2>
        <ul class="files">
            
            <li><a href="../../../files/ruby/lib/bundler/vendor/thor/lib/thor/actions_rb.html">ruby/lib/bundler/vendor/thor/lib/thor/actions.rb</a></li>
            
            <li><a href="../../../files/ruby/lib/bundler/vendor/thor/lib/thor/actions/create_file_rb.html">ruby/lib/bundler/vendor/thor/lib/thor/actions/create_file.rb</a></li>
            
            <li><a href="../../../files/ruby/lib/bundler/vendor/thor/lib/thor/actions/create_link_rb.html">ruby/lib/bundler/vendor/thor/lib/thor/actions/create_link.rb</a></li>
            
            <li><a href="../../../files/ruby/lib/bundler/vendor/thor/lib/thor/actions/directory_rb.html">ruby/lib/bundler/vendor/thor/lib/thor/actions/directory.rb</a></li>
            
            <li><a href="../../../files/ruby/lib/bundler/vendor/thor/lib/thor/actions/empty_directory_rb.html">ruby/lib/bundler/vendor/thor/lib/thor/actions/empty_directory.rb</a></li>
            
            <li><a href="../../../files/ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation_rb.html">ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb</a></li>
            
            <li><a href="../../../files/ruby/lib/bundler/vendor/thor/lib/thor/actions/inject_into_file_rb.html">ruby/lib/bundler/vendor/thor/lib/thor/actions/inject_into_file.rb</a></li>
            
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">MODULE</span>
          <a href="Actions/ClassMethods.html">Bundler::Thor::Actions::ClassMethods</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Actions/CapturableERB.html">Bundler::Thor::Actions::CapturableERB</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-add_file">add_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-add_link">add_link</a>,
              </li>
            
              
              <li>
                <a href="#method-i-append_file">append_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-append_to_file">append_to_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-apply">apply</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-chmod">chmod</a>,
              </li>
            
              
              <li>
                <a href="#method-i-comment_lines">comment_lines</a>,
              </li>
            
              
              <li>
                <a href="#method-i-copy_file">copy_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-create_file">create_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-create_link">create_link</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-destination_root">destination_root</a>,
              </li>
            
              
              <li>
                <a href="#method-i-destination_root-3D">destination_root=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-directory">directory</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-empty_directory">empty_directory</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-find_in_source_paths">find_in_source_paths</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-get">get</a>,
              </li>
            
              
              <li>
                <a href="#method-i-gsub_file">gsub_file</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-in_root">in_root</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inject_into_class">inject_into_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inject_into_file">inject_into_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inject_into_module">inject_into_module</a>,
              </li>
            
              
              <li>
                <a href="#method-i-insert_into_file">insert_into_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inside">inside</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-link_file">link_file</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-prepend_file">prepend_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-prepend_to_file">prepend_to_file</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-relative_to_original_destination_root">relative_to_original_destination_root</a>,
              </li>
            
              
              <li>
                <a href="#method-i-remove_dir">remove_dir</a>,
              </li>
            
              
              <li>
                <a href="#method-i-remove_file">remove_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-run">run</a>,
              </li>
            
              
              <li>
                <a href="#method-i-run_ruby_script">run_ruby_script</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-source_paths">source_paths</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-template">template</a>,
              </li>
            
              
              <li>
                <a href="#method-i-thor">thor</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-uncomment_lines">uncomment_lines</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <h2 class="sectiontitle">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">WARNINGS</td>
            <td>=</td>
            <td class="attr-value">{ unchanged_no_flag: &#39;File unchanged! The supplied flag value not found!&#39; }</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>Injects the given content into a file. Different from <a href="Actions.html#method-i-gsub_file"><code>gsub_file</code></a>, this method is reversible.</p>

<h4 id="label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>destination&lt;String&gt;
<dd>
<p>Relative path to the destination root</p>
</dd><dt>data&lt;String&gt;
<dd>
<p><a href="../../Data.html"><code>Data</code></a> to add to the file. Can be given as a block.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status and the flag for injection (:after or :before) or :force =&gt; true for insert two or more times the same content.</p>
</dd></dl>

<h4 id="label-Examples">Examples</h4>

<pre><code>insert_into_file &quot;config/environment.rb&quot;, &quot;config.gem :thor&quot;, :after =&gt; &quot;Rails::Initializer.run do |config|\n&quot;

insert_into_file &quot;config/environment.rb&quot;, :after =&gt; &quot;Rails::Initializer.run do |config|\n&quot; do
  gems = ask &quot;Which gems would you like to add?&quot;
  gems.split(&quot; &quot;).map{ |gem| &quot;  config.gem :#{gem}&quot; }.join(&quot;\n&quot;)
end
</code></pre></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <h2 class="sectiontitle">Attributes</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>behavior</td>
            <td class='attr-desc'></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <h2 class="sectiontitle">Class Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-c-new">
            
              <b>new</b>(args = [], options = {}, config = {})
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Extends initializer to add more configuration options.</p>

<h4 id="method-c-new-label-Configuration">Configuration</h4>
<dl class="rdoc-list note-list"><dt>behavior&lt;Symbol&gt;
<dd>
<p>The actions default behavior. Can be :invoke or :revoke. It also accepts :force, :skip and :pretend to set the behavior and the respective option.</p>
</dd><dt><a href="Actions.html#method-i-destination_root"><code>destination_root</code></a>&lt;String&gt;
<dd>
<p>The root directory needed for some actions.</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions.rb#L72" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">args</span> = [], <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">config</span> = {})
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">behavior</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">config</span>[<span class="ruby-value">:behavior</span>].<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;force&quot;</span>, <span class="ruby-string">&quot;skip&quot;</span>
    <span class="ruby-identifier">_cleanup_options_and_set</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">config</span>[<span class="ruby-value">:behavior</span>])
    <span class="ruby-value">:invoke</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;revoke&quot;</span>
    <span class="ruby-value">:revoke</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-value">:invoke</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">destination_root</span> = <span class="ruby-identifier">config</span>[<span class="ruby-value">:destination_root</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
      <h2 class="sectiontitle">Instance Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-i-add_file">
            
              <b>add_file</b>(destination, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-add_file" name="method-i-add_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Actions.html#method-i-create_file">create_file</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-add_link">
            
              <b>add_link</b>(destination, *args)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-add_link" name="method-i-add_link" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Actions.html#method-i-create_link">create_link</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-append_file">
            
              <b>append_file</b>(path, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-append_file" name="method-i-append_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Actions.html#method-i-append_to_file">append_to_file</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-append_to_file">
            
              <b>append_to_file</b>(path, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-append_to_file" name="method-i-append_to_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Append text to a file. Since it depends on <a href="Actions.html#method-i-insert_into_file"><code>insert_into_file</code></a>, it’s reversible.</p>

<h4 id="method-i-append_to_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>data&lt;String&gt;
<dd>
<p>the data to append to the file, can be also given as a block.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-append_to_file-label-Example">Example</h4>

<pre><code>append_to_file &#39;config/environments/test.rb&#39;, &#39;config.gem &quot;rspec&quot;&#39;

append_to_file &#39;config/environments/test.rb&#39; do
  &#39;config.gem &quot;rspec&quot;&#39;
end
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Actions.html#method-i-append_file">append_file</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-append_to_file_source')" id="l_method-i-append_to_file_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L195" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-append_to_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 195</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">append_to_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">config</span>[<span class="ruby-value">:before</span>] = <span class="ruby-regexp">/\z/</span>
  <span class="ruby-identifier">insert_into_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">*</span>(<span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">config</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-apply">
            
              <b>apply</b>(path, config = {})
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-apply" name="method-i-apply" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Loads an external file and execute it in the instance binding.</p>

<h4 id="method-i-apply-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>The path to the file to execute. Can be a web address or a relative path from the source root.</p>
</dd></dl>

<h4 id="method-i-apply-label-Examples">Examples</h4>

<pre><code>apply &quot;http://gist.github.com/103208&quot;

apply &quot;recipes/jquery.rb&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-apply_source')" id="l_method-i-apply_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions.rb#L212" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-apply_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">apply</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">config</span> = {})
  <span class="ruby-identifier">verbose</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">is_uri</span>  = <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r{^https?\://}</span>
  <span class="ruby-identifier">path</span>    = <span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">path</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">is_uri</span>

  <span class="ruby-identifier">say_status</span> <span class="ruby-value">:apply</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">verbose</span>
  <span class="ruby-identifier">shell</span>.<span class="ruby-identifier">padding</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>

  <span class="ruby-identifier">contents</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">is_uri</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;open-uri&quot;</span>
    <span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-string">&quot;Accept&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;application/x-thor-template&quot;</span>, <span class="ruby-operator">&amp;</span><span class="ruby-value">:read</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-value">:read</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">instance_eval</span>(<span class="ruby-identifier">contents</span>, <span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">shell</span>.<span class="ruby-identifier">padding</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-chmod">
            
              <b>chmod</b>(path, mode, config = {})
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-chmod" name="method-i-chmod" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Changes the mode of the given file or directory.</p>

<h4 id="method-i-chmod-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>mode&lt;Integer&gt;
<dd>
<p>the file mode</p>
</dd><dt>path&lt;String&gt;
<dd>
<p>the name of the file to change mode</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-chmod-label-Example">Example</h4>

<pre><code>chmod &quot;script/server&quot;, 0755
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-chmod_source')" id="l_method-i-chmod_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L148" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-chmod_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">chmod</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-identifier">config</span> = {})
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">behavior</span> <span class="ruby-operator">==</span> <span class="ruby-value">:invoke</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">destination_root</span>)
  <span class="ruby-identifier">say_status</span> <span class="ruby-value">:chmod</span>, <span class="ruby-identifier">relative_to_original_destination_root</span>(<span class="ruby-identifier">path</span>), <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:pretend</span>]
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;fileutils&quot;</span>
    <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">chmod_R</span>(<span class="ruby-identifier">mode</span>, <span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-comment_lines">
            
              <b>comment_lines</b>(path, flag, *args)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-comment_lines" name="method-i-comment_lines" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Comment all lines matching a given regex.  It will leave the space which existed before the beginning of the line in tact and will insert a single space after the comment hash.</p>

<h4 id="method-i-comment_lines-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>flag&lt;Regexp|String&gt;
<dd>
<p>the regexp or string used to decide which lines to comment</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-comment_lines-label-Example">Example</h4>

<pre><code>comment_lines &#39;config/initializers/session_store.rb&#39;, /cookie_store/
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-comment_lines_source')" id="l_method-i-comment_lines_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L310" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-comment_lines_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 310</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">comment_lines</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flag</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">flag</span> = <span class="ruby-identifier">flag</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:source</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">flag</span>.<span class="ruby-identifier">source</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">flag</span>

  <span class="ruby-identifier">gsub_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-regexp">/^(\s*)([^#\n]*#{flag})/</span>, <span class="ruby-string">&#39;\1# \2&#39;</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-copy_file">
            
              <b>copy_file</b>(source, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-copy_file" name="method-i-copy_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <h4 id="method-i-copy_file-label-Examples">Examples</h4>

<pre><code>copy_file &quot;README&quot;, &quot;doc/README&quot;

copy_file &quot;doc/README&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-copy_file_source')" id="l_method-i-copy_file_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L21" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-copy_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 21</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">copy_file</span>(<span class="ruby-identifier">source</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">source</span>
  <span class="ruby-identifier">source</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">source</span>.<span class="ruby-identifier">to_s</span>))

  <span class="ruby-identifier">resulting_destination</span> = <span class="ruby-identifier">create_file</span> <span class="ruby-identifier">destination</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">config</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">content</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">binread</span>(<span class="ruby-identifier">source</span>)
    <span class="ruby-identifier">content</span> = <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">content</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>
    <span class="ruby-identifier">content</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">config</span>[<span class="ruby-value">:mode</span>] <span class="ruby-operator">==</span> <span class="ruby-value">:preserve</span>
    <span class="ruby-identifier">mode</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">stat</span>(<span class="ruby-identifier">source</span>).<span class="ruby-identifier">mode</span>
    <span class="ruby-identifier">chmod</span>(<span class="ruby-identifier">resulting_destination</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-identifier">config</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-create_file">
            
              <b>create_file</b>(destination, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-create_file" name="method-i-create_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Create a new file relative to the destination root with the given data, which is the return value of a block or a data string.</p>

<h4 id="method-i-create_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>data&lt;String|NilClass&gt;
<dd>
<p>the data to append to the file.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-create_file-label-Examples">Examples</h4>

<pre><code>create_file &quot;lib/fun_party.rb&quot; do
  hostname = ask(&quot;What is the virtual hostname I should use?&quot;)
  &quot;vhost.name = #{hostname}&quot;
end

create_file &quot;config/apache.conf&quot;, &quot;your apache config&quot;
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Actions.html#method-i-add_file">add_file</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-create_file_source')" id="l_method-i-create_file_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/create_file.rb#L22" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-create_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/create_file.rb, line 22</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">create_file</span>(<span class="ruby-identifier">destination</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">action</span> <span class="ruby-constant">CreateFile</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">block</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">config</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-create_link">
            
              <b>create_link</b>(destination, *args)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-create_link" name="method-i-create_link" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Create a new file relative to the destination root from the given source.</p>

<h4 id="method-i-create_link-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>source&lt;String|NilClass&gt;
<dd>
<p>the relative path to the source root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd><dt>
<dd>
<p>give :symbolic =&gt; false for hard link.</p>
</dd></dl>

<h4 id="method-i-create_link-label-Examples">Examples</h4>

<pre><code>create_link &quot;config/apache.conf&quot;, &quot;/etc/apache.conf&quot;
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Actions.html#method-i-add_link">add_link</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-create_link_source')" id="l_method-i-create_link_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/create_link.rb#L17" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-create_link_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/create_link.rb, line 17</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">create_link</span>(<span class="ruby-identifier">destination</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">source</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">action</span> <span class="ruby-constant">CreateLink</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">source</span>, <span class="ruby-identifier">config</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-destination_root">
            
              <b>destination_root</b>()
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-destination_root" name="method-i-destination_root" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the root for this thor class (also aliased as destination root).</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-destination_root_source')" id="l_method-i-destination_root_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions.rb#L99" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-destination_root_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions.rb, line 99</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">destination_root</span>
  <span class="ruby-ivar">@destination_stack</span>.<span class="ruby-identifier">last</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-destination_root-3D">
            
              <b>destination_root=</b>(root)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-destination_root-3D" name="method-i-destination_root-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets the root for this thor class. Relatives path are added to the directory where the script was invoked and expanded.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-destination_root-3D_source')" id="l_method-i-destination_root-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions.rb#L106" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-destination_root-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions.rb, line 106</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">destination_root=</span>(<span class="ruby-identifier">root</span>)
  <span class="ruby-ivar">@destination_stack</span> <span class="ruby-operator">||=</span> []
  <span class="ruby-ivar">@destination_stack</span>[<span class="ruby-value">0</span>] = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">root</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-directory">
            
              <b>directory</b>(source, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-directory" name="method-i-directory" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Copies recursively the files from source directory to root directory. If any of the files finishes with .tt, it’s considered to be a template and is placed in the destination without the extension .tt. If any empty directory is found, it’s copied and all .empty_directory files are ignored. If any file name is wrapped within % signs, the text within the % signs will be executed as a method and replaced with the returned value. Let’s suppose a doc directory with the following files:</p>

<pre><code>doc/
  components/.empty_directory
  README
  rdoc.rb.tt
  %app_name%.rb
</code></pre>

<p>When invoked as:</p>

<pre><code>directory &quot;doc&quot;
</code></pre>

<p>It will create a doc directory in the destination with the following files (assuming that the ‘app_name` method returns the value “blog”):</p>

<pre><code>doc/
  components/
  README
  rdoc.rb
  blog.rb
</code></pre>

<p><strong>Encoded path note:</strong> Since Bundler::Thor internals use <a href="../../Object.html#method-i-respond_to-3F"><code>Object#respond_to?</code></a> to check if it can expand %something%, this ‘something` should be a public method in the class calling <a href="Actions.html#method-i-directory"><code>directory</code></a>. If a method is private, Bundler::Thor stack raises PrivateMethodEncodedError.</p>

<h4 id="method-i-directory-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>source&lt;String&gt;
<dd>
<p>the relative path to the source root.</p>
</dd><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status. If :recursive =&gt; false, does not look for paths recursively. If :mode =&gt; :preserve, preserve the file mode from the source. If :exclude_pattern =&gt; /regexp/, prevents copying files that match that regexp.</p>
</dd></dl>

<h4 id="method-i-directory-label-Examples">Examples</h4>

<pre><code>directory &quot;doc&quot;
directory &quot;doc&quot;, &quot;docs&quot;, :recursive =&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-directory_source')" id="l_method-i-directory_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/directory.rb#L49" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-directory_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/directory.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">directory</span>(<span class="ruby-identifier">source</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">source</span>
  <span class="ruby-identifier">action</span> <span class="ruby-constant">Directory</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">source</span>, <span class="ruby-identifier">destination</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">source</span>, <span class="ruby-identifier">config</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-empty_directory">
            
              <b>empty_directory</b>(destination, config = {})
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-empty_directory" name="method-i-empty_directory" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Creates an empty directory.</p>

<h4 id="method-i-empty_directory-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-empty_directory-label-Examples">Examples</h4>

<pre><code>empty_directory &quot;doc&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-empty_directory_source')" id="l_method-i-empty_directory_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/empty_directory.rb#L13" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-empty_directory_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/empty_directory.rb, line 13</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">empty_directory</span>(<span class="ruby-identifier">destination</span>, <span class="ruby-identifier">config</span> = {})
  <span class="ruby-identifier">action</span> <span class="ruby-constant">EmptyDirectory</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">config</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-find_in_source_paths">
            
              <b>find_in_source_paths</b>(file)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-find_in_source_paths" name="method-i-find_in_source_paths" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Receives a file or directory and search for it in the source paths.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-find_in_source_paths_source')" id="l_method-i-find_in_source_paths_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions.rb#L133" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-find_in_source_paths_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions.rb, line 133</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">find_in_source_paths</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-identifier">possible_files</span> = [<span class="ruby-identifier">file</span>, <span class="ruby-identifier">file</span> <span class="ruby-operator">+</span> <span class="ruby-constant">TEMPLATE_EXTNAME</span>]
  <span class="ruby-identifier">relative_root</span> = <span class="ruby-identifier">relative_to_original_destination_root</span>(<span class="ruby-identifier">destination_root</span>, <span class="ruby-keyword">false</span>)

  <span class="ruby-identifier">source_paths</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">possible_files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">source_file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">f</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">relative_root</span>))
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">source_file</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">source_file</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">message</span> = <span class="ruby-node">&quot;Could not find #{file.inspect} in any of your source paths. &quot;</span>.<span class="ruby-identifier">dup</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">source_root</span>
    <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;Please invoke #{self.class.name}.source_root(PATH) with the PATH containing your templates. &quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">source_paths</span>.<span class="ruby-identifier">empty?</span>
               <span class="ruby-string">&quot;Currently you have no source paths.&quot;</span>
             <span class="ruby-keyword">else</span>
               <span class="ruby-node">&quot;Your current source paths are: \n#{source_paths.join(&quot;\n&quot;)}&quot;</span>
             <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-identifier">message</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-get">
            
              <b>get</b>(source, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-get" name="method-i-get" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Gets the content at the given address and places it at the given relative destination. If a block is given instead of destination, the content of the url is yielded and used as location.</p>

<p><code>get</code> relies on open-uri, so passing application user input would provide a command injection attack vector.</p>

<h4 id="method-i-get-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>source&lt;String&gt;
<dd>
<p>the address of the given content.</p>
</dd><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-get-label-Examples">Examples</h4>

<pre><code>get &quot;http://gist.github.com/103208&quot;, &quot;doc/README&quot;

get &quot;http://gist.github.com/103208&quot; do |content|
  content.split(&quot;\n&quot;).first
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-get_source')" id="l_method-i-get_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L79" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-get_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 79</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get</span>(<span class="ruby-identifier">source</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>

  <span class="ruby-identifier">render</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">source</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r{^https?\://}</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;open-uri&quot;</span>
    <span class="ruby-constant">URI</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:open</span>, <span class="ruby-identifier">source</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">input</span><span class="ruby-operator">|</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">binmode</span>.<span class="ruby-identifier">read</span> }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">source</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">source</span>.<span class="ruby-identifier">to_s</span>))
    <span class="ruby-identifier">open</span>(<span class="ruby-identifier">source</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">input</span><span class="ruby-operator">|</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">binmode</span>.<span class="ruby-identifier">read</span> }
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">destination</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">render</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">source</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">create_file</span> <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">render</span>, <span class="ruby-identifier">config</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-gsub_file">
            
              <b>gsub_file</b>(path, flag, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-gsub_file" name="method-i-gsub_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Run a regular expression replacement on a file.</p>

<h4 id="method-i-gsub_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>flag&lt;Regexp|String&gt;
<dd>
<p>the regexp or string to be replaced</p>
</dd><dt>replacement&lt;String&gt;
<dd>
<p>the replacement, can be also given as a block</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-gsub_file-label-Example">Example</h4>

<pre><code>gsub_file &#39;app/controllers/application_controller.rb&#39;, /#\s*(filter_parameter_logging :password)/, &#39;\1&#39;

gsub_file &#39;README&#39;, /rake/, :green do |match|
  match &lt;&lt; &quot; no more. Use thor!&quot;
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-gsub_file_source')" id="l_method-i-gsub_file_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L264" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-gsub_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 264</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">gsub_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flag</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">behavior</span> <span class="ruby-operator">==</span> <span class="ruby-value">:invoke</span>
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}

  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">destination_root</span>)
  <span class="ruby-identifier">say_status</span> <span class="ruby-value">:gsub</span>, <span class="ruby-identifier">relative_to_original_destination_root</span>(<span class="ruby-identifier">path</span>), <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">true</span>)

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:pretend</span>]
    <span class="ruby-identifier">content</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">binread</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">content</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-identifier">flag</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-string">&quot;wb&quot;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">content</span>) }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-in_root">
            
              <b>in_root</b>()
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-in_root" name="method-i-in_root" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Goes to the root and execute the given block.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-in_root_source')" id="l_method-i-in_root_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions.rb#L196" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-in_root_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions.rb, line 196</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">in_root</span>
  <span class="ruby-identifier">inside</span>(<span class="ruby-ivar">@destination_stack</span>.<span class="ruby-identifier">first</span>) { <span class="ruby-keyword">yield</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-inject_into_class">
            
              <b>inject_into_class</b>(path, klass, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-inject_into_class" name="method-i-inject_into_class" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Injects text right after the class definition. Since it depends on <a href="Actions.html#method-i-insert_into_file"><code>insert_into_file</code></a>, it’s reversible.</p>

<h4 id="method-i-inject_into_class-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>klass&lt;String|Class&gt;
<dd>
<p>the class to be manipulated</p>
</dd><dt>data&lt;String&gt;
<dd>
<p>the data to append to the class, can be also given as a block.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-inject_into_class-label-Examples">Examples</h4>

<pre><code>inject_into_class &quot;app/controllers/application_controller.rb&quot;, ApplicationController, &quot;  filter_parameter :password\n&quot;

inject_into_class &quot;app/controllers/application_controller.rb&quot;, ApplicationController do
  &quot;  filter_parameter :password\n&quot;
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-inject_into_class_source')" id="l_method-i-inject_into_class_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L219" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-inject_into_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 219</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inject_into_class</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">config</span>[<span class="ruby-value">:after</span>] = <span class="ruby-regexp">/class #{klass}\n|class #{klass} .*\n/</span>
  <span class="ruby-identifier">insert_into_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">*</span>(<span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">config</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-inject_into_file">
            
              <b>inject_into_file</b>(destination, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-inject_into_file" name="method-i-inject_into_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Actions.html#method-i-insert_into_file">insert_into_file</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-inject_into_module">
            
              <b>inject_into_module</b>(path, module_name, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-inject_into_module" name="method-i-inject_into_module" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Injects text right after the module definition. Since it depends on <a href="Actions.html#method-i-insert_into_file"><code>insert_into_file</code></a>, it’s reversible.</p>

<h4 id="method-i-inject_into_module-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>module_name&lt;String|Class&gt;
<dd>
<p>the module to be manipulated</p>
</dd><dt>data&lt;String&gt;
<dd>
<p>the data to append to the class, can be also given as a block.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-inject_into_module-label-Examples">Examples</h4>

<pre><code>inject_into_module &quot;app/helpers/application_helper.rb&quot;, ApplicationHelper, &quot;  def help; &#39;help&#39;; end\n&quot;

inject_into_module &quot;app/helpers/application_helper.rb&quot;, ApplicationHelper do
  &quot;  def help; &#39;help&#39;; end\n&quot;
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-inject_into_module_source')" id="l_method-i-inject_into_module_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L242" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-inject_into_module_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inject_into_module</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">module_name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">config</span>[<span class="ruby-value">:after</span>] = <span class="ruby-regexp">/module #{module_name}\n|module #{module_name} .*\n/</span>
  <span class="ruby-identifier">insert_into_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">*</span>(<span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">config</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-insert_into_file">
            
              <b>insert_into_file</b>(destination, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-insert_into_file" name="method-i-insert_into_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Actions.html#method-i-inject_into_file">inject_into_file</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-insert_into_file_source')" id="l_method-i-insert_into_file_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/inject_into_file.rb#L26" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-insert_into_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/inject_into_file.rb, line 26</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">insert_into_file</span>(<span class="ruby-identifier">destination</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">block_given?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">block</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>

  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">||</span> {}
  <span class="ruby-identifier">config</span>[<span class="ruby-value">:after</span>] = <span class="ruby-regexp">/\z/</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:before</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:after</span>)

  <span class="ruby-identifier">action</span> <span class="ruby-constant">InjectIntoFile</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">config</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-inside">
            
              <b>inside</b>(dir = &quot;&quot;, config = {}, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-inside" name="method-i-inside" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Do something in the root or on a provided subfolder. If a relative path is given it’s referenced from the current root. The full path is yielded to the block you provide. The path is set back to the previous path when the method exits.</p>

<h4 id="method-i-inside-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>dir&lt;String&gt;
<dd>
<p>the directory to move to.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; true to log and use padding.</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-inside_source')" id="l_method-i-inside_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions.rb#L168" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-inside_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions.rb, line 168</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inside</span>(<span class="ruby-identifier">dir</span> = <span class="ruby-string">&quot;&quot;</span>, <span class="ruby-identifier">config</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">verbose</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">pretend</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:pretend</span>]

  <span class="ruby-identifier">say_status</span> <span class="ruby-value">:inside</span>, <span class="ruby-identifier">dir</span>, <span class="ruby-identifier">verbose</span>
  <span class="ruby-identifier">shell</span>.<span class="ruby-identifier">padding</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-ivar">@destination_stack</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-identifier">destination_root</span>)

  <span class="ruby-comment"># If the directory doesnt exist and we&#39;re not pretending</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">destination_root</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">pretend</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;fileutils&quot;</span>
    <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span>(<span class="ruby-identifier">destination_root</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">pretend</span>
    <span class="ruby-comment"># In pretend mode, just yield down to the block</span>
    <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">destination_root</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;fileutils&quot;</span>
    <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">cd</span>(<span class="ruby-identifier">destination_root</span>) { <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">destination_root</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">yield</span> }
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@destination_stack</span>.<span class="ruby-identifier">pop</span>
  <span class="ruby-identifier">shell</span>.<span class="ruby-identifier">padding</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-link_file">
            
              <b>link_file</b>(source, *args)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-link_file" name="method-i-link_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Links the file from the relative source to the relative destination. If the destination is not given it’s assumed to be equal to the source.</p>

<h4 id="method-i-link_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>source&lt;String&gt;
<dd>
<p>the relative path to the source root.</p>
</dd><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-link_file-label-Examples">Examples</h4>

<pre><code>link_file &quot;README&quot;, &quot;doc/README&quot;

link_file &quot;doc/README&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-link_file_source')" id="l_method-i-link_file_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L51" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-link_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 51</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">link_file</span>(<span class="ruby-identifier">source</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">source</span>
  <span class="ruby-identifier">source</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">source</span>.<span class="ruby-identifier">to_s</span>))

  <span class="ruby-identifier">create_link</span> <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">source</span>, <span class="ruby-identifier">config</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-prepend_file">
            
              <b>prepend_file</b>(path, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-prepend_file" name="method-i-prepend_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Actions.html#method-i-prepend_to_file">prepend_to_file</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-prepend_to_file">
            
              <b>prepend_to_file</b>(path, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-prepend_to_file" name="method-i-prepend_to_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Prepend text to a file. Since it depends on <a href="Actions.html#method-i-insert_into_file"><code>insert_into_file</code></a>, it’s reversible.</p>

<h4 id="method-i-prepend_to_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>data&lt;String&gt;
<dd>
<p>the data to prepend to the file, can be also given as a block.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-prepend_to_file-label-Example">Example</h4>

<pre><code>prepend_to_file &#39;config/environments/test.rb&#39;, &#39;config.gem &quot;rspec&quot;&#39;

prepend_to_file &#39;config/environments/test.rb&#39; do
  &#39;config.gem &quot;rspec&quot;&#39;
end
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Actions.html#method-i-prepend_file">prepend_file</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-prepend_to_file_source')" id="l_method-i-prepend_to_file_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L173" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-prepend_to_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 173</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">prepend_to_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">config</span>[<span class="ruby-value">:after</span>] = <span class="ruby-regexp">/\A/</span>
  <span class="ruby-identifier">insert_into_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">*</span>(<span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">config</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-relative_to_original_destination_root">
            
              <b>relative_to_original_destination_root</b>(path, remove_dot = true)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-relative_to_original_destination_root" name="method-i-relative_to_original_destination_root" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the given path relative to the absolute root (ie, root where the script started).</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-relative_to_original_destination_root_source')" id="l_method-i-relative_to_original_destination_root_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions.rb#L114" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-relative_to_original_destination_root_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">relative_to_original_destination_root</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">remove_dot</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">root</span> = <span class="ruby-ivar">@destination_stack</span>[<span class="ruby-value">0</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-identifier">root</span>) <span class="ruby-operator">&amp;&amp;</span> [<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">SEPARATOR</span>, <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">ALT_SEPARATOR</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;&#39;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">path</span>[<span class="ruby-identifier">root</span>.<span class="ruby-identifier">size</span><span class="ruby-operator">..</span><span class="ruby-identifier">root</span>.<span class="ruby-identifier">size</span>])
    <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">dup</span>
    <span class="ruby-identifier">path</span>[<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">root</span>.<span class="ruby-identifier">size</span>] = <span class="ruby-string">&#39;.&#39;</span>
    <span class="ruby-identifier">remove_dot</span> <span class="ruby-operator">?</span> (<span class="ruby-identifier">path</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">path</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">path</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-remove_dir">
            
              <b>remove_dir</b>(path, config = {})
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-remove_dir" name="method-i-remove_dir" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Actions.html#method-i-remove_file">remove_file</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-remove_file">
            
              <b>remove_file</b>(path, config = {})
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-remove_file" name="method-i-remove_file" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Removes a file at the given location.</p>

<h4 id="method-i-remove_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-remove_file-label-Example">Example</h4>

<pre><code>remove_file &#39;README&#39;
remove_file &#39;app/controllers/application_controller.rb&#39;
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Actions.html#method-i-remove_dir">remove_dir</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-remove_file_source')" id="l_method-i-remove_file_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L327" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-remove_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 327</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">remove_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">config</span> = {})
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">behavior</span> <span class="ruby-operator">==</span> <span class="ruby-value">:invoke</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">destination_root</span>)

  <span class="ruby-identifier">say_status</span> <span class="ruby-value">:remove</span>, <span class="ruby-identifier">relative_to_original_destination_root</span>(<span class="ruby-identifier">path</span>), <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-value">:pretend</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;fileutils&quot;</span>
    <span class="ruby-operator">::</span><span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-run">
            
              <b>run</b>(command, config = {})
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-run" name="method-i-run" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Executes a command returning the contents of the command.</p>

<h4 id="method-i-run-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>command&lt;String&gt;
<dd>
<p>the command to be executed.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status, :capture =&gt; true to hide to output. Specify :with to append an executable to command execution.</p>
</dd></dl>

<h4 id="method-i-run-label-Example">Example</h4>

<pre><code>inside(&#39;vendor&#39;) do
  run(&#39;ln -s ~/edge rails&#39;)
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-run_source')" id="l_method-i-run_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions.rb#L244" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-run_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions.rb, line 244</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">run</span>(<span class="ruby-identifier">command</span>, <span class="ruby-identifier">config</span> = {})
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">behavior</span> <span class="ruby-operator">==</span> <span class="ruby-value">:invoke</span>

  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">relative_to_original_destination_root</span>(<span class="ruby-identifier">destination_root</span>, <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">desc</span> = <span class="ruby-node">&quot;#{command} from #{destination.inspect}&quot;</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">config</span>[<span class="ruby-value">:with</span>]
    <span class="ruby-identifier">desc</span> = <span class="ruby-node">&quot;#{File.basename(config[:with].to_s)} #{desc}&quot;</span>
    <span class="ruby-identifier">command</span> = <span class="ruby-node">&quot;#{config[:with]} #{command}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">say_status</span> <span class="ruby-value">:run</span>, <span class="ruby-identifier">desc</span>, <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">true</span>)

  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:pretend</span>]

  <span class="ruby-identifier">env_splat</span> = [<span class="ruby-identifier">config</span>[<span class="ruby-value">:env</span>]] <span class="ruby-keyword">if</span> <span class="ruby-identifier">config</span>[<span class="ruby-value">:env</span>]

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">config</span>[<span class="ruby-value">:capture</span>]
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;open3&quot;</span>
    <span class="ruby-identifier">result</span>, <span class="ruby-identifier">status</span> = <span class="ruby-constant">Open3</span>.<span class="ruby-identifier">capture2e</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">env_splat</span>, <span class="ruby-identifier">command</span>.<span class="ruby-identifier">to_s</span>)
    <span class="ruby-identifier">success</span> = <span class="ruby-identifier">status</span>.<span class="ruby-identifier">success?</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-identifier">system</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">env_splat</span>, <span class="ruby-identifier">command</span>.<span class="ruby-identifier">to_s</span>)
    <span class="ruby-identifier">success</span> = <span class="ruby-identifier">result</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">abort</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">success</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:abort_on_failure</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">exit_on_failure?</span>)

  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-run_ruby_script">
            
              <b>run_ruby_script</b>(command, config = {})
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-run_ruby_script" name="method-i-run_ruby_script" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Executes a ruby script (taking into account WIN32 platform quirks).</p>

<h4 id="method-i-run_ruby_script-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>command&lt;String&gt;
<dd>
<p>the command to be executed.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-run_ruby_script_source')" id="l_method-i-run_ruby_script_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions.rb#L281" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-run_ruby_script_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions.rb, line 281</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">run_ruby_script</span>(<span class="ruby-identifier">command</span>, <span class="ruby-identifier">config</span> = {})
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">behavior</span> <span class="ruby-operator">==</span> <span class="ruby-value">:invoke</span>
  <span class="ruby-identifier">run</span> <span class="ruby-identifier">command</span>, <span class="ruby-identifier">config</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:with</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-constant">Bundler</span><span class="ruby-operator">::</span><span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">ruby_command</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-source_paths">
            
              <b>source_paths</b>()
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-source_paths" name="method-i-source_paths" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Holds source paths in instance so they can be manipulated.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-source_paths_source')" id="l_method-i-source_paths_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions.rb#L127" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-source_paths_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">source_paths</span>
  <span class="ruby-ivar">@source_paths</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">source_paths_for_search</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-template">
            
              <b>template</b>(source, *args, &amp;block)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-template" name="method-i-template" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Gets an <a href="../../ERB.html"><code>ERB</code></a> template at the relative source, executes it and makes a copy at the relative destination. If the destination is not given it’s assumed to be equal to the source removing .tt from the filename.</p>

<h4 id="method-i-template-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>source&lt;String&gt;
<dd>
<p>the relative path to the source root.</p>
</dd><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-template-label-Examples">Examples</h4>

<pre><code>template &quot;README&quot;, &quot;doc/README&quot;

template &quot;doc/README&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-template_source')" id="l_method-i-template_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L115" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-template_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 115</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">template</span>(<span class="ruby-identifier">source</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/#{TEMPLATE_EXTNAME}$/</span>, <span class="ruby-string">&quot;&quot;</span>)

  <span class="ruby-identifier">source</span>  = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">source</span>.<span class="ruby-identifier">to_s</span>))
  <span class="ruby-identifier">context</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:context</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">instance_eval</span>(<span class="ruby-string">&quot;binding&quot;</span>)

  <span class="ruby-identifier">create_file</span> <span class="ruby-identifier">destination</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">config</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> = <span class="ruby-constant">ERB</span>.<span class="ruby-identifier">version</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">/(\d+\.\d+\.\d+)/</span>)
    <span class="ruby-identifier">capturable_erb</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">match</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">match</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">&gt;=</span> <span class="ruby-string">&quot;2.2.0&quot;</span> <span class="ruby-comment"># Ruby 2.6+</span>
      <span class="ruby-constant">CapturableERB</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">::</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">binread</span>(<span class="ruby-identifier">source</span>), <span class="ruby-value">:trim_mode</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;-&quot;</span>, <span class="ruby-value">:eoutvar</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;@output_buffer&quot;</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">CapturableERB</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">::</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">binread</span>(<span class="ruby-identifier">source</span>), <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;-&quot;</span>, <span class="ruby-string">&quot;@output_buffer&quot;</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">content</span> = <span class="ruby-identifier">capturable_erb</span>.<span class="ruby-identifier">tap</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">erb</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">erb</span>.<span class="ruby-identifier">filename</span> = <span class="ruby-identifier">source</span>
    <span class="ruby-keyword">end</span>.<span class="ruby-identifier">result</span>(<span class="ruby-identifier">context</span>)
    <span class="ruby-identifier">content</span> = <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">content</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>
    <span class="ruby-identifier">content</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-thor">
            
              <b>thor</b>(command, *args)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-thor" name="method-i-thor" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Run a thor command. A hash of options can be given and it’s converted to switches.</p>

<h4 id="method-i-thor-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>command&lt;String&gt;
<dd>
<p>the command to be invoked</p>
</dd><dt>args&lt;Array&gt;
<dd>
<p>arguments to the command</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status, :capture =&gt; true to hide to output. Other options are given as parameter to Bundler::Thor.</p>
</dd></dl>

<h4 id="method-i-thor-label-Examples">Examples</h4>

<pre><code>thor :install, &quot;http://gist.github.com/103208&quot;
#=&gt; thor install http://gist.github.com/103208

thor :list, :all =&gt; true, :substring =&gt; &#39;rails&#39;
#=&gt; thor list --all --substring=rails
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-thor_source')" id="l_method-i-thor_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions.rb#L304" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-thor_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions.rb, line 304</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">thor</span>(<span class="ruby-identifier">command</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">config</span>  = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">verbose</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:verbose</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:verbose</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">pretend</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:pretend</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:pretend</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">capture</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:capture</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:capture</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>

  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-identifier">command</span>)
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">Bundler</span><span class="ruby-operator">::</span><span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Options</span>.<span class="ruby-identifier">to_switches</span>(<span class="ruby-identifier">config</span>)
  <span class="ruby-identifier">command</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot; &quot;</span>).<span class="ruby-identifier">strip</span>

  <span class="ruby-identifier">run</span> <span class="ruby-identifier">command</span>, <span class="ruby-value">:with</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">:thor</span>, <span class="ruby-value">:verbose</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">verbose</span>, <span class="ruby-value">:pretend</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">pretend</span>, <span class="ruby-value">:capture</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">capture</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-uncomment_lines">
            
              <b>uncomment_lines</b>(path, flag, *args)
            
            <a href="../../../classes/Bundler/Thor/Actions.html#method-i-uncomment_lines" name="method-i-uncomment_lines" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Uncomment all lines matching a given regex.  It will leave the space which existed before the comment hash in tact but will remove any spacing between the comment hash and the beginning of the line.</p>

<h4 id="method-i-uncomment_lines-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>flag&lt;Regexp|String&gt;
<dd>
<p>the regexp or string used to decide which lines to uncomment</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-uncomment_lines-label-Example">Example</h4>

<pre><code>uncomment_lines &#39;config/initializers/session_store.rb&#39;, /active_record/
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-uncomment_lines_source')" id="l_method-i-uncomment_lines_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/7ebc380bb431cce87a1b436d026cc8540008abf4/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb#L291" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-uncomment_lines_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/lib/bundler/vendor/thor/lib/thor/actions/file_manipulation.rb, line 291</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">uncomment_lines</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flag</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">flag</span> = <span class="ruby-identifier">flag</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:source</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">flag</span>.<span class="ruby-identifier">source</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">flag</span>

  <span class="ruby-identifier">gsub_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-regexp">/^(\s*)#[[:blank:]]*(.*#{flag})/</span>, <span class="ruby-string">&#39;\1\2&#39;</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </main>
  </body>
</html>
