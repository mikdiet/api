<!DOCTYPE html>
<html lang="en">
<head>
    <title>Range</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>

<meta name="data-rel-prefix" content="/">
<meta name="data-tree-keys" content='["Range"]'>


    <meta property="og:title" value="Range">

  
    
    <meta name="description" content="A Range object represents a collection of values that are between given begin and end values.  You can create an Range object explicitly with:  A range literal:  # Ranges that use &#39;..">
    <meta property="og:description" content="A Range object represents a collection of values that are between given begin and end values.  You can create an Range object explicitly with:  A range literal:  # Ranges that use &#39;..">
  

    <meta name="keywords" content="Range class, json_create, as_json, to_json, new, ==, ===, eql?, hash, each, step, %, bsearch, begin, end, first, last, min, max, minmax, size, to_a, entries, to_s, inspect, exclude_end?, member?, include?, cover?, count">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Class</span>
            Range
            
                <span class="parent">&lt;
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h2>
        <ul class="files">
            
            <li><a href="../files/ruby/ext/json/lib/json/add/range_rb.html">ruby/ext/json/lib/json/add/range.rb</a></li>
            
            <li><a href="../files/ruby/lib/pp_rb.html">ruby/lib/pp.rb</a></li>
            
            <li><a href="../files/ruby/range_c.html">ruby/range.c</a></li>
            
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>A Range object represents a collection of values that are between given begin and end values.</p>

<p>You can create an Range object explicitly with:</p>
<ul><li>
<p>A <a href="doc/syntax/literals_rdoc.html#label-Range+Literals">range literal</a>:</p>

<pre><code># Ranges that use &#39;..&#39; to include the given end value.
(1..4).to_a      # =&gt; [1, 2, 3, 4]
(&#39;a&#39;..&#39;d&#39;).to_a  # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
# Ranges that use &#39;...&#39; to exclude the given end value.
(1...4).to_a     # =&gt; [1, 2, 3]
(&#39;a&#39;...&#39;d&#39;).to_a # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</code></pre>
</li></ul>

<p>A range may be created using method <a href="Range.html#method-c-new"><code>Range.new</code></a>:</p>

<pre><code># Ranges that by default include the given end value.
Range.new(1, 4).to_a     # =&gt; [1, 2, 3, 4]
Range.new(&#39;a&#39;, &#39;d&#39;).to_a # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
# Ranges that use third argument +exclude_end+ to exclude the given end value.
Range.new(1, 4, true).to_a     # =&gt; [1, 2, 3]
Range.new(&#39;a&#39;, &#39;d&#39;, true).to_a # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</code></pre>

<h2 id="class-Range-label-Beginless+Ranges">Beginless Ranges</h2>

<p>A <em>beginless</em> <em>range</em> has a definite end value, but a <code>nil</code> begin value. Such a range includes all values up to the end value.</p>

<pre><code>r = (..4)               # =&gt; nil..4
r.begin                 # =&gt; nil
r.include?(-50)         # =&gt; true
r.include?(4)           # =&gt; true

r = (...4)              # =&gt; nil...4
r.include?(4)           # =&gt; false

Range.new(nil, 4)       # =&gt; nil..4
Range.new(nil, 4, true) # =&gt; nil...4
</code></pre>

<p>A beginless range may be used to slice an array:</p>

<pre><code>a = [1, 2, 3, 4]
r = (..2) # =&gt; nil...2
a[r]      # =&gt; [1, 2]
</code></pre>

<p>Method <code>each</code> for a beginless range raises an exception.</p>

<h2 id="class-Range-label-Endless+Ranges">Endless Ranges</h2>

<p>An <em>endless</em> <em>range</em> has a definite begin value, but a <code>nil</code> end value. Such a range includes all values from the begin value.</p>

<pre><code>r = (1..)         # =&gt; 1..
r.end             # =&gt; nil
r.include?(50)    # =&gt; true

Range.new(1, nil) # =&gt; 1..
</code></pre>

<p>The literal for  an endless range may be written with either two dots or three. The range has the same elements, either way. But note that the two are not equal:</p>

<pre><code>r0 = (1..)           # =&gt; 1..
r1 = (1...)          # =&gt; 1...
r0.begin == r1.begin # =&gt; true
r0.end == r1.end     # =&gt; true
r0 == r1             # =&gt; false
</code></pre>

<p>An endless range may be used to slice an array:</p>

<pre><code>a = [1, 2, 3, 4]
r = (2..) # =&gt; 2..
a[r]      # =&gt; [3, 4]
</code></pre>

<p>Method <code>each</code> for an endless range calls the given block indefinitely:</p>

<pre><code>a = []
r = (1..)
r.each do |i|
  a.push(i) if i.even?
  break if i &gt; 10
end
a # =&gt; [2, 4, 6, 8, 10]
</code></pre>

<h2 id="class-Range-label-Ranges+and+Other+Classes">Ranges and Other Classes</h2>

<p>An object may be put into a range if its class implements instance method <code>&lt;=&gt;</code>. Ruby core classes that do so include <a href="Array.html"><code>Array</code></a>, <a href="Complex.html"><code>Complex</code></a>, <a href="File/Stat.html"><code>File::Stat</code></a>, <a href="Float.html"><code>Float</code></a>, <a href="Integer.html"><code>Integer</code></a>, <a href="Kernel.html"><code>Kernel</code></a>, <a href="Module.html"><code>Module</code></a>, <a href="Numeric.html"><code>Numeric</code></a>, <a href="Rational.html"><code>Rational</code></a>, <a href="String.html"><code>String</code></a>, <a href="Symbol.html"><code>Symbol</code></a>, and <a href="Time.html"><code>Time</code></a>.</p>

<p>Example:</p>

<pre><code>t0 = Time.now         # =&gt; 2021-09-19 09:22:48.4854986 -0500
t1 = Time.now         # =&gt; 2021-09-19 09:22:56.0365079 -0500
t2 = Time.now         # =&gt; 2021-09-19 09:23:08.5263283 -0500
(t0..t2).include?(t1) # =&gt; true
(t0..t1).include?(t2) # =&gt; false
</code></pre>

<p>A range can be iterated over only if its elements implement instance method <code>succ</code>. Ruby core classes that do so include <a href="Integer.html"><code>Integer</code></a>, <a href="String.html"><code>String</code></a>, and <a href="Symbol.html"><code>Symbol</code></a> (but not the other classes mentioned above).</p>

<p>Iterator methods include:</p>
<ul><li>
<p>In Range itself: <a href="Range.html#method-i-each"><code>each</code></a>, <a href="Range.html#method-i-step"><code>step</code></a>, and <a href="Range.html#method-i-25"><code>%</code></a></p>
</li><li>
<p>Included from module Enumerable: <a href="Enumerable.html#method-i-each_entry"><code>each_entry</code></a>, <a href="Enumerable.html#method-i-each_with_index"><code>each_with_index</code></a>, <a href="Enumerable.html#method-i-each_with_object"><code>each_with_object</code></a>, <a href="Enumerable.html#method-i-each_slice"><code>each_slice</code></a>, <a href="Enumerable.html#method-i-each_cons"><code>each_cons</code></a>, and <a href="Enumerable.html#method-i-reverse_each"><code>reverse_each</code></a>.</p>
</li></ul>

<p>Example:</p>

<pre><code>a = []
(1..4).each {|i| a.push(i) }
a # =&gt; [1, 2, 3, 4]
</code></pre>

<h2 id="class-Range-label-Ranges+and+User-Defined+Classes">Ranges and User-Defined Classes</h2>

<p>A user-defined class that is to be used in a range must implement instance <code>&lt;=&gt;</code>; see <a href="Integer.html#label-method-i-3C-3D-3E">Integer#<=></a>. To make iteration available, it must also implement instance method <code>succ</code>; see <a href="Integer.html#method-i-succ"><code>Integer#succ</code></a>.</p>

<p>The class below implements both <code>&lt;=&gt;</code> and <code>succ</code>, and so can be used both to construct ranges and to iterate over them. Note that the <a href="Comparable.html"><code>Comparable</code></a> module is included so the <code>==</code> method is defined in terms of <code>&lt;=&gt;</code>.</p>

<pre><code># Represent a string of &#39;X&#39; characters.
class Xs
  include Comparable
  attr_accessor :length
  def initialize(n)
    @length = n
  end
  def succ
    Xs.new(@length + 1)
  end
  def &lt;=&gt;(other)
    @length &lt;=&gt; other.length
  end
  def to_s
    sprintf &quot;%2d #{inspect}&quot;, @length
  end
  def inspect
    &#39;X&#39; * @length
  end
end

r = Xs.new(3)..Xs.new(6) #=&gt; XXX..XXXXXX
r.to_a                   #=&gt; [XXX, XXXX, XXXXX, XXXXXX]
r.include?(Xs.new(5))    #=&gt; true
r.include?(Xs.new(7))    #=&gt; false
</code></pre>

<h2 id="class-Range-label-What-27s+Here">What’s Here</h2>

<p>First, what’s elsewhere. Class Range:</p>
<ul><li>
<p>Inherits from <a href="Object.html#class-Object-label-What-27s+Here">class Object</a>.</p>
</li><li>
<p>Includes <a href="Enumerable.html#module-Enumerable-label-What-27s+Here">module Enumerable</a>, which provides dozens of additional methods.</p>
</li></ul>

<p>Here, class Range provides methods that are useful for:</p>
<ul><li>
<p><a href="#class-Range-label-Methods+for+Creating+a+Range">Creating a Range</a></p>
</li><li>
<p><a href="#class-Range-label-Methods+for+Querying">Querying</a></p>
</li><li>
<p><a href="#class-Range-label-Methods+for+Comparing">Comparing</a></p>
</li><li>
<p><a href="#class-Range-label-Methods+for+Iterating">Iterating</a></p>
</li><li>
<p><a href="#class-Range-label-Methods+for+Converting">Converting</a></p>
</li></ul>

<h3 id="class-Range-label-Methods+for+Creating+a+Range">Methods for Creating a Range</h3>
<ul><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-c-new"><code>::new</code></a>
<dd>
<p>Returns a new range.</p>
</dd></dl>
</li></ul>

<h3 id="class-Range-label-Methods+for+Querying">Methods for Querying</h3>
<ul><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-begin"><code>begin</code></a>
<dd>
<p>Returns the begin value given for <code>self</code>.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-bsearch"><code>bsearch</code></a>
<dd>
<p>Returns an element from <code>self</code> selected by a binary search.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-count"><code>count</code></a>
<dd>
<p>Returns a count of elements in <code>self</code>.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-end"><code>end</code></a>
<dd>
<p>Returns the end value given for <code>self</code>.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-exclude_end-3F"><code>exclude_end?</code></a>
<dd>
<p>Returns whether the end object is excluded.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-first"><code>first</code></a>
<dd>
<p>Returns the first elements of <code>self</code>.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-hash"><code>hash</code></a>
<dd>
<p>Returns the integer hash code.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-last"><code>last</code></a>
<dd>
<p>Returns the last elements of <code>self</code>.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-max"><code>max</code></a>
<dd>
<p>Returns the maximum values in <code>self</code>.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-min"><code>min</code></a>
<dd>
<p>Returns the minimum values in <code>self</code>.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-minmax"><code>minmax</code></a>
<dd>
<p>Returns the minimum and maximum values in <code>self</code>.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-size"><code>size</code></a>
<dd>
<p>Returns the count of elements in <code>self</code>.</p>
</dd></dl>
</li></ul>

<h3 id="class-Range-label-Methods+for+Comparing">Methods for Comparing</h3>
<ul><li><dl class="rdoc-list note-list"><dt><a href="#method-i-3D-3D">#==</a>
<dd>
<p>Returns whether a given object is equal to <code>self</code> (uses <a href="Range.html#method-i-3D-3D"><code>==</code></a>).</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-3D-3D-3D"><code>===</code></a>
<dd>
<p>Returns whether the given object is between the begin and end values.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-cover-3F"><code>cover?</code></a>
<dd>
<p>Returns whether a given object is within <code>self</code>.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-eql-3F"><code>eql?</code></a>
<dd>
<p>Returns whether a given object is equal to <code>self</code> (uses <a href="Range.html#method-i-eql-3F"><code>eql?</code></a>).</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-include-3F"><code>include?</code></a> (aliased as <a href="Range.html#method-i-member-3F"><code>member?</code></a>)
<dd>
<p>Returns whether a given object is an element of <code>self</code>.</p>
</dd></dl>
</li></ul>

<h3 id="class-Range-label-Methods+for+Iterating">Methods for Iterating</h3>
<ul><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-25"><code>%</code></a>
<dd>
<p>Requires argument <code>n</code>; calls the block with each <code>n</code>-th element of <code>self</code>.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-each"><code>each</code></a>
<dd>
<p>Calls the block with each element of <code>self</code>.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-step"><code>step</code></a>
<dd>
<p>Takes optional argument <code>n</code> (defaults to 1); calls the block with each <code>n</code>-th element of <code>self</code>.</p>
</dd></dl>
</li></ul>

<h3 id="class-Range-label-Methods+for+Converting">Methods for Converting</h3>
<ul><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-inspect"><code>inspect</code></a>
<dd>
<p>Returns a string representation of <code>self</code> (uses <a href="Range.html#method-i-inspect"><code>inspect</code></a>).</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-to_a"><code>to_a</code></a> (aliased as <a href="Range.html#method-i-entries"><code>entries</code></a>)
<dd>
<p>Returns elements of <code>self</code> in an array.</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Range.html#method-i-to_s"><code>to_s</code></a>
<dd>
<p>Returns a string representation of <code>self</code> (uses <a href="Range.html#method-i-to_s"><code>to_s</code></a>).</p>
</dd></dl>
</li></ul>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-25">%</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3D-3D">==</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3D-3D-3D">===</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-as_json">as_json</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-begin">begin</a>,
              </li>
            
              
              <li>
                <a href="#method-i-bsearch">bsearch</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-count">count</a>,
              </li>
            
              
              <li>
                <a href="#method-i-cover-3F">cover?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-each">each</a>,
              </li>
            
              
              <li>
                <a href="#method-i-end">end</a>,
              </li>
            
              
              <li>
                <a href="#method-i-entries">entries</a>,
              </li>
            
              
              <li>
                <a href="#method-i-eql-3F">eql?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-exclude_end-3F">exclude_end?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-first">first</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-hash">hash</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-include-3F">include?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>J</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-json_create">json_create</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-last">last</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-max">max</a>,
              </li>
            
              
              <li>
                <a href="#method-i-member-3F">member?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-min">min</a>,
              </li>
            
              
              <li>
                <a href="#method-i-minmax">minmax</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-size">size</a>,
              </li>
            
              
              <li>
                <a href="#method-i-step">step</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_a">to_a</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_json">to_json</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="Enumerable.html">
              Enumerable
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    


    


    <!-- Methods -->
    
      <h2 class="sectiontitle">Class Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-c-json_create">
            
              <b>json_create</b>(object)
            
            <a href="../classes/Range.html#method-c-json_create" name="method-c-json_create" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Deserializes <a href="JSON.html"><code>JSON</code></a> string by constructing new <a href="Range.html"><code>Range</code></a> object with arguments <code>a</code> serialized by <code>to_json</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-json_create_source')" id="l_method-c-json_create_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/ext/json/lib/json/add/range.rb#L10" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-json_create_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/ext/json/lib/json/add/range.rb, line 10</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">json_create</span>(<span class="ruby-identifier">object</span>)
  <span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">object</span>[<span class="ruby-string">&#39;a&#39;</span>])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-new">
            
              <b>Range.new(begin, end, exclude_end = false) &rarr; new_range
</b>
            
            <a href="../classes/Range.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a new range based on the given objects <code>begin</code> and <code>end</code>. Optional argument <code>exclude_end</code> determines whether object <code>end</code> is included as the last object in the range:</p>

<pre><code>Range.new(2, 5).to_a            # =&gt; [2, 3, 4, 5]
Range.new(2, 5, true).to_a      # =&gt; [2, 3, 4]
Range.new(&#39;a&#39;, &#39;d&#39;).to_a        # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
Range.new(&#39;a&#39;, &#39;d&#39;, true).to_a  # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre>static VALUE
range_initialize(int argc, VALUE *argv, VALUE range)
{
    VALUE beg, end, flags;

    rb_scan_args(argc, argv, &quot;21&quot;, &amp;beg, &amp;end, &amp;flags);
    range_modify(range);
    range_init(range, beg, end, RBOOL(RTEST(flags)));
    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
      
    
      <h2 class="sectiontitle">Instance Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-i-25">
            
              <b>%(n) {|element| ... } &rarr; self<br />%(n)                  &rarr; enumerator
</b>
            
            <a href="../classes/Range.html#method-i-25" name="method-i-25" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Iterates over the elements of <code>self</code>.</p>

<p>With a block given, calls the block with selected elements of the range; returns <code>self</code>:</p>

<pre><code>a = []
(1..5).%(2) {|element| a.push(element) } # =&gt; 1..5
a # =&gt; [1, 3, 5]
a = []
(&#39;a&#39;..&#39;e&#39;).%(2) {|element| a.push(element) } # =&gt; &quot;a&quot;..&quot;e&quot;
a # =&gt; [&quot;a&quot;, &quot;c&quot;, &quot;e&quot;]
</code></pre>

<p>With no block given, returns an enumerator, which will be of class <a href="Enumerator/ArithmeticSequence.html"><code>Enumerator::ArithmeticSequence</code></a> if <code>self</code> is numeric; otherwise of class Enumerator:</p>

<pre><code>e = (1..5) % 2 # =&gt; ((1..5).%(2))
e.class        # =&gt; Enumerator::ArithmeticSequence
(&#39;a&#39;..&#39;e&#39;) % 2 # =&gt;  #&lt;Enumerator: ...&gt;
</code></pre>

<p>Related: <a href="Range.html#method-i-step"><code>Range#step</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-25_source')" id="l_method-i-25_source">show</a>
                
              </p>
              <div id="method-i-25_source" class="dyn-source">
                <pre>static VALUE
range_percent_step(VALUE range, VALUE step)
{
    return range_step(1, &amp;step, range);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-3D-3D">
            
              <b>self == other &rarr; true or false
</b>
            
            <a href="../classes/Range.html#method-i-3D-3D" name="method-i-3D-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if and only if:</p>
<ul><li>
<p><code>other</code> is a range.</p>
</li><li>
<p><code>other.begin == self.begin</code>.</p>
</li><li>
<p><code>other.end == self.end</code>.</p>
</li><li>
<p><code>other.exclude_end? == self.exclude_end?</code>.</p>
</li></ul>

<p>Otherwise returns <code>false</code>.</p>

<pre><code>r = (1..5)
r == (1..5)                # =&gt; true
r = Range.new(1, 5)
r == &#39;foo&#39;                 # =&gt; false
r == (2..5)                # =&gt; false
r == (1..4)                # =&gt; false
r == (1...5)               # =&gt; false
r == Range.new(1, 5, true) # =&gt; false
</code></pre>

<p>Note that even with the same argument, the return values of <a href="Range.html#method-i-3D-3D"><code>==</code></a> and <a href="Range.html#method-i-eql-3F"><code>eql?</code></a> can differ:</p>

<pre><code>(1..2) == (1..2.0)   # =&gt; true
(1..2).eql? (1..2.0) # =&gt; false
</code></pre>

<p>Related: <a href="Range.html#method-i-eql-3F"><code>Range#eql?</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3D-3D_source')" id="l_method-i-3D-3D_source">show</a>
                
              </p>
              <div id="method-i-3D-3D_source" class="dyn-source">
                <pre>static VALUE
range_eq(VALUE range, VALUE obj)
{
    if (range == obj)
        return Qtrue;
    if (!rb_obj_is_kind_of(obj, rb_cRange))
        return Qfalse;

    return rb_exec_recursive_paired(recursive_equal, range, obj, obj);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-3D-3D-3D">
            
              <b>self === object &rarr;  true or false
</b>
            
            <a href="../classes/Range.html#method-i-3D-3D-3D" name="method-i-3D-3D-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>object</code> is between <code>self.begin</code> and <code>self.end</code>. <code>false</code> otherwise:</p>

<pre><code>(1..4) === 2       # =&gt; true
(1..4) === 5       # =&gt; false
(1..4) === &#39;a&#39;     # =&gt; false
(1..4) === 4       # =&gt; true
(1...4) === 4      # =&gt; false
(&#39;a&#39;..&#39;d&#39;) === &#39;c&#39; # =&gt; true
(&#39;a&#39;..&#39;d&#39;) === &#39;e&#39; # =&gt; false
</code></pre>

<p>A case statement uses method <code>===</code>, and so:</p>

<pre><code>case 79
when (1..50)
  &quot;low&quot;
when (51..75)
  &quot;medium&quot;
when (76..100)
  &quot;high&quot;
end # =&gt; &quot;high&quot;

case &quot;2.6.5&quot;
when ...&quot;2.4&quot;
  &quot;EOL&quot;
when &quot;2.4&quot;...&quot;2.5&quot;
  &quot;maintenance&quot;
when &quot;2.5&quot;...&quot;3.0&quot;
  &quot;stable&quot;
when &quot;3.1&quot;..
  &quot;upcoming&quot;
end # =&gt; &quot;stable&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3D-3D-3D_source')" id="l_method-i-3D-3D-3D_source">show</a>
                
              </p>
              <div id="method-i-3D-3D-3D_source" class="dyn-source">
                <pre>static VALUE
range_eqq(VALUE range, VALUE val)
{
    VALUE ret = range_include_internal(range, val, 1);
    if (ret != Qundef) return ret;
    return r_cover_p(range, RANGE_BEG(range), RANGE_END(range), val);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-as_json">
            
              <b>as_json</b>(*)
            
            <a href="../classes/Range.html#method-i-as_json" name="method-i-as_json" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a hash, that will be turned into a <a href="JSON.html"><code>JSON</code></a> object and represent this object.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-as_json_source')" id="l_method-i-as_json_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/ext/json/lib/json/add/range.rb#L16" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-as_json_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/ext/json/lib/json/add/range.rb, line 16</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">as_json</span>(<span class="ruby-operator">*</span>)
  {
    <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">create_id</span>  <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>,
    <span class="ruby-string">&#39;a&#39;</span>             <span class="ruby-operator">=&gt;</span> [ <span class="ruby-identifier">first</span>, <span class="ruby-identifier">last</span>, <span class="ruby-identifier">exclude_end?</span> ]
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-begin">
            
              <b>self.begin &rarr; object
</b>
            
            <a href="../classes/Range.html#method-i-begin" name="method-i-begin" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the object that defines the beginning of <code>self</code>.</p>

<pre><code>(1..4).begin # =&gt; 1
(..2).begin  # =&gt; nil
</code></pre>

<p>Related: <a href="Range.html#method-i-first"><code>Range#first</code></a>, <a href="Range.html#method-i-end"><code>Range#end</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-begin_source')" id="l_method-i-begin_source">show</a>
                
              </p>
              <div id="method-i-begin_source" class="dyn-source">
                <pre>static VALUE
range_begin(VALUE range)
{
    return RANGE_BEG(range);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-bsearch">
            
              <b>bsearch {|obj| block }  &rarr; value
</b>
            
            <a href="../classes/Range.html#method-i-bsearch" name="method-i-bsearch" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns an element from <code>self</code> selected by a binary search.</p>

<p>See <a href="../files/ruby/doc/bsearch_rdoc.html">Binary Searching</a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-bsearch_source')" id="l_method-i-bsearch_source">show</a>
                
              </p>
              <div id="method-i-bsearch_source" class="dyn-source">
                <pre>static VALUE
range_bsearch(VALUE range)
{
    VALUE beg, end, satisfied = Qnil;
    int smaller;

    /* Implementation notes:
     * Floats are handled by mapping them to 64 bits integers.
     * Apart from sign issues, floats and their 64 bits integer have the
     * same order, assuming they are represented as exponent followed
     * by the mantissa. This is true with or without implicit bit.
     *
     * Finding the average of two ints needs to be careful about
     * potential overflow (since float to long can use 64 bits)
     * as well as the fact that -1/2 can be 0 or -1 in C89.
     *
     * Note that -0.0 is mapped to the same int as 0.0 as we don&#39;t want
     * (-1...0.0).bsearch to yield -0.0.
     */

#define BSEARCH(conv) \
    do { \
        RETURN_ENUMERATOR(range, 0, 0); \
        if (EXCL(range)) high--; \
        org_high = high; \
        while (low &lt; high) { \
            mid = ((high &lt; 0) == (low &lt; 0)) ? low + ((high - low) / 2) \
                : (low &lt; -high) ? -((-1 - low - high)/2 + 1) : (low + high) / 2; \
            BSEARCH_CHECK(conv(mid)); \
            if (smaller) { \
                high = mid; \
            } \
            else { \
                low = mid + 1; \
            } \
        } \
        if (low == org_high) { \
            BSEARCH_CHECK(conv(low)); \
            if (!smaller) return Qnil; \
        } \
        return satisfied; \
    } while (0)


    beg = RANGE_BEG(range);
    end = RANGE_END(range);

    if (FIXNUM_P(beg) &amp;&amp; FIXNUM_P(end)) {
        long low = FIX2LONG(beg);
        long high = FIX2LONG(end);
        long mid, org_high;
        BSEARCH(INT2FIX);
    }
#if SIZEOF_DOUBLE == 8 &amp;&amp; defined(HAVE_INT64_T)
    else if (RB_FLOAT_TYPE_P(beg) || RB_FLOAT_TYPE_P(end)) {
        int64_t low  = double_as_int64(NIL_P(beg) ? -HUGE_VAL : RFLOAT_VALUE(rb_Float(beg)));
        int64_t high = double_as_int64(NIL_P(end) ?  HUGE_VAL : RFLOAT_VALUE(rb_Float(end)));
        int64_t mid, org_high;
        BSEARCH(int64_as_double_to_num);
    }
#endif
    else if (is_integer_p(beg) &amp;&amp; is_integer_p(end)) {
        RETURN_ENUMERATOR(range, 0, 0);
        return bsearch_integer_range(beg, end, EXCL(range));
    }
    else if (is_integer_p(beg) &amp;&amp; NIL_P(end)) {
        VALUE diff = LONG2FIX(1);
        RETURN_ENUMERATOR(range, 0, 0);
        while (1) {
            VALUE mid = rb_funcall(beg, &#39;+&#39;, 1, diff);
            BSEARCH_CHECK(mid);
            if (smaller) {
                return bsearch_integer_range(beg, mid, 0);
            }
            diff = rb_funcall(diff, &#39;*&#39;, 1, LONG2FIX(2));
        }
    }
    else if (NIL_P(beg) &amp;&amp; is_integer_p(end)) {
        VALUE diff = LONG2FIX(-1);
        RETURN_ENUMERATOR(range, 0, 0);
        while (1) {
            VALUE mid = rb_funcall(end, &#39;+&#39;, 1, diff);
            BSEARCH_CHECK(mid);
            if (!smaller) {
                return bsearch_integer_range(mid, end, 0);
            }
            diff = rb_funcall(diff, &#39;*&#39;, 1, LONG2FIX(2));
        }
    }
    else {
        rb_raise(rb_eTypeError, &quot;can&#39;t do binary search for %s&quot;, rb_obj_classname(beg));
    }
    return range;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-count">
            
              <b>count &rarr; integer<br />count(object) &rarr; integer<br />count {|element| ... } &rarr; integer
</b>
            
            <a href="../classes/Range.html#method-i-count" name="method-i-count" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the count of elements, based on an argument or block criterion, if given.</p>

<p>With no argument and no block given, returns the number of elements:</p>

<pre><code>(1..4).count      # =&gt; 4
(1...4).count     # =&gt; 3
(&#39;a&#39;..&#39;d&#39;).count  # =&gt; 4
(&#39;a&#39;...&#39;d&#39;).count # =&gt; 3
(1..).count       # =&gt; Infinity
(..4).count       # =&gt; Infinity
</code></pre>

<p>With argument <code>object</code>, returns the number of <code>object</code> found in <code>self</code>, which will usually be zero or one:</p>

<pre><code>(1..4).count(2)   # =&gt; 1
(1..4).count(5)   # =&gt; 0
(1..4).count(&#39;a&#39;)  # =&gt; 0
</code></pre>

<p>With a block given, calls the block with each element; returns the number of elements for which the block returns a truthy value:</p>

<pre><code>(1..4).count {|element| element &lt; 3 } # =&gt; 2
</code></pre>

<p>Related: <a href="Range.html#method-i-size"><code>Range#size</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-count_source')" id="l_method-i-count_source">show</a>
                
              </p>
              <div id="method-i-count_source" class="dyn-source">
                <pre>static VALUE
range_count(int argc, VALUE *argv, VALUE range)
{
    if (argc != 0) {
        /* It is odd for instance (1...).count(0) to return Infinity. Just let
         * it loop. */
        return rb_call_super(argc, argv);
    }
    else if (rb_block_given_p()) {
        /* Likewise it is odd for instance (1...).count {|x| x == 0 } to return
         * Infinity. Just let it loop. */
        return rb_call_super(argc, argv);
    }
    else if (NIL_P(RANGE_END(range))) {
        /* We are confident that the answer is Infinity. */
        return DBL2NUM(HUGE_VAL);
    }
    else if (NIL_P(RANGE_BEG(range))) {
        /* We are confident that the answer is Infinity. */
        return DBL2NUM(HUGE_VAL);
    }
    else {
        return rb_call_super(argc, argv);
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-cover-3F">
            
              <b>cover?(object) &rarr; true or false<br />cover?(range) &rarr; true or false
</b>
            
            <a href="../classes/Range.html#method-i-cover-3F" name="method-i-cover-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if the given argument is within <code>self</code>, <code>false</code> otherwise.</p>

<p>With non-range argument <code>object</code>, evaluates with <code>&lt;=</code> and <code>&lt;</code>.</p>

<p>For range <code>self</code> with included end value (<code>#exclude_end? == false</code>), evaluates thus:</p>

<pre><code>self.begin &lt;= object &lt;= self.end
</code></pre>

<p>Examples:</p>

<pre><code>r = (1..4)
r.cover?(1)     # =&gt; true
r.cover?(4)     # =&gt; true
r.cover?(0)     # =&gt; false
r.cover?(5)     # =&gt; false
r.cover?(&#39;foo&#39;) # =&gt; false

r = (&#39;a&#39;..&#39;d&#39;)
r.cover?(&#39;a&#39;)     # =&gt; true
r.cover?(&#39;d&#39;)     # =&gt; true
r.cover?(&#39; &#39;)     # =&gt; false
r.cover?(&#39;e&#39;)     # =&gt; false
r.cover?(0)       # =&gt; false
</code></pre>

<p>For range <code>r</code> with excluded end value (<code>#exclude_end? == true</code>), evaluates thus:</p>

<pre><code>r.begin &lt;= object &lt; r.end
</code></pre>

<p>Examples:</p>

<pre><code>r = (1...4)
r.cover?(1)     # =&gt; true
r.cover?(3)     # =&gt; true
r.cover?(0)     # =&gt; false
r.cover?(4)     # =&gt; false
r.cover?(&#39;foo&#39;) # =&gt; false

r = (&#39;a&#39;...&#39;d&#39;)
r.cover?(&#39;a&#39;)     # =&gt; true
r.cover?(&#39;c&#39;)     # =&gt; true
r.cover?(&#39; &#39;)     # =&gt; false
r.cover?(&#39;d&#39;)     # =&gt; false
r.cover?(0)       # =&gt; false
</code></pre>

<p>With range argument <code>range</code>, compares the first and last elements of <code>self</code> and <code>range</code>:</p>

<pre><code>r = (1..4)
r.cover?(1..4)     # =&gt; true
r.cover?(0..4)     # =&gt; false
r.cover?(1..5)     # =&gt; false
r.cover?(&#39;a&#39;..&#39;d&#39;) # =&gt; false

r = (1...4)
r.cover?(1..3)     # =&gt; true
r.cover?(1..4)     # =&gt; false
</code></pre>

<p>If begin and end are numeric, <a href="Range.html#method-i-cover-3F"><code>cover?</code></a> behaves like <a href="Range.html#method-i-include-3F"><code>include?</code></a></p>

<pre><code>(1..3).cover?(1.5) # =&gt; true
(1..3).include?(1.5) # =&gt; true
</code></pre>

<p>But when not numeric, the two methods may differ:</p>

<pre><code>(&#39;a&#39;..&#39;d&#39;).cover?(&#39;cc&#39;)   # =&gt; true
(&#39;a&#39;..&#39;d&#39;).include?(&#39;cc&#39;) # =&gt; false
</code></pre>

<p>Returns <code>false</code> if either:</p>
<ul><li>
<p>The begin value of <code>self</code> is larger than its end value.</p>
</li><li>
<p>An internal call to <code>&lt;=&gt;</code> returns <code>nil</code>; that is, the operands are not comparable.</p>
</li></ul>

<p>Related: <a href="Range.html#method-i-include-3F"><code>Range#include?</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-cover-3F_source')" id="l_method-i-cover-3F_source">show</a>
                
              </p>
              <div id="method-i-cover-3F_source" class="dyn-source">
                <pre>static VALUE
range_cover(VALUE range, VALUE val)
{
    VALUE beg, end;

    beg = RANGE_BEG(range);
    end = RANGE_END(range);

    if (rb_obj_is_kind_of(val, rb_cRange)) {
        return RBOOL(r_cover_range_p(range, beg, end, val));
    }
    return r_cover_p(range, beg, end, val);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-each">
            
              <b>each {|element| ... } &rarr; self<br />each                  &rarr; an_enumerator
</b>
            
            <a href="../classes/Range.html#method-i-each" name="method-i-each" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>With a block given, passes each element of <code>self</code> to the block:</p>

<pre><code>a = []
(1..4).each {|element| a.push(element) } # =&gt; 1..4
a # =&gt; [1, 2, 3, 4]
</code></pre>

<p>Raises an exception unless <code>self.first.respond_to?(:succ)</code>.</p>

<p>With no block given, returns an enumerator.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-each_source')" id="l_method-i-each_source">show</a>
                
              </p>
              <div id="method-i-each_source" class="dyn-source">
                <pre>static VALUE
range_each(VALUE range)
{
    VALUE beg, end;
    long i;

    RETURN_SIZED_ENUMERATOR(range, 0, 0, range_enum_size);

    beg = RANGE_BEG(range);
    end = RANGE_END(range);

    if (FIXNUM_P(beg) &amp;&amp; NIL_P(end)) {
        range_each_fixnum_endless(beg);
    }
    else if (FIXNUM_P(beg) &amp;&amp; FIXNUM_P(end)) { /* fixnums are special */
        return range_each_fixnum_loop(beg, end, range);
    }
    else if (RB_INTEGER_TYPE_P(beg) &amp;&amp; (NIL_P(end) || RB_INTEGER_TYPE_P(end))) {
        if (SPECIAL_CONST_P(end) || RBIGNUM_POSITIVE_P(end)) { /* end &gt;= FIXNUM_MIN */
            if (!FIXNUM_P(beg)) {
                if (RBIGNUM_NEGATIVE_P(beg)) {
                    do {
                        rb_yield(beg);
                    } while (!FIXNUM_P(beg = rb_big_plus(beg, INT2FIX(1))));
                    if (NIL_P(end)) range_each_fixnum_endless(beg);
                    if (FIXNUM_P(end)) return range_each_fixnum_loop(beg, end, range);
                }
                else {
                    if (NIL_P(end)) range_each_bignum_endless(beg);
                    if (FIXNUM_P(end)) return range;
                }
            }
            if (FIXNUM_P(beg)) {
                i = FIX2LONG(beg);
                do {
                    rb_yield(LONG2FIX(i));
                } while (POSFIXABLE(++i));
                beg = LONG2NUM(i);
            }
            ASSUME(!FIXNUM_P(beg));
            ASSUME(!SPECIAL_CONST_P(end));
        }
        if (!FIXNUM_P(beg) &amp;&amp; RBIGNUM_SIGN(beg) == RBIGNUM_SIGN(end)) {
            if (EXCL(range)) {
                while (rb_big_cmp(beg, end) == INT2FIX(-1)) {
                    rb_yield(beg);
                    beg = rb_big_plus(beg, INT2FIX(1));
                }
            }
            else {
                VALUE c;
                while ((c = rb_big_cmp(beg, end)) != INT2FIX(1)) {
                    rb_yield(beg);
                    if (c == INT2FIX(0)) break;
                    beg = rb_big_plus(beg, INT2FIX(1));
                }
            }
        }
    }
    else if (SYMBOL_P(beg) &amp;&amp; (NIL_P(end) || SYMBOL_P(end))) { /* symbols are special */
        beg = rb_sym2str(beg);
        if (NIL_P(end)) {
            rb_str_upto_endless_each(beg, sym_each_i, 0);
        }
        else {
            rb_str_upto_each(beg, rb_sym2str(end), EXCL(range), sym_each_i, 0);
        }
    }
    else {
        VALUE tmp = rb_check_string_type(beg);

        if (!NIL_P(tmp)) {
            if (!NIL_P(end)) {
                rb_str_upto_each(tmp, end, EXCL(range), each_i, 0);
            }
            else {
                rb_str_upto_endless_each(tmp, each_i, 0);
            }
        }
        else {
            if (!discrete_object_p(beg)) {
                rb_raise(rb_eTypeError, &quot;can&#39;t iterate from %s&quot;,
                         rb_obj_classname(beg));
            }
            if (!NIL_P(end))
                range_each_func(range, each_i, 0);
            else
                for (;; beg = rb_funcallv(beg, id_succ, 0, 0))
                    rb_yield(beg);
        }
    }
    return range;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-end">
            
              <b>self.end &rarr; object
</b>
            
            <a href="../classes/Range.html#method-i-end" name="method-i-end" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the object that defines the end of <code>self</code>.</p>

<pre><code>(1..4).end  # =&gt; 4
(1...4).end # =&gt; 4
(1..).end   # =&gt; nil
</code></pre>

<p>Related: <a href="Range.html#method-i-begin"><code>Range#begin</code></a>, <a href="Range.html#method-i-last"><code>Range#last</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-end_source')" id="l_method-i-end_source">show</a>
                
              </p>
              <div id="method-i-end_source" class="dyn-source">
                <pre>static VALUE
range_end(VALUE range)
{
    return RANGE_END(range);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-entries">
            
              <b>entries</b>()
            
            <a href="../classes/Range.html#method-i-entries" name="method-i-entries" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns an array containing the elements in <code>self</code>, if a finite collection; raises an exception otherwise.</p>

<pre><code>(1..4).to_a     # =&gt; [1, 2, 3, 4]
(1...4).to_a    # =&gt; [1, 2, 3]
(&#39;a&#39;..&#39;d&#39;).to_a # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</code></pre>

<p><a href="Range.html#method-i-entries"><code>Range#entries</code></a> is an alias for <a href="Range.html#method-i-to_a"><code>Range#to_a</code></a>.</p>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Range.html#method-i-to_a">to_a</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-eql-3F">
            
              <b>eql?(other) &rarr; true or false
</b>
            
            <a href="../classes/Range.html#method-i-eql-3F" name="method-i-eql-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if and only if:</p>
<ul><li>
<p><code>other</code> is a range.</p>
</li><li>
<p><code>other.begin eql? self.begin</code>.</p>
</li><li>
<p><code>other.end eql? self.end</code>.</p>
</li><li>
<p><code>other.exclude_end? == self.exclude_end?</code>.</p>
</li></ul>

<p>Otherwise returns <code>false</code>.</p>

<pre><code>r = (1..5)
r.eql?(1..5)                  # =&gt; true
r = Range.new(1, 5)
r.eql?(&#39;foo&#39;)                 # =&gt; false
r.eql?(2..5)                  # =&gt; false
r.eql?(1..4)                  # =&gt; false
r.eql?(1...5)                 # =&gt; false
r.eql?(Range.new(1, 5, true)) # =&gt; false
</code></pre>

<p>Note that even with the same argument, the return values of <a href="Range.html#method-i-3D-3D"><code>==</code></a> and <a href="Range.html#method-i-eql-3F"><code>eql?</code></a> can differ:</p>

<pre><code>(1..2) == (1..2.0)   # =&gt; true
(1..2).eql? (1..2.0) # =&gt; false
</code></pre>

<p>Related: <a href="Range.html#method-i-3D-3D"><code>Range#==</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-eql-3F_source')" id="l_method-i-eql-3F_source">show</a>
                
              </p>
              <div id="method-i-eql-3F_source" class="dyn-source">
                <pre>static VALUE
range_eql(VALUE range, VALUE obj)
{
    if (range == obj)
        return Qtrue;
    if (!rb_obj_is_kind_of(obj, rb_cRange))
        return Qfalse;
    return rb_exec_recursive_paired(recursive_eql, range, obj, obj);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-exclude_end-3F">
            
              <b>exclude_end? &rarr; true or false
</b>
            
            <a href="../classes/Range.html#method-i-exclude_end-3F" name="method-i-exclude_end-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>self</code> excludes its end value; <code>false</code> otherwise:</p>

<pre><code>Range.new(2, 5).exclude_end?       # =&gt; false
Range.new(2, 5, true).exclude_end? # =&gt; true
(2..5).exclude_end?                # =&gt; false
(2...5).exclude_end?               # =&gt; true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-exclude_end-3F_source')" id="l_method-i-exclude_end-3F_source">show</a>
                
              </p>
              <div id="method-i-exclude_end-3F_source" class="dyn-source">
                <pre>static VALUE
range_exclude_end_p(VALUE range)
{
    return RBOOL(EXCL(range));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-first">
            
              <b>first &rarr; object<br />first(n) &rarr; array
</b>
            
            <a href="../classes/Range.html#method-i-first" name="method-i-first" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>With no argument, returns the first element of <code>self</code>, if it exists:</p>

<pre><code>(1..4).first     # =&gt; 1
(&#39;a&#39;..&#39;d&#39;).first # =&gt; &quot;a&quot;
</code></pre>

<p>With non-negative integer argument <code>n</code> given, returns the first <code>n</code> elements in an array:</p>

<pre><code>(1..10).first(3) # =&gt; [1, 2, 3]
(1..10).first(0) # =&gt; []
(1..4).first(50) # =&gt; [1, 2, 3, 4]
</code></pre>

<p>Raises an exception if there is no first element:</p>

<pre><code>(..4).first # Raises RangeError
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-first_source')" id="l_method-i-first_source">show</a>
                
              </p>
              <div id="method-i-first_source" class="dyn-source">
                <pre>static VALUE
range_first(int argc, VALUE *argv, VALUE range)
{
    VALUE n, ary[2];

    if (NIL_P(RANGE_BEG(range))) {
        rb_raise(rb_eRangeError, &quot;cannot get the first element of beginless range&quot;);
    }
    if (argc == 0) return RANGE_BEG(range);

    rb_scan_args(argc, argv, &quot;1&quot;, &amp;n);
    ary[0] = n;
    ary[1] = rb_ary_new2(NUM2LONG(n));
    rb_block_call(range, idEach, 0, 0, first_i, (VALUE)ary);

    return ary[1];
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-hash">
            
              <b>hash &rarr; integer
</b>
            
            <a href="../classes/Range.html#method-i-hash" name="method-i-hash" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the integer hash value for <code>self</code>. Two range objects <code>r0</code> and <code>r1</code> have the same hash value if and only if <code>r0.eql?(r1)</code>.</p>

<p>Related: <a href="Range.html#method-i-eql-3F"><code>Range#eql?</code></a>, <a href="Object.html#method-i-hash"><code>Object#hash</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-hash_source')" id="l_method-i-hash_source">show</a>
                
              </p>
              <div id="method-i-hash_source" class="dyn-source">
                <pre>static VALUE
range_hash(VALUE range)
{
    st_index_t hash = EXCL(range);
    VALUE v;

    hash = rb_hash_start(hash);
    v = rb_hash(RANGE_BEG(range));
    hash = rb_hash_uint(hash, NUM2LONG(v));
    v = rb_hash(RANGE_END(range));
    hash = rb_hash_uint(hash, NUM2LONG(v));
    hash = rb_hash_uint(hash, EXCL(range) &lt;&lt; 24);
    hash = rb_hash_end(hash);

    return ST2FIX(hash);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-include-3F">
            
              <b>include?(object) &rarr; true or false</b>
            
            <a href="../classes/Range.html#method-i-include-3F" name="method-i-include-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>object</code> is an element of <code>self</code>, <code>false</code> otherwise:</p>

<pre><code>(1..4).include?(2)        # =&gt; true
(1..4).include?(5)        # =&gt; false
(1..4).include?(4)        # =&gt; true
(1...4).include?(4)       # =&gt; false
(&#39;a&#39;..&#39;d&#39;).include?(&#39;b&#39;)  # =&gt; true
(&#39;a&#39;..&#39;d&#39;).include?(&#39;e&#39;)  # =&gt; false
(&#39;a&#39;..&#39;d&#39;).include?(&#39;B&#39;)  # =&gt; false
(&#39;a&#39;..&#39;d&#39;).include?(&#39;d&#39;)  # =&gt; true
(&#39;a&#39;...&#39;d&#39;).include?(&#39;d&#39;) # =&gt; false
</code></pre>

<p>If begin and end are numeric, <a href="Range.html#method-i-include-3F"><code>include?</code></a> behaves like <a href="Range.html#method-i-cover-3F"><code>cover?</code></a></p>

<pre><code>(1..3).include?(1.5) # =&gt; true
(1..3).cover?(1.5) # =&gt; true
</code></pre>

<p>But when not numeric, the two methods may differ:</p>

<pre><code>(&#39;a&#39;..&#39;d&#39;).include?(&#39;cc&#39;) # =&gt; false
(&#39;a&#39;..&#39;d&#39;).cover?(&#39;cc&#39;)   # =&gt; true
</code></pre>

<p>Related: <a href="Range.html#method-i-cover-3F"><code>Range#cover?</code></a>.</p>

<p><a href="Range.html#method-i-member-3F"><code>Range#member?</code></a> is an alias for <a href="Range.html#method-i-include-3F"><code>Range#include?</code></a>.</p>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Range.html#method-i-member-3F">member?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-inspect">
            
              <b>inspect &rarr; string
</b>
            
            <a href="../classes/Range.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a string representation of <code>self</code>, including <code>begin.inspect</code> and <code>end.inspect</code>:</p>

<pre><code>(1..4).inspect  # =&gt; &quot;1..4&quot;
(1...4).inspect # =&gt; &quot;1...4&quot;
(1..).inspect   # =&gt; &quot;1..&quot;
(..4).inspect   # =&gt; &quot;..4&quot;
</code></pre>

<p>Note that returns from <a href="Range.html#method-i-to_s"><code>to_s</code></a> and <a href="Range.html#method-i-inspect"><code>inspect</code></a> may differ:</p>

<pre><code>(&#39;a&#39;..&#39;d&#39;).to_s    # =&gt; &quot;a..d&quot;
(&#39;a&#39;..&#39;d&#39;).inspect # =&gt; &quot;\&quot;a\&quot;..\&quot;d\&quot;&quot;
</code></pre>

<p>Related: <a href="Range.html#method-i-to_s"><code>Range#to_s</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre>static VALUE
range_inspect(VALUE range)
{
    return rb_exec_recursive(inspect_range, range, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-last">
            
              <b>last &rarr; object<br />last(n) &rarr; array
</b>
            
            <a href="../classes/Range.html#method-i-last" name="method-i-last" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>With no argument, returns the last element of <code>self</code>, if it exists:</p>

<pre><code>(1..4).last     # =&gt; 4
(&#39;a&#39;..&#39;d&#39;).last # =&gt; &quot;d&quot;
</code></pre>

<p>Note that <code>last</code> with no argument returns the end element of <code>self</code> even if <a href="Range.html#method-i-exclude_end-3F"><code>exclude_end?</code></a> is <code>true</code>:</p>

<pre><code>(1...4).last     # =&gt; 4
(&#39;a&#39;...&#39;d&#39;).last # =&gt; &quot;d&quot;
</code></pre>

<p>With non-negative integer argument <code>n</code> given, returns the last <code>n</code> elements in an array:</p>

<pre><code>(1..10).last(3) # =&gt; [8, 9, 10]
(1..10).last(0) # =&gt; []
(1..4).last(50) # =&gt; [1, 2, 3, 4]
</code></pre>

<p>Note that <code>last</code> with argument does not return the end element of <code>self</code> if <a href="Range.html#method-i-exclude_end-3F"><code>exclude_end?</code></a> it <code>true</code>:</p>

<pre><code>(1...4).last(3)     # =&gt; [1, 2, 3]
(&#39;a&#39;...&#39;d&#39;).last(3) # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</code></pre>

<p>Raises an exception if there is no last element:</p>

<pre><code>(1..).last # Raises RangeError
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-last_source')" id="l_method-i-last_source">show</a>
                
              </p>
              <div id="method-i-last_source" class="dyn-source">
                <pre>static VALUE
range_last(int argc, VALUE *argv, VALUE range)
{
    VALUE b, e;

    if (NIL_P(RANGE_END(range))) {
        rb_raise(rb_eRangeError, &quot;cannot get the last element of endless range&quot;);
    }
    if (argc == 0) return RANGE_END(range);

    b = RANGE_BEG(range);
    e = RANGE_END(range);
    if (RB_INTEGER_TYPE_P(b) &amp;&amp; RB_INTEGER_TYPE_P(e) &amp;&amp;
        RB_LIKELY(rb_method_basic_definition_p(rb_cRange, idEach))) {
        return rb_int_range_last(argc, argv, range);
    }
    return rb_ary_last(argc, argv, rb_Array(range));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-max">
            
              <b>max &rarr; object<br />max(n) &rarr; array<br />max {|a, b| ... } &rarr; object<br />max(n) {|a, b| ... } &rarr; array
</b>
            
            <a href="../classes/Range.html#method-i-max" name="method-i-max" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the maximum value in <code>self</code>, using method <code>&lt;=&gt;</code> or a given block for comparison.</p>

<p>With no argument and no block given, returns the maximum-valued element of <code>self</code>.</p>

<pre><code>(1..4).max     # =&gt; 4
(&#39;a&#39;..&#39;d&#39;).max # =&gt; &quot;d&quot;
(-4..-1).max   # =&gt; -1
</code></pre>

<p>With non-negative integer argument <code>n</code> given, and no block given, returns the <code>n</code> maximum-valued elements of <code>self</code> in an array:</p>

<pre><code>(1..4).max(2)     # =&gt; [4, 3]
(&#39;a&#39;..&#39;d&#39;).max(2) # =&gt; [&quot;d&quot;, &quot;c&quot;]
(-4..-1).max(2)   # =&gt; [-1, -2]
(1..4).max(50)    # =&gt; [4, 3, 2, 1]
</code></pre>

<p>If a block is given, it is called:</p>
<ul><li>
<p>First, with the first two element of <code>self</code>.</p>
</li><li>
<p>Then, sequentially, with the so-far maximum value and the next element of <code>self</code>.</p>
</li></ul>

<p>To illustrate:</p>

<pre><code>(1..4).max {|a, b| p [a, b]; a &lt;=&gt; b } # =&gt; 4
</code></pre>

<p>Output:</p>

<pre><code>[2, 1]
[3, 2]
[4, 3]
</code></pre>

<p>With no argument and a block given, returns the return value of the last call to the block:</p>

<pre><code>(1..4).max {|a, b| -(a &lt;=&gt; b) } # =&gt; 1
</code></pre>

<p>With non-negative integer argument <code>n</code> given, and a block given, returns the return values of the last <code>n</code> calls to the block in an array:</p>

<pre><code>(1..4).max(2) {|a, b| -(a &lt;=&gt; b) }  # =&gt; [1, 2]
(1..4).max(50) {|a, b| -(a &lt;=&gt; b) } # =&gt; [1, 2, 3, 4]
</code></pre>

<p>Returns an empty array if <code>n</code> is zero:</p>

<pre><code>(1..4).max(0)                      # =&gt; []
(1..4).max(0) {|a, b| -(a &lt;=&gt; b) } # =&gt; []
</code></pre>

<p>Returns <code>nil</code> or an empty array if:</p>
<ul><li>
<p>The begin value of the range is larger than the end value:</p>

<pre><code>(4..1).max                         # =&gt; nil
(4..1).max(2)                      # =&gt; []
(4..1).max {|a, b| -(a &lt;=&gt; b) }    # =&gt; nil
(4..1).max(2) {|a, b| -(a &lt;=&gt; b) } # =&gt; []
</code></pre>
</li><li>
<p>The begin value of an exclusive range is equal to the end value:</p>

<pre><code>(1...1).max                          # =&gt; nil
(1...1).max(2)                       # =&gt; []
(1...1).max  {|a, b| -(a &lt;=&gt; b) }    # =&gt; nil
(1...1).max(2)  {|a, b| -(a &lt;=&gt; b) } # =&gt; []
</code></pre>
</li></ul>

<p>Raises an exception if either:</p>
<ul><li>
<p><code>self</code> is a endless range: <code>(1..)</code>.</p>
</li><li>
<p>A block is given and <code>self</code> is a beginless range.</p>
</li></ul>

<p>Related: <a href="Range.html#method-i-min"><code>Range#min</code></a>, <a href="Range.html#method-i-minmax"><code>Range#minmax</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-max_source')" id="l_method-i-max_source">show</a>
                
              </p>
              <div id="method-i-max_source" class="dyn-source">
                <pre>static VALUE
range_max(int argc, VALUE *argv, VALUE range)
{
    VALUE e = RANGE_END(range);
    int nm = FIXNUM_P(e) || rb_obj_is_kind_of(e, rb_cNumeric);

    if (NIL_P(RANGE_END(range))) {
        rb_raise(rb_eRangeError, &quot;cannot get the maximum of endless range&quot;);
    }

    VALUE b = RANGE_BEG(range);

    if (rb_block_given_p() || (EXCL(range) &amp;&amp; !nm) || argc) {
        if (NIL_P(b)) {
            rb_raise(rb_eRangeError, &quot;cannot get the maximum of beginless range with custom comparison method&quot;);
        }
        return rb_call_super(argc, argv);
    }
    else {
        struct cmp_opt_data cmp_opt = { 0, 0 };
        int c = NIL_P(b) ? -1 : OPTIMIZED_CMP(b, e, cmp_opt);

        if (c &gt; 0)
            return Qnil;
        if (EXCL(range)) {
            if (!RB_INTEGER_TYPE_P(e)) {
                rb_raise(rb_eTypeError, &quot;cannot exclude non Integer end value&quot;);
            }
            if (c == 0) return Qnil;
            if (!RB_INTEGER_TYPE_P(b)) {
                rb_raise(rb_eTypeError, &quot;cannot exclude end value with non Integer begin value&quot;);
            }
            if (FIXNUM_P(e)) {
                return LONG2NUM(FIX2LONG(e) - 1);
            }
            return rb_funcall(e, &#39;-&#39;, 1, INT2FIX(1));
        }
        return e;
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-member-3F">
            
              <b>member?</b>(p1)
            
            <a href="../classes/Range.html#method-i-member-3F" name="method-i-member-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if <code>object</code> is an element of <code>self</code>, <code>false</code> otherwise:</p>

<pre><code>(1..4).include?(2)        # =&gt; true
(1..4).include?(5)        # =&gt; false
(1..4).include?(4)        # =&gt; true
(1...4).include?(4)       # =&gt; false
(&#39;a&#39;..&#39;d&#39;).include?(&#39;b&#39;)  # =&gt; true
(&#39;a&#39;..&#39;d&#39;).include?(&#39;e&#39;)  # =&gt; false
(&#39;a&#39;..&#39;d&#39;).include?(&#39;B&#39;)  # =&gt; false
(&#39;a&#39;..&#39;d&#39;).include?(&#39;d&#39;)  # =&gt; true
(&#39;a&#39;...&#39;d&#39;).include?(&#39;d&#39;) # =&gt; false
</code></pre>

<p>If begin and end are numeric, <a href="Range.html#method-i-include-3F"><code>include?</code></a> behaves like <a href="Range.html#method-i-cover-3F"><code>cover?</code></a></p>

<pre><code>(1..3).include?(1.5) # =&gt; true
(1..3).cover?(1.5) # =&gt; true
</code></pre>

<p>But when not numeric, the two methods may differ:</p>

<pre><code>(&#39;a&#39;..&#39;d&#39;).include?(&#39;cc&#39;) # =&gt; false
(&#39;a&#39;..&#39;d&#39;).cover?(&#39;cc&#39;)   # =&gt; true
</code></pre>

<p>Related: <a href="Range.html#method-i-cover-3F"><code>Range#cover?</code></a>.</p>

<p><a href="Range.html#method-i-member-3F"><code>Range#member?</code></a> is an alias for <a href="Range.html#method-i-include-3F"><code>Range#include?</code></a>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Range.html#method-i-include-3F">include?</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-member-3F_source')" id="l_method-i-member-3F_source">show</a>
                
              </p>
              <div id="method-i-member-3F_source" class="dyn-source">
                <pre>static VALUE
range_include(VALUE range, VALUE val)
{
    VALUE ret = range_include_internal(range, val, 0);
    if (ret != Qundef) return ret;
    return rb_call_super(1, &amp;val);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-min">
            
              <b>min &rarr; object<br />min(n) &rarr; array<br />min {|a, b| ... } &rarr; object<br />min(n) {|a, b| ... } &rarr; array
</b>
            
            <a href="../classes/Range.html#method-i-min" name="method-i-min" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the minimum value in <code>self</code>, using method <code>&lt;=&gt;</code> or a given block for comparison.</p>

<p>With no argument and no block given, returns the minimum-valued element of <code>self</code>.</p>

<pre><code>(1..4).min     # =&gt; 1
(&#39;a&#39;..&#39;d&#39;).min # =&gt; &quot;a&quot;
(-4..-1).min   # =&gt; -4
</code></pre>

<p>With non-negative integer argument <code>n</code> given, and no block given, returns the <code>n</code> minimum-valued elements of <code>self</code> in an array:</p>

<pre><code>(1..4).min(2)     # =&gt; [1, 2]
(&#39;a&#39;..&#39;d&#39;).min(2) # =&gt; [&quot;a&quot;, &quot;b&quot;]
(-4..-1).min(2)   # =&gt; [-4, -3]
(1..4).min(50)    # =&gt; [1, 2, 3, 4]
</code></pre>

<p>If a block is given, it is called:</p>
<ul><li>
<p>First, with the first two element of <code>self</code>.</p>
</li><li>
<p>Then, sequentially, with the so-far minimum value and the next element of <code>self</code>.</p>
</li></ul>

<p>To illustrate:</p>

<pre><code>(1..4).min {|a, b| p [a, b]; a &lt;=&gt; b } # =&gt; 1
</code></pre>

<p>Output:</p>

<pre><code>[2, 1]
[3, 1]
[4, 1]
</code></pre>

<p>With no argument and a block given, returns the return value of the last call to the block:</p>

<pre><code>(1..4).min {|a, b| -(a &lt;=&gt; b) } # =&gt; 4
</code></pre>

<p>With non-negative integer argument <code>n</code> given, and a block given, returns the return values of the last <code>n</code> calls to the block in an array:</p>

<pre><code>(1..4).min(2) {|a, b| -(a &lt;=&gt; b) }  # =&gt; [4, 3]
(1..4).min(50) {|a, b| -(a &lt;=&gt; b) } # =&gt; [4, 3, 2, 1]
</code></pre>

<p>Returns an empty array if <code>n</code> is zero:</p>

<pre><code>(1..4).min(0)                      # =&gt; []
(1..4).min(0) {|a, b| -(a &lt;=&gt; b) } # =&gt; []
</code></pre>

<p>Returns <code>nil</code> or an empty array if:</p>
<ul><li>
<p>The begin value of the range is larger than the end value:</p>

<pre><code>(4..1).min                         # =&gt; nil
(4..1).min(2)                      # =&gt; []
(4..1).min {|a, b| -(a &lt;=&gt; b) }    # =&gt; nil
(4..1).min(2) {|a, b| -(a &lt;=&gt; b) } # =&gt; []
</code></pre>
</li><li>
<p>The begin value of an exclusive range is equal to the end value:</p>

<pre><code>(1...1).min                          # =&gt; nil
(1...1).min(2)                       # =&gt; []
(1...1).min  {|a, b| -(a &lt;=&gt; b) }    # =&gt; nil
(1...1).min(2)  {|a, b| -(a &lt;=&gt; b) } # =&gt; []
</code></pre>
</li></ul>

<p>Raises an exception if either:</p>
<ul><li>
<p><code>self</code> is a beginless range: <code>(..4)</code>.</p>
</li><li>
<p>A block is given and <code>self</code> is an endless range.</p>
</li></ul>

<p>Related: <a href="Range.html#method-i-max"><code>Range#max</code></a>, <a href="Range.html#method-i-minmax"><code>Range#minmax</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-min_source')" id="l_method-i-min_source">show</a>
                
              </p>
              <div id="method-i-min_source" class="dyn-source">
                <pre>static VALUE
range_min(int argc, VALUE *argv, VALUE range)
{
    if (NIL_P(RANGE_BEG(range))) {
        rb_raise(rb_eRangeError, &quot;cannot get the minimum of beginless range&quot;);
    }

    if (rb_block_given_p()) {
        if (NIL_P(RANGE_END(range))) {
            rb_raise(rb_eRangeError, &quot;cannot get the minimum of endless range with custom comparison method&quot;);
        }
        return rb_call_super(argc, argv);
    }
    else if (argc != 0) {
        return range_first(argc, argv, range);
    }
    else {
        struct cmp_opt_data cmp_opt = { 0, 0 };
        VALUE b = RANGE_BEG(range);
        VALUE e = RANGE_END(range);
        int c = NIL_P(e) ? -1 : OPTIMIZED_CMP(b, e, cmp_opt);

        if (c &gt; 0 || (c == 0 &amp;&amp; EXCL(range)))
            return Qnil;
        return b;
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-minmax">
            
              <b>minmax &rarr; [object, object]<br />minmax {|a, b| ... } &rarr; [object, object]
</b>
            
            <a href="../classes/Range.html#method-i-minmax" name="method-i-minmax" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a 2-element array containing the minimum and maximum value in <code>self</code>, either according to comparison method <code>&lt;=&gt;</code> or a given block.</p>

<p>With no block given, returns the minimum and maximum values, using <code>&lt;=&gt;</code> for comparison:</p>

<pre><code>(1..4).minmax     # =&gt; [1, 4]
(1...4).minmax    # =&gt; [1, 3]
(&#39;a&#39;..&#39;d&#39;).minmax # =&gt; [&quot;a&quot;, &quot;d&quot;]
(-4..-1).minmax   # =&gt; [-4, -1]
</code></pre>

<p>With a block given, the block must return an integer:</p>
<ul><li>
<p>Negative if <code>a</code> is smaller than <code>b</code>.</p>
</li><li>
<p>Zero if <code>a</code> and <code>b</code> are equal.</p>
</li><li>
<p>Positive if <code>a</code> is larger than <code>b</code>.</p>
</li></ul>

<p>The block is called <code>self.size</code> times to compare elements; returns a 2-element <a href="Array.html"><code>Array</code></a> containing the minimum and maximum values from <code>self</code>, per the block:</p>

<pre><code>(1..4).minmax {|a, b| -(a &lt;=&gt; b) } # =&gt; [4, 1]
</code></pre>

<p>Returns <code>[nil, nil]</code> if:</p>
<ul><li>
<p>The begin value of the range is larger than the end value:</p>

<pre><code>(4..1).minmax                      # =&gt; [nil, nil]
(4..1).minmax {|a, b| -(a &lt;=&gt; b) } # =&gt; [nil, nil]
</code></pre>
</li><li>
<p>The begin value of an exclusive range is equal to the end value:</p>

<pre><code>(1...1).minmax                          # =&gt; [nil, nil]
(1...1).minmax  {|a, b| -(a &lt;=&gt; b) }    # =&gt; [nil, nil]
</code></pre>
</li></ul>

<p>Raises an exception if <code>self</code> is a beginless or an endless range.</p>

<p>Related: <a href="Range.html#method-i-min"><code>Range#min</code></a>, <a href="Range.html#method-i-max"><code>Range#max</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-minmax_source')" id="l_method-i-minmax_source">show</a>
                
              </p>
              <div id="method-i-minmax_source" class="dyn-source">
                <pre>static VALUE
range_minmax(VALUE range)
{
    if (rb_block_given_p()) {
        return rb_call_super(0, NULL);
    }
    return rb_assoc_new(
        rb_funcall(range, id_min, 0),
        rb_funcall(range, id_max, 0)
    );
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-size">
            
              <b>size &rarr; non_negative_integer or Infinity or nil
</b>
            
            <a href="../classes/Range.html#method-i-size" name="method-i-size" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the count of elements in <code>self</code> if both begin and end values are numeric; otherwise, returns <code>nil</code>:</p>

<pre><code>(1..4).size      # =&gt; 4
(1...4).size     # =&gt; 3
(1..).size       # =&gt; Infinity
(&#39;a&#39;..&#39;z&#39;).size  #=&gt; nil
</code></pre>

<p>Related: <a href="Range.html#method-i-count"><code>Range#count</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-size_source')" id="l_method-i-size_source">show</a>
                
              </p>
              <div id="method-i-size_source" class="dyn-source">
                <pre>static VALUE
range_size(VALUE range)
{
    VALUE b = RANGE_BEG(range), e = RANGE_END(range);
    if (rb_obj_is_kind_of(b, rb_cNumeric)) {
        if (rb_obj_is_kind_of(e, rb_cNumeric)) {
            return ruby_num_interval_step_size(b, e, INT2FIX(1), EXCL(range));
        }
        if (NIL_P(e)) {
            return DBL2NUM(HUGE_VAL);
        }
    }
    else if (NIL_P(b)) {
        return DBL2NUM(HUGE_VAL);
    }

    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-step">
            
              <b>step(n = 1) {|element| ... } &rarr; self<br />step(n = 1)                  &rarr; enumerator
</b>
            
            <a href="../classes/Range.html#method-i-step" name="method-i-step" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Iterates over the elements of <code>self</code>.</p>

<p>With a block given and no argument, calls the block each element of the range; returns <code>self</code>:</p>

<pre><code>a = []
(1..5).step {|element| a.push(element) } # =&gt; 1..5
a # =&gt; [1, 2, 3, 4, 5]
a = []
(&#39;a&#39;..&#39;e&#39;).step {|element| a.push(element) } # =&gt; &quot;a&quot;..&quot;e&quot;
a # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
</code></pre>

<p>With a block given and a positive integer argument <code>n</code> given, calls the block with element <code>0</code>, element <code>n</code>, element <code>2n</code>, and so on:</p>

<pre><code>a = []
(1..5).step(2) {|element| a.push(element) } # =&gt; 1..5
a # =&gt; [1, 3, 5]
a = []
(&#39;a&#39;..&#39;e&#39;).step(2) {|element| a.push(element) } # =&gt; &quot;a&quot;..&quot;e&quot;
a # =&gt; [&quot;a&quot;, &quot;c&quot;, &quot;e&quot;]
</code></pre>

<p>With no block given, returns an enumerator, which will be of class <a href="Enumerator/ArithmeticSequence.html"><code>Enumerator::ArithmeticSequence</code></a> if <code>self</code> is numeric; otherwise of class Enumerator:</p>

<pre><code>e = (1..5).step(2) # =&gt; ((1..5).step(2))
e.class            # =&gt; Enumerator::ArithmeticSequence
(&#39;a&#39;..&#39;e&#39;).step # =&gt; #&lt;Enumerator: ...&gt;
</code></pre>

<p>Related: <a href="Range.html#method-i-25"><code>Range#%</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-step_source')" id="l_method-i-step_source">show</a>
                
              </p>
              <div id="method-i-step_source" class="dyn-source">
                <pre>static VALUE
range_step(int argc, VALUE *argv, VALUE range)
{
    VALUE b, e, step, tmp;

    b = RANGE_BEG(range);
    e = RANGE_END(range);
    step = (!rb_check_arity(argc, 0, 1) ? INT2FIX(1) : argv[0]);

    if (!rb_block_given_p()) {
        if (!rb_obj_is_kind_of(step, rb_cNumeric)) {
            step = rb_to_int(step);
        }
        if (rb_equal(step, INT2FIX(0))) {
            rb_raise(rb_eArgError, &quot;step can&#39;t be 0&quot;);
        }

        const VALUE b_num_p = rb_obj_is_kind_of(b, rb_cNumeric);
        const VALUE e_num_p = rb_obj_is_kind_of(e, rb_cNumeric);
        if ((b_num_p &amp;&amp; (NIL_P(e) || e_num_p)) || (NIL_P(b) &amp;&amp; e_num_p)) {
            return rb_arith_seq_new(range, ID2SYM(rb_frame_this_func()), argc, argv,
                    range_step_size, b, e, step, EXCL(range));
        }

        RETURN_SIZED_ENUMERATOR(range, argc, argv, range_step_size);
    }

    step = check_step_domain(step);
    VALUE iter[2] = {INT2FIX(1), step};

    if (FIXNUM_P(b) &amp;&amp; NIL_P(e) &amp;&amp; FIXNUM_P(step)) {
        long i = FIX2LONG(b), unit = FIX2LONG(step);
        do {
            rb_yield(LONG2FIX(i));
            i += unit;          /* FIXABLE+FIXABLE never overflow */
        } while (FIXABLE(i));
        b = LONG2NUM(i);

        for (;; b = rb_big_plus(b, step))
            rb_yield(b);
    }
    else if (FIXNUM_P(b) &amp;&amp; FIXNUM_P(e) &amp;&amp; FIXNUM_P(step)) { /* fixnums are special */
        long end = FIX2LONG(e);
        long i, unit = FIX2LONG(step);

        if (!EXCL(range))
            end += 1;
        i = FIX2LONG(b);
        while (i &lt; end) {
            rb_yield(LONG2NUM(i));
            if (i + unit &lt; i) break;
            i += unit;
        }

    }
    else if (SYMBOL_P(b) &amp;&amp; (NIL_P(e) || SYMBOL_P(e))) { /* symbols are special */
        b = rb_sym2str(b);
        if (NIL_P(e)) {
            rb_str_upto_endless_each(b, sym_step_i, (VALUE)iter);
        }
        else {
            rb_str_upto_each(b, rb_sym2str(e), EXCL(range), sym_step_i, (VALUE)iter);
        }
    }
    else if (ruby_float_step(b, e, step, EXCL(range), TRUE)) {
        /* done */
    }
    else if (rb_obj_is_kind_of(b, rb_cNumeric) ||
             !NIL_P(rb_check_to_integer(b, &quot;to_int&quot;)) ||
             !NIL_P(rb_check_to_integer(e, &quot;to_int&quot;))) {
        ID op = EXCL(range) ? &#39;&lt;&#39; : idLE;
        VALUE v = b;
        int i = 0;

        while (NIL_P(e) || RTEST(rb_funcall(v, op, 1, e))) {
            rb_yield(v);
            i++;
            v = rb_funcall(b, &#39;+&#39;, 1, rb_funcall(INT2NUM(i), &#39;*&#39;, 1, step));
        }
    }
    else {
        tmp = rb_check_string_type(b);

        if (!NIL_P(tmp)) {
            b = tmp;
            if (NIL_P(e)) {
                rb_str_upto_endless_each(b, step_i, (VALUE)iter);
            }
            else {
                rb_str_upto_each(b, e, EXCL(range), step_i, (VALUE)iter);
            }
        }
        else {
            if (!discrete_object_p(b)) {
                rb_raise(rb_eTypeError, &quot;can&#39;t iterate from %s&quot;,
                         rb_obj_classname(b));
            }
            range_each_func(range, step_i, (VALUE)iter);
        }
    }
    return range;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_a">
            
              <b>to_a &rarr; array</b>
            
            <a href="../classes/Range.html#method-i-to_a" name="method-i-to_a" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns an array containing the elements in <code>self</code>, if a finite collection; raises an exception otherwise.</p>

<pre><code>(1..4).to_a     # =&gt; [1, 2, 3, 4]
(1...4).to_a    # =&gt; [1, 2, 3]
(&#39;a&#39;..&#39;d&#39;).to_a # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</code></pre>

<p><a href="Range.html#method-i-entries"><code>Range#entries</code></a> is an alias for <a href="Range.html#method-i-to_a"><code>Range#to_a</code></a>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Range.html#method-i-entries">entries</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_a_source')" id="l_method-i-to_a_source">show</a>
                
              </p>
              <div id="method-i-to_a_source" class="dyn-source">
                <pre>static VALUE
range_to_a(VALUE range)
{
    if (NIL_P(RANGE_END(range))) {
        rb_raise(rb_eRangeError, &quot;cannot convert endless range to an array&quot;);
    }
    return rb_call_super(0, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_json">
            
              <b>to_json</b>(*args)
            
            <a href="../classes/Range.html#method-i-to_json" name="method-i-to_json" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Stores class name (<a href="Range.html"><code>Range</code></a>) with <a href="JSON.html"><code>JSON</code></a> array of arguments <code>a</code> which include <code>first</code> (integer), <code>last</code> (integer), and <code>exclude_end?</code> (boolean) as <a href="JSON.html"><code>JSON</code></a> string.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_json_source')" id="l_method-i-to_json_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/9650d254d4539ed8201394bc9f639e78bac24b20/ext/json/lib/json/add/range.rb#L26" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_json_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/ext/json/lib/json/add/range.rb, line 26</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">as_json</span>.<span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_s">
            
              <b>to_s &rarr; string
</b>
            
            <a href="../classes/Range.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a string representation of <code>self</code>, including <code>begin.to_s</code> and <code>end.to_s</code>:</p>

<pre><code>(1..4).to_s  # =&gt; &quot;1..4&quot;
(1...4).to_s # =&gt; &quot;1...4&quot;
(1..).to_s   # =&gt; &quot;1..&quot;
(..4).to_s   # =&gt; &quot;..4&quot;
</code></pre>

<p>Note that returns from <a href="Range.html#method-i-to_s"><code>to_s</code></a> and <a href="Range.html#method-i-inspect"><code>inspect</code></a> may differ:</p>

<pre><code>(&#39;a&#39;..&#39;d&#39;).to_s    # =&gt; &quot;a..d&quot;
(&#39;a&#39;..&#39;d&#39;).inspect # =&gt; &quot;\&quot;a\&quot;..\&quot;d\&quot;&quot;
</code></pre>

<p>Related: <a href="Range.html#method-i-inspect"><code>Range#inspect</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre>static VALUE
range_to_s(VALUE range)
{
    VALUE str, str2;

    str = rb_obj_as_string(RANGE_BEG(range));
    str2 = rb_obj_as_string(RANGE_END(range));
    str = rb_str_dup(str);
    rb_str_cat(str, &quot;...&quot;, EXCL(range) ? 3 : 2);
    rb_str_append(str, str2);

    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </main>
  </body>
</html>
