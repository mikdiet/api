<!DOCTYPE html>
<html lang="en">
<head>
    <title>Racc</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script type="text/javascript" charset="utf-8">
document.addEventListener("turbolinks:load", function() {
  // Only initialize panel if not yet initialized
  if(!$('#panel .tree ul li').length) {
    $('#links').hide();
    var panel = new Searchdoc.Panel($('#panel'), search_data, tree, '/');
    $('#search').focus();
    var s = window.location.search.match(/\?q=([^&]+)/);
    if (s) {
      s = decodeURIComponent(s[1]).replace(/\+/g, ' ');
      if (s.length > 0) {
        $('#search').val(s);
        panel.search(s, true);
      }
    }
    panel.toggle(["Racc"]);
  }
})
</script>



    <meta property="og:title" value="Racc">

  
    
    <meta name="description" content="$Id: 74ff4369ce53c7f45cfc2644ce907785104ebf6e $  Copyright © 1999-2006 Minero Aoki  This program is free software.">
    <meta property="og:description" content="$Id: 74ff4369ce53c7f45cfc2644ce907785104ebf6e $  Copyright © 1999-2006 Minero Aoki  This program is free software.">
  

    <meta name="keywords" content="Racc class, ">
</head>

<body>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<div class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</div>


    <div class="banner">
        
        <h2>
            <span class="type">Module</span>
            Racc
            
        </h2>
        <ul class="files">
            
            <li><a href="../files/ruby/ext/racc/cparse/cparse_c.html">ruby/ext/racc/cparse/cparse.c</a></li>
            
            <li><a href="../files/ruby/lib/racc/debugflags_rb.html">ruby/lib/racc/debugflags.rb</a></li>
            
            <li><a href="../files/ruby/lib/racc/exception_rb.html">ruby/lib/racc/exception.rb</a></li>
            
            <li><a href="../files/ruby/lib/racc/grammar_rb.html">ruby/lib/racc/grammar.rb</a></li>
            
            <li><a href="../files/ruby/lib/racc/grammarfileparser_rb.html">ruby/lib/racc/grammarfileparser.rb</a></li>
            
            <li><a href="../files/ruby/lib/racc/info_rb.html">ruby/lib/racc/info.rb</a></li>
            
            <li><a href="../files/ruby/lib/racc/iset_rb.html">ruby/lib/racc/iset.rb</a></li>
            
            <li><a href="../files/ruby/lib/racc/logfilegenerator_rb.html">ruby/lib/racc/logfilegenerator.rb</a></li>
            
            <li><a href="../files/ruby/lib/racc/parser-text_rb.html">ruby/lib/racc/parser-text.rb</a></li>
            
            <li><a href="../files/ruby/lib/racc/parser_rb.html">ruby/lib/racc/parser.rb</a></li>
            
            <li><a href="../files/ruby/lib/racc/parserfilegenerator_rb.html">ruby/lib/racc/parserfilegenerator.rb</a></li>
            
            <li><a href="../files/ruby/lib/racc/sourcetext_rb.html">ruby/lib/racc/sourcetext.rb</a></li>
            
            <li><a href="../files/ruby/lib/racc/state_rb.html">ruby/lib/racc/state.rb</a></li>
            
            <li><a href="../files/ruby/lib/racc/statetransitiontable_rb.html">ruby/lib/racc/statetransitiontable.rb</a></li>
            
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>$Id: 74ff4369ce53c7f45cfc2644ce907785104ebf6e $</p>

<p><a href="Racc.html#Copyright"><code>Copyright</code></a> © 1999-2006 Minero Aoki</p>

<p>This program is free software. You can distribute/modify this program under the terms of the GNU LGPL, Lesser General Public License version 2.1. For details of LGPL, see the file “COPYING”.</p>

<p>$Id: ebb9798ad0b211e031670a12a1ab154678c1c8f3 $</p>

<p><a href="Racc.html#Copyright"><code>Copyright</code></a> © 1999-2006 Minero Aoki</p>

<p>This program is free software. You can distribute/modify this program under the same terms of ruby. see the file “COPYING”.</p>

<p>$Id: 8ab2cb5341529fe5e35956bb1a1f42ec9b9c6f5a $</p>

<p><a href="Racc.html#Copyright"><code>Copyright</code></a> © 1999-2006 Minero Aoki</p>

<p>This program is free software. You can distribute/modify this program under the same terms of ruby. see the file “COPYING”.</p>

<p>$Id: 31aa4331c08dfd4609c06eb5f94b7ef38dc708e1 $</p>

<p><a href="Racc.html#Copyright"><code>Copyright</code></a> © 1999-2006 Minero Aoki</p>

<p>This program is free software. You can distribute/modify this program under the terms of the GNU LGPL, Lesser General Public License version 2.1. For details of the GNU LGPL, see the file “COPYING”.</p>

<p>$Id: 5e9d0a01b5d56fd9cdc3d5cb078b1a3e1bbaf779 $</p>

<p><a href="Racc.html#Copyright"><code>Copyright</code></a> © 1999-2006 Minero Aoki</p>

<p>This program is free software. You can distribute/modify this program under the terms of the GNU LGPL, Lesser General Public License version 2.1. For details of the GNU LGPL, see the file “COPYING”.</p>

<p><a href="Racc.html"><code>Racc</code></a> is a LALR(1) parser generator. It is written in Ruby itself, and generates Ruby programs.</p>

<h2 id="module-Racc-label-Command-line+Reference">Command-line Reference</h2>

<pre><code>racc [-o&lt;var&gt;filename&lt;/var&gt;] [--output-file=&lt;var&gt;filename&lt;/var&gt;]
     [-e&lt;var&gt;rubypath&lt;/var&gt;] [--embedded=&lt;var&gt;rubypath&lt;/var&gt;]
     [-v] [--verbose]
     [-O&lt;var&gt;filename&lt;/var&gt;] [--log-file=&lt;var&gt;filename&lt;/var&gt;]
     [-g] [--debug]
     [-E] [--embedded]
     [-l] [--no-line-convert]
     [-c] [--line-convert-all]
     [-a] [--no-omit-actions]
     [-C] [--check-only]
     [-S] [--output-status]
     [--version] [--copyright] [--help] &lt;var&gt;grammarfile&lt;/var&gt;
</code></pre>
<dl class="rdoc-list label-list"><dt><code>filename</code>
<dd>
<p><a href="Racc.html"><code>Racc</code></a> grammar file. Any extension is permitted.</p>
</dd><dt>-o+outfile+, –output-file=<code>outfile</code>
<dd>
<p>A filename for output. default is &lt;<code>filename</code>&gt;.tab.rb</p>
</dd><dt>-O+filename+, –log-file=<code>filename</code>
<dd>
<p>Place logging output in file <code>filename</code>. Default log file name is &lt;<code>filename</code>&gt;.output.</p>
</dd><dt>-e+rubypath+, –executable=<code>rubypath</code>
<dd>
<p>output executable file(mode 755). where <code>path</code> is the Ruby interpreter.</p>
</dd><dt>-v, –verbose
<dd>
<p>verbose mode. create <code>filename</code>.output file, like yacc&#39;s y.output file.</p>
</dd><dt>-g, –debug
<dd>
<p>add debug code to parser class. To display debuggin information, use this &#39;-g&#39; option and set @yydebug true in parser class.</p>
</dd><dt>-E, –embedded
<dd>
<p>Output parser which doesn&#39;t need runtime files (racc/parser.rb).</p>
</dd><dt>-C, –check-only
<dd>
<p>Check syntax of racc grammar file and quit.</p>
</dd><dt>-S, –output-status
<dd>
<p>Print messages time to time while compiling.</p>
</dd><dt>-l, –no-line-convert
<dd>
<p>turns off line number converting.</p>
</dd><dt>-c, –line-convert-all
<dd>
<p>Convert line number of actions, inner, header and footer.</p>
</dd><dt>-a, –no-omit-actions
<dd>
<p>Call all actions, even if an action is empty.</p>
</dd><dt>–version
<dd>
<p>print <a href="Racc.html"><code>Racc</code></a> version and quit.</p>
</dd><dt>–copyright
<dd>
<p>Print copyright and quit.</p>
</dd><dt>–help
<dd>
<p>Print usage and quit.</p>
</dd></dl>

<h2 id="module-Racc-label-Generating+Parser+Using+Racc">Generating <a href="Racc/Parser.html"><code>Parser</code></a> Using <a href="Racc.html"><code>Racc</code></a></h2>

<p>To compile <a href="Racc.html"><code>Racc</code></a> grammar file, simply type:</p>

<pre><code>$ racc parse.y
</code></pre>

<p>This creates Ruby script file “parse.tab.y”. The -o option can change the output filename.</p>

<h2 id="module-Racc-label-Writing+A+Racc+Grammar+File">Writing A <a href="Racc.html"><code>Racc</code></a> <a href="Racc/Grammar.html"><code>Grammar</code></a> <a href="File.html"><code>File</code></a></h2>

<p>If you want your own parser, you have to write a grammar file. A grammar file contains the name of your parser class, grammar for the parser, user code, and anything else. When writing a grammar file, yacc&#39;s knowledge is helpful. If you have not used yacc before, <a href="Racc.html"><code>Racc</code></a> is not too difficult.</p>

<p>Here&#39;s an example <a href="Racc.html"><code>Racc</code></a> grammar file.</p>

<pre><code>class Calcparser
rule
  target: exp { print val[0] }

  exp: exp &#39;+&#39; exp
     | exp &#39;*&#39; exp
     | &#39;(&#39; exp &#39;)&#39;
     | NUMBER
end
</code></pre>

<p><a href="Racc.html"><code>Racc</code></a> grammar files resemble yacc files. But (of course), this is Ruby code. yacc&#39;s $$ is the &#39;result&#39;, $0, $1… is an array called &#39;val&#39;, and $-1, $-2… is an array called &#39;_values&#39;.</p>

<p>See the Grammar File Reference for more information on grammar files.</p>

<h2 id="module-Racc-label-Parser"><a href="Racc/Parser.html"><code>Parser</code></a></h2>

<p>Then you must prepare the parse entry method. There are two types of parse methods in <a href="Racc.html"><code>Racc</code></a>, Racc::Parser#do_parse and Racc::Parser#yyparse</p>

<p>Racc::Parser#do_parse is simple.</p>

<p>It&#39;s yyparse() of yacc, and <a href="Racc/Parser.html#method-i-next_token"><code>Racc::Parser#next_token</code></a> is yylex(). This method must returns an array like [TOKENSYMBOL, ITS_VALUE]. EOF is [false, false]. (TOKENSYMBOL is a Ruby symbol (taken from <a href="String.html#method-i-intern"><code>String#intern</code></a>) by default. If you want to change this, see the grammar reference.</p>

<p>Racc::Parser#yyparse is little complicated, but useful. It does not use <a href="Racc/Parser.html#method-i-next_token"><code>Racc::Parser#next_token</code></a>, instead it gets tokens from any iterator.</p>

<p>For example, <code>yyparse(obj, :scan)</code> causes calling +obj#scan+, and you can return tokens by yielding them from +obj#scan+.</p>

<h2 id="module-Racc-label-Debugging">Debugging</h2>

<p>When debugging, “-v” or/and the “-g” option is helpful.</p>

<p>“-v” creates verbose log file (.output). “-g” creates a “Verbose Parser”. Verbose <a href="Racc/Parser.html"><code>Parser</code></a> prints the internal status when parsing. But it&#39;s <em>not</em> automatic. You must use -g option and set +@yydebug+ to <code>true</code> in order to get output. -g option only creates the verbose parser.</p>

<h3 id="module-Racc-label-Racc+reported+syntax+error."><a href="Racc.html"><code>Racc</code></a> reported syntax error.</h3>

<p>Isn&#39;t there too many “end”? grammar of racc file is changed in v0.10.</p>

<p><a href="Racc.html"><code>Racc</code></a> does not use &#39;%&#39; mark, while yacc uses huge number of &#39;%&#39; marks..</p>

<h3 id="module-Racc-label-Racc+reported+-22XXXX+conflicts-22."><a href="Racc.html"><code>Racc</code></a> reported “XXXX conflicts”.</h3>

<p>Try “racc -v xxxx.y”. It causes producing racc&#39;s internal log file, xxxx.output.</p>

<h3 id="module-Racc-label-Generated+parsers+does+not+work+correctly">Generated parsers does not work correctly</h3>

<p>Try “racc -g xxxx.y”. This command let racc generate “debugging parser”. Then set @yydebug=true in your parser. It produces a working log of your parser.</p>

<h2 id="module-Racc-label-Re-distributing+Racc+runtime">Re-distributing <a href="Racc.html"><code>Racc</code></a> runtime</h2>

<p>A parser, which is created by <a href="Racc.html"><code>Racc</code></a>, requires the <a href="Racc.html"><code>Racc</code></a> runtime module; racc/parser.rb.</p>

<p>Ruby 1.8.x comes with <a href="Racc.html"><code>Racc</code></a> runtime module, you need NOT distribute <a href="Racc.html"><code>Racc</code></a> runtime files.</p>

<p>If you want to include the <a href="Racc.html"><code>Racc</code></a> runtime module with your parser. This can be done by using &#39;-E&#39; option:</p>

<pre><code>$ racc -E -omyparser.rb myparser.y
</code></pre>

<p>This command creates myparser.rb which `includes&#39; <a href="Racc.html"><code>Racc</code></a> runtime. Only you must do is to distribute your parser file (myparser.rb).</p>

<p>Note: parser.rb is ruby license, but your parser is not. Your own parser is completely yours.</p>

<p>$Id: 3b2d89d9ada2f5fcb043837dcc5c9631856d5b70 $</p>

<p><a href="Racc.html#Copyright"><code>Copyright</code></a> © 1999-2006 Minero Aoki</p>

<p>This program is free software. You can distribute/modify this program under the terms of the GNU LGPL, Lesser General Public License version 2.1. For details of LGPL, see the file “COPYING”.</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/Accept.html">Racc::Accept</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/ActionTable.html">Racc::ActionTable</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/CompileError.html">Racc::CompileError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/CparseParams.html">Racc::CparseParams</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/DebugFlags.html">Racc::DebugFlags</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/Error.html">Racc::Error</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/Goto.html">Racc::Goto</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/Grammar.html">Racc::Grammar</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/GrammarFileParser.html">Racc::GrammarFileParser</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/GrammarFileScanner.html">Racc::GrammarFileScanner</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/ISet.html">Racc::ISet</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/Item.html">Racc::Item</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/LocationPointer.html">Racc::LocationPointer</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/LogFileGenerator.html">Racc::LogFileGenerator</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/OrMark.html">Racc::OrMark</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/ParseError.html">Racc::ParseError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/Parser.html">Racc::Parser</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/ParserClassGenerator.html">Racc::ParserClassGenerator</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/ParserFileGenerator.html">Racc::ParserFileGenerator</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/Prec.html">Racc::Prec</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/RRconflict.html">Racc::RRconflict</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/Reduce.html">Racc::Reduce</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/Rule.html">Racc::Rule</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/SRconflict.html">Racc::SRconflict</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/Shift.html">Racc::Shift</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/SourceText.html">Racc::SourceText</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/State.html">Racc::State</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/StateTransitionTable.html">Racc::StateTransitionTable</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/StateTransitionTableGenerator.html">Racc::StateTransitionTableGenerator</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/States.html">Racc::States</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/Sym.html">Racc::Sym</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/SymbolTable.html">Racc::SymbolTable</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Racc/UserAction.html">Racc::UserAction</a>
        </li>
      
    </ul>
  


  

  



  

    

    

    
      <!-- Section constants -->
      <h2 class="sectiontitle">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">Copyright</td>
            <td>=</td>
            <td class="attr-value">&#39;Copyright (c) 1999-2006 Minero Aoki&#39;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">GrammarFileParser</td>
            <td>=</td>
            <td class="attr-value">grammar.parser_class</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">PARSER_TEXT</td>
            <td>=</td>
            <td class="attr-value">&lt;&lt;&#39;__end_of_file__&#39;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">StateTransitionTable</td>
            <td>=</td>
            <td class="attr-value">Struct.new(:action_table,
:action_check,
:action_default,
:action_pointer,
:goto_table,
:goto_check,
:goto_default,
:goto_pointer,
:token_table,
:reduce_table,
:reduce_n,
:shift_n,
:nt_base,
:token_to_s_table,
:use_result_var,
:debug_parser)</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">&#39;1.4.16&#39;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">Version</td>
            <td>=</td>
            <td class="attr-value">VERSION</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
    
    
    
  
</div>

    </div>
  </body>
</html>
