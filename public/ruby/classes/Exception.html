<!DOCTYPE html>
<html lang="en">
<head>
    <title>Exception</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
<link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script type="text/javascript" charset="utf-8">
document.addEventListener("turbolinks:load", function() {
  // Only initialize panel if not yet initialized
  if(!$('#panel .tree ul li').length) {
    $('#links').hide();
    var panel = new Searchdoc.Panel($('#panel'), search_data, tree, '/');
    $('#search').focus();
    var s = window.location.search.match(/\?q=([^&]+)/);
    if (s) {
      s = decodeURIComponent(s[1]).replace(/\+/g, ' ');
      if (s.length > 0) {
        $('#search').val(s);
        panel.search(s, true);
      }
    }
    panel.toggle(["Exception"]);
  }
})
</script>



    <meta property="og:title" value="Exception">

  
    
    <meta name="description" content="Class Exception and its subclasses are used to communicate between Kernel#raise and rescue statements in begin ... end blocks.">
    <meta property="og:description" content="Class Exception and its subclasses are used to communicate between Kernel#raise and rescue statements in begin ... end blocks.">
  

    <meta name="keywords" content="Exception class, exception, to_tty?, exception, new, ==, to_s, message, full_message, inspect, backtrace, backtrace_locations, set_backtrace, cause, json_create, as_json, to_json">
</head>

<body>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<div class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</div>


    <div class="banner">
        
        <h2>
            <span class="type">Class</span>
            Exception
            
                <span class="parent">&lt;
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h2>
        <ul class="files">
            
            <li><a href="../files/ruby/error_c.html">ruby/error.c</a></li>
            
            <li><a href="../files/ruby/ext/json/lib/json/add/exception_rb.html">ruby/ext/json/lib/json/add/exception.rb</a></li>
            
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Class <a href="Exception.html"><code>Exception</code></a> and its subclasses are used to communicate between <a href="Kernel.html#method-i-raise"><code>Kernel#raise</code></a> and <code>rescue</code> statements in <code>begin ... end</code> blocks.</p>

<p>An <a href="Exception.html"><code>Exception</code></a> object carries information about an exception:</p>
<ul><li>
<p>Its type (the exception&#39;s class).</p>
</li><li>
<p>An optional descriptive message.</p>
</li><li>
<p>Optional backtrace information.</p>
</li></ul>

<p>Some built-in subclasses of <a href="Exception.html"><code>Exception</code></a> have additional methods: e.g., <a href="NameError.html#method-i-name"><code>NameError#name</code></a>.</p>

<h2 id="class-Exception-label-Defaults">Defaults</h2>

<p>Two Ruby statements have default exception classes:</p>
<ul><li>
<p><code>raise</code>: defaults to <a href="RuntimeError.html"><code>RuntimeError</code></a>.</p>
</li><li>
<p><code>rescue</code>: defaults to <a href="StandardError.html"><code>StandardError</code></a>.</p>
</li></ul>

<h2 id="class-Exception-label-Global+Variables">Global Variables</h2>

<p>When an exception has been raised but not yet handled (in <code>rescue</code>, <code>ensure</code>, <code>at_exit</code> and <code>END</code> blocks), two global variables are set:</p>
<ul><li>
<p><code>$!</code> contains the current exception.</p>
</li><li>
<p><code>$@</code> contains its backtrace.</p>
</li></ul>

<h2 id="class-Exception-label-Custom+Exceptions">Custom Exceptions</h2>

<p>To provide additional or alternate information, a program may create custom exception classes that derive from the built-in exception classes.</p>

<p>A good practice is for a library to create a single “generic” exception class (typically a subclass of <a href="StandardError.html"><code>StandardError</code></a> or <a href="RuntimeError.html"><code>RuntimeError</code></a>) and have its other exception classes derive from that class. This allows the user to rescue the generic exception, thus catching all exceptions the library may raise even if future versions of the library add new exception subclasses.</p>

<p>For example:</p>

<pre><code>class MyLibrary
  class Error &lt; ::StandardError
  end

  class WidgetError &lt; Error
  end

  class FrobError &lt; Error
  end

end
</code></pre>

<p>To handle both MyLibrary::WidgetError and MyLibrary::FrobError the library user can rescue MyLibrary::Error.</p>

<h2 id="class-Exception-label-Built-In+Exception+Classes">Built-In <a href="Exception.html"><code>Exception</code></a> Classes</h2>

<p>The built-in subclasses of <a href="Exception.html"><code>Exception</code></a> are:</p>
<ul><li>
<p><a href="NoMemoryError.html"><code>NoMemoryError</code></a></p>
</li><li>
<p><a href="ScriptError.html"><code>ScriptError</code></a></p>
<ul><li>
<p><a href="LoadError.html"><code>LoadError</code></a></p>
</li><li>
<p><a href="NotImplementedError.html"><code>NotImplementedError</code></a></p>
</li><li>
<p><a href="SyntaxError.html"><code>SyntaxError</code></a></p>
</li></ul>
</li><li>
<p><a href="SecurityError.html"><code>SecurityError</code></a></p>
</li><li>
<p><a href="SignalException.html"><code>SignalException</code></a></p>
<ul><li>
<p><a href="Interrupt.html"><code>Interrupt</code></a></p>
</li></ul>
</li><li>
<p><a href="StandardError.html"><code>StandardError</code></a></p>
<ul><li>
<p><a href="ArgumentError.html"><code>ArgumentError</code></a></p>
<ul><li>
<p><a href="UncaughtThrowError.html"><code>UncaughtThrowError</code></a></p>
</li></ul>
</li><li>
<p><a href="EncodingError.html"><code>EncodingError</code></a></p>
</li><li>
<p><a href="FiberError.html"><code>FiberError</code></a></p>
</li><li>
<p><a href="IOError.html"><code>IOError</code></a></p>
<ul><li>
<p><a href="EOFError.html"><code>EOFError</code></a></p>
</li></ul>
</li><li>
<p><a href="IndexError.html"><code>IndexError</code></a></p>
<ul><li>
<p><a href="KeyError.html"><code>KeyError</code></a></p>
</li><li>
<p><a href="StopIteration.html"><code>StopIteration</code></a></p>
<ul><li>
<p><a href="ClosedQueueError.html"><code>ClosedQueueError</code></a></p>
</li></ul>
</li></ul>
</li><li>
<p><a href="LocalJumpError.html"><code>LocalJumpError</code></a></p>
</li><li>
<p><a href="NameError.html"><code>NameError</code></a></p>
<ul><li>
<p><a href="NoMethodError.html"><code>NoMethodError</code></a></p>
</li></ul>
</li><li>
<p><a href="RangeError.html"><code>RangeError</code></a></p>
<ul><li>
<p><a href="FloatDomainError.html"><code>FloatDomainError</code></a></p>
</li></ul>
</li><li>
<p><a href="RegexpError.html"><code>RegexpError</code></a></p>
</li><li>
<p><a href="RuntimeError.html"><code>RuntimeError</code></a></p>
<ul><li>
<p><a href="FrozenError.html"><code>FrozenError</code></a></p>
</li></ul>
</li><li>
<p><a href="SystemCallError.html"><code>SystemCallError</code></a></p>
<ul><li>
<p>Errno::*</p>
</li></ul>
</li><li>
<p><a href="ThreadError.html"><code>ThreadError</code></a></p>
</li><li>
<p><a href="TypeError.html"><code>TypeError</code></a></p>
</li><li>
<p><a href="ZeroDivisionError.html"><code>ZeroDivisionError</code></a></p>
</li></ul>
</li><li>
<p><a href="SystemExit.html"><code>SystemExit</code></a></p>
</li><li>
<p><a href="SystemStackError.html"><code>SystemStackError</code></a></p>
</li><li>
<p>fatal</p>
</li></ul>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-3D-3D">==</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-as_json">as_json</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-backtrace">backtrace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-backtrace_locations">backtrace_locations</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-cause">cause</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-exception">exception</a>,
              </li>
            
              
              <li>
                <a href="#method-i-exception">exception</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-full_message">full_message</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>J</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-json_create">json_create</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-message">message</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-set_backtrace">set_backtrace</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_json">to_json</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>,
              </li>
            
              
              <li>
                <a href="#method-c-to_tty-3F">to_tty?</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
    
      <h2 class="sectiontitle">Class Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-c-exception">
            
              <b>exc.exception(string)  &rarr;  an_exception or exc
</b>
            
            <a href="../classes/Exception.html#method-c-exception" name="method-c-exception" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>With no argument, or if the argument is the same as the receiver, return the receiver. Otherwise, create a new exception object of the same class as the receiver, but with a message equal to <code>string.to_str</code>.</p>
            </div>
          

          

          

          
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-json_create">
            
              <b>json_create</b>(object)
            
            <a href="../classes/Exception.html#method-c-json_create" name="method-c-json_create" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Deserializes <a href="JSON.html"><code>JSON</code></a> string by constructing new <a href="Exception.html"><code>Exception</code></a> object with message <code>m</code> and backtrace <code>b</code> serialized with <code>to_json</code></p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-json_create_source')" id="l_method-c-json_create_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/46274982bb14fa0ba0a8d22c80be8d7154385b96/ext/json/lib/json/add/exception.rb#L10" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-json_create_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/ext/json/lib/json/add/exception.rb, line 10</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">json_create</span>(<span class="ruby-identifier">object</span>)
  <span class="ruby-identifier">result</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">object</span>[<span class="ruby-string">&#39;m&#39;</span>])
  <span class="ruby-identifier">result</span>.<span class="ruby-identifier">set_backtrace</span> <span class="ruby-identifier">object</span>[<span class="ruby-string">&#39;b&#39;</span>]
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-new">
            
              <b>Exception.new(msg = nil)   &rarr;  exception
</b>
            
            <a href="../classes/Exception.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Construct a new <a href="Exception.html"><code>Exception</code></a> object, optionally passing in a message.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre>static VALUE
exc_initialize(int argc, VALUE *argv, VALUE exc)
{
    VALUE arg;

    arg = (!rb_check_arity(argc, 0, 1) ? Qnil : argv[0]);
    return exc_init(exc, arg);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-c-to_tty-3F">
            
              <b>Exception.to_tty?   &rarr;  true or false
</b>
            
            <a href="../classes/Exception.html#method-c-to_tty-3F" name="method-c-to_tty-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if exception messages will be sent to a tty.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-to_tty-3F_source')" id="l_method-c-to_tty-3F_source">show</a>
                
              </p>
              <div id="method-c-to_tty-3F_source" class="dyn-source">
                <pre>static VALUE
exc_s_to_tty_p(VALUE self)
{
    return rb_stderr_tty_p() ? Qtrue : Qfalse;
}</pre>
              </div>
            </div>
            
          </div>
        
      
    
      <h2 class="sectiontitle">Instance Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-i-3D-3D">
            
              <b>exc == obj   &rarr; true or false
</b>
            
            <a href="../classes/Exception.html#method-i-3D-3D" name="method-i-3D-3D" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Equality—If <em>obj</em> is not an <a href="Exception.html"><code>Exception</code></a>, returns <code>false</code>. Otherwise, returns <code>true</code> if <em>exc</em> and <em>obj</em> share same class, messages, and backtrace.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-3D-3D_source')" id="l_method-i-3D-3D_source">show</a>
                
              </p>
              <div id="method-i-3D-3D_source" class="dyn-source">
                <pre>static VALUE
exc_equal(VALUE exc, VALUE obj)
{
    VALUE mesg, backtrace;

    if (exc == obj) return Qtrue;

    if (rb_obj_class(exc) != rb_obj_class(obj)) {
        int state;

        obj = rb_protect(try_convert_to_exception, obj, &amp;state);
        if (state || obj == Qundef) {
            rb_set_errinfo(Qnil);
            return Qfalse;
        }
        if (rb_obj_class(exc) != rb_obj_class(obj)) return Qfalse;
        mesg = rb_check_funcall(obj, id_message, 0, 0);
        if (mesg == Qundef) return Qfalse;
        backtrace = rb_check_funcall(obj, id_backtrace, 0, 0);
        if (backtrace == Qundef) return Qfalse;
    }
    else {
        mesg = rb_attr_get(obj, id_mesg);
        backtrace = exc_backtrace(obj);
    }

    if (!rb_equal(rb_attr_get(exc, id_mesg), mesg))
        return Qfalse;
    if (!rb_equal(exc_backtrace(exc), backtrace))
        return Qfalse;
    return Qtrue;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-as_json">
            
              <b>as_json</b>(*)
            
            <a href="../classes/Exception.html#method-i-as_json" name="method-i-as_json" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns a hash, that will be turned into a <a href="JSON.html"><code>JSON</code></a> object and represent this object.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-as_json_source')" id="l_method-i-as_json_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/46274982bb14fa0ba0a8d22c80be8d7154385b96/ext/json/lib/json/add/exception.rb#L18" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-as_json_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/ext/json/lib/json/add/exception.rb, line 18</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">as_json</span>(<span class="ruby-operator">*</span>)
  {
    <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">create_id</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>,
    <span class="ruby-string">&#39;m&#39;</span>            <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">message</span>,
    <span class="ruby-string">&#39;b&#39;</span>            <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">backtrace</span>,
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-backtrace">
            
              <b>exception.backtrace    &rarr; array or nil
</b>
            
            <a href="../classes/Exception.html#method-i-backtrace" name="method-i-backtrace" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns any backtrace associated with the exception. The backtrace is an array of strings, each containing either “filename:lineNo: in `method&#39;&#39;&#39; or “filename:lineNo.&#39;&#39;</p>

<pre><code>def a
  raise &quot;boom&quot;
end

def b
  a()
end

begin
  b()
rescue =&gt; detail
  print detail.backtrace.join(&quot;\n&quot;)
end
</code></pre>

<p><em>produces:</em></p>

<pre><code>prog.rb:2:in `a&#39;
prog.rb:6:in `b&#39;
prog.rb:10
</code></pre>

<p>In the case no backtrace has been set, <code>nil</code> is returned</p>

<pre><code>ex = StandardError.new
ex.backtrace
#=&gt; nil
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-backtrace_source')" id="l_method-i-backtrace_source">show</a>
                
              </p>
              <div id="method-i-backtrace_source" class="dyn-source">
                <pre>static VALUE
exc_backtrace(VALUE exc)
{
    VALUE obj;

    obj = rb_attr_get(exc, id_bt);

    if (rb_backtrace_p(obj)) {
        obj = rb_backtrace_to_str_ary(obj);
        /* rb_ivar_set(exc, id_bt, obj); */
    }

    return obj;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-backtrace_locations">
            
              <b>exception.backtrace_locations    &rarr; array or nil
</b>
            
            <a href="../classes/Exception.html#method-i-backtrace_locations" name="method-i-backtrace_locations" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns any backtrace associated with the exception. This method is similar to <a href="Exception.html#method-i-backtrace"><code>Exception#backtrace</code></a>, but the backtrace is an array of <a href="Thread/Backtrace/Location.html"><code>Thread::Backtrace::Location</code></a>.</p>

<p>This method is not affected by <a href="Exception.html#method-i-set_backtrace"><code>Exception#set_backtrace()</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-backtrace_locations_source')" id="l_method-i-backtrace_locations_source">show</a>
                
              </p>
              <div id="method-i-backtrace_locations_source" class="dyn-source">
                <pre>static VALUE
exc_backtrace_locations(VALUE exc)
{
    VALUE obj;

    obj = rb_attr_get(exc, id_bt_locations);
    if (!NIL_P(obj)) {
        obj = rb_backtrace_to_location_ary(obj);
    }
    return obj;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-cause">
            
              <b>exception.cause   &rarr; an_exception or nil
</b>
            
            <a href="../classes/Exception.html#method-i-cause" name="method-i-cause" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the previous exception ($!) at the time this exception was raised. This is useful for wrapping exceptions and retaining the original exception information.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-cause_source')" id="l_method-i-cause_source">show</a>
                
              </p>
              <div id="method-i-cause_source" class="dyn-source">
                <pre>static VALUE
exc_cause(VALUE exc)
{
    return rb_attr_get(exc, id_cause);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-exception">
            
              <b>exc.exception(string)  &rarr;  an_exception or exc
</b>
            
            <a href="../classes/Exception.html#method-i-exception" name="method-i-exception" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>With no argument, or if the argument is the same as the receiver, return the receiver. Otherwise, create a new exception object of the same class as the receiver, but with a message equal to <code>string.to_str</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-exception_source')" id="l_method-i-exception_source">show</a>
                
              </p>
              <div id="method-i-exception_source" class="dyn-source">
                <pre>static VALUE
exc_exception(int argc, VALUE *argv, VALUE self)
{
    VALUE exc;

    argc = rb_check_arity(argc, 0, 1);
    if (argc == 0) return self;
    if (argc == 1 &amp;&amp; self == argv[0]) return self;
    exc = rb_obj_clone(self);
    rb_ivar_set(exc, id_mesg, argv[0]);
    return exc;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-full_message">
            
              <b>exception.full_message(highlight: bool, order: [:top or :bottom]) &rarr;  string
</b>
            
            <a href="../classes/Exception.html#method-i-full_message" name="method-i-full_message" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns formatted string of <em>exception</em>. The returned string is formatted using the same format that Ruby uses when printing an uncaught exceptions to stderr.</p>

<p>If <em>highlight</em> is <code>true</code> the default error handler will send the messages to a tty.</p>

<p><em>order</em> must be either of <code>:top</code> or <code>:bottom</code>, and places the error message and the innermost backtrace come at the top or the bottom.</p>

<p>The default values of these options depend on <code>$stderr</code> and its <code>tty?</code> at the timing of a call.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-full_message_source')" id="l_method-i-full_message_source">show</a>
                
              </p>
              <div id="method-i-full_message_source" class="dyn-source">
                <pre>static VALUE
exc_full_message(int argc, VALUE *argv, VALUE exc)
{
    VALUE opt, str, emesg, errat;
    enum {kw_highlight, kw_order, kw_max_};
    static ID kw[kw_max_];
    VALUE args[kw_max_] = {Qnil, Qnil};

    rb_scan_args(argc, argv, &quot;0:&quot;, &amp;opt);
    if (!NIL_P(opt)) {
        if (!kw[0]) {
#define INIT_KW(n) kw[kw_##n] = rb_intern_const(#n)
            INIT_KW(highlight);
            INIT_KW(order);
#undef INIT_KW
        }
        rb_get_kwargs(opt, kw, 0, kw_max_, args);
        switch (args[kw_highlight]) {
          default:
            rb_raise(rb_eArgError, &quot;expected true or false as &quot;
                     &quot;highlight: %+&quot;PRIsVALUE, args[kw_highlight]);
          case Qundef: args[kw_highlight] = Qnil; break;
          case Qtrue: case Qfalse: case Qnil: break;
        }
        if (args[kw_order] == Qundef) {
            args[kw_order] = Qnil;
        }
        else {
            ID id = rb_check_id(&amp;args[kw_order]);
            if (id == id_bottom) args[kw_order] = Qtrue;
            else if (id == id_top) args[kw_order] = Qfalse;
            else {
                rb_raise(rb_eArgError, &quot;expected :top or :bottom as &quot;
                         &quot;order: %+&quot;PRIsVALUE, args[kw_order]);
            }
        }
    }
    str = rb_str_new2(&quot;&quot;);
    errat = rb_get_backtrace(exc);
    emesg = rb_get_message(exc);

    rb_error_write(exc, emesg, errat, str, args[kw_highlight], args[kw_order]);
    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-inspect">
            
              <b>exception.inspect   &rarr; string
</b>
            
            <a href="../classes/Exception.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Return this exception&#39;s class name and message.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre>static VALUE
exc_inspect(VALUE exc)
{
    VALUE str, klass;

    klass = CLASS_OF(exc);
    exc = rb_obj_as_string(exc);
    if (RSTRING_LEN(exc) == 0) {
        return rb_class_name(klass);
    }

    str = rb_str_buf_new2(&quot;#&lt;&quot;);
    klass = rb_class_name(klass);
    rb_str_buf_append(str, klass);
    rb_str_buf_cat(str, &quot;: &quot;, 2);
    rb_str_buf_append(str, exc);
    rb_str_buf_cat(str, &quot;&gt;&quot;, 1);

    return str;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-message">
            
              <b>exception.message   &rarr;  string
</b>
            
            <a href="../classes/Exception.html#method-i-message" name="method-i-message" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns the result of invoking <code>exception.to_s</code>. Normally this returns the exception&#39;s message or name.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-message_source')" id="l_method-i-message_source">show</a>
                
              </p>
              <div id="method-i-message_source" class="dyn-source">
                <pre>static VALUE
exc_message(VALUE exc)
{
    return rb_funcallv(exc, idTo_s, 0, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-set_backtrace">
            
              <b>exc.set_backtrace(backtrace)   &rarr;  array
</b>
            
            <a href="../classes/Exception.html#method-i-set_backtrace" name="method-i-set_backtrace" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Sets the backtrace information associated with <code>exc</code>. The <code>backtrace</code> must be an array of <a href="String.html"><code>String</code></a> objects or a single <a href="String.html"><code>String</code></a> in the format described in <a href="Exception.html#method-i-backtrace"><code>Exception#backtrace</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-set_backtrace_source')" id="l_method-i-set_backtrace_source">show</a>
                
              </p>
              <div id="method-i-set_backtrace_source" class="dyn-source">
                <pre>static VALUE
exc_set_backtrace(VALUE exc, VALUE bt)
{
    return rb_ivar_set(exc, id_bt, rb_check_backtrace(bt));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_json">
            
              <b>to_json</b>(*args)
            
            <a href="../classes/Exception.html#method-i-to_json" name="method-i-to_json" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Stores class name (<a href="Exception.html"><code>Exception</code></a>) with message <code>m</code> and backtrace array <code>b</code> as <a href="JSON.html"><code>JSON</code></a> string</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_json_source')" id="l_method-i-to_json_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/46274982bb14fa0ba0a8d22c80be8d7154385b96/ext/json/lib/json/add/exception.rb#L28" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_json_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ruby/ext/json/lib/json/add/exception.rb, line 28</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">as_json</span>.<span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_s">
            
              <b>exception.to_s   &rarr;  string
</b>
            
            <a href="../classes/Exception.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Returns exception&#39;s message (or the name of the exception if no message is set).</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre>static VALUE
exc_to_s(VALUE exc)
{
    VALUE mesg = rb_attr_get(exc, idMesg);

    if (NIL_P(mesg)) return rb_class_name(CLASS_OF(exc));
    return rb_String(mesg);
}</pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </div>
  </body>
</html>
